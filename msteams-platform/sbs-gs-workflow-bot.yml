### YamlMime:Tutorial
title: Criar bot de fluxo de trabalho do Teams
metadata:
  title: Criar bot de fluxo de trabalho do Teams
  description: Com este módulo de aprendizado, você aprenderá a criar um bot de fluxo de trabalho no Microsoft Teams com o recurso manipulador de ação Cartão Adaptável.
  audience: Developer
  level: Beginner
  ms.date: 28/09/2022
  ms.topic: interactive-tutorial
  nextTutorialHref: toolkit/add-capability.md
  nextTutorialTitle: Adicionar recursos aos aplicativos do Teams
  ms.custom: mvc
  ms.localizationpriority: none
  ms.openlocfilehash: 39ffa9600836fe58f243140c8a5379006df339eb
  ms.sourcegitcommit: 6926cf5eee55d5047c11ca13afc7f6f23e270396
  ms.translationtype: MT
  ms.contentlocale: pt-BR
  ms.lasthandoff: 10/27/2022
  ms.locfileid: "68740935"
items:
- durationInMinutes: 1
  content: >
    O bot de fluxo de trabalho permite que os usuários interajam com um Cartão Adaptável habilitado pelo recurso manipulador de ação Cartão Adaptável no aplicativo de bot de fluxo de trabalho. Quando você responde à ação cartão adaptável disparada, um fluxo de trabalho sequencial é concluído.

    Quando você obtém um Cartão Adaptável, ele fornece um ou mais botões no cartão para sua entrada. Você também pode chamar uma API e enviar outro Cartão Adaptável em sua conversa em resposta à ação do cartão.

    Neste tutorial, você aprenderá:
      * Como criar um bot de fluxo de trabalho com o Teams Toolkit.
      * Sobre a estrutura de diretório do seu aplicativo.
      * Personalize a instalação do bot com a resposta do Cartão Adaptável.

    Você pode ver a seguinte saída:


    :::image type="content" source="./assets/images/sbs-workflow-bot/sbs-workflow-bot-final-output.png" alt-text="Saída do bot de fluxo de trabalho.":::
- title: Pré-requisitos
  durationInMinutes: 1
  content: "Aqui está uma lista de ferramentas que você precisa para criar e implantar seus aplicativos.\n\n| &nbsp; | Instalar | Para usar |\n| --- | --- | --- |\n| **Required** | &nbsp; | &nbsp; |\n| &nbsp; | [Código do Visual Studio](https://code.visualstudio.com/download) | JavaScript ou TypeScript, ambientes de build. Use a versão mais recente. |\n| &nbsp; | [Kit de ferramentas do Teams](#install-the-teams-toolkit) | Uma extensão do Microsoft Visual Studio Code que cria um scaffolding de projeto para seu aplicativo. Use a versão 4.0.0.|\n| &nbsp; | [Node.js](https://nodejs.org/en/download/) | Ambiente de runtime do JavaScript de back-end. Use a versão 14 ou 16.|\n| &nbsp; | [Microsoft Teams](https://www.microsoft.com/microsoft-teams/download-app) | Microsoft Teams para colaborar com todos com quem você trabalha por meio de aplicativos para chat, reuniões, chamadas e tudo em um só lugar.|\n| &nbsp; | [Microsoft&nbsp; Edge](https://www.microsoft.com/edge) (recomendado) ou [Google Chrome](https://www.google.com/chrome/) | Um navegador com ferramentas de desenvolvedor. |\n| &nbsp; | [Conta de desenvolvedor do Microsoft 365](/microsoftteams/platform/concepts/build-and-test/prepare-your-o365-tenant) | Acesso à conta do Teams com as permissões apropriadas para instalar um aplicativo. |\n> [!NOTE]\n> O guia é testado no Teams Toolkit versão 4.0.0 e nodejs versão 14 e 16. As etapas neste guia podem funcionar com outras versões, mas isso não foi testado.\n\n## <a name=\"prepare-development-environment\"></a>Preparar o ambiente de desenvolvimento\nDepois de instalar as ferramentas necessárias, configure o ambiente de desenvolvimento.\n\n### <a name=\"install-the-teams-toolkit\"></a>Instalar o Kit de Ferramentas do Teams\nO Kit de Ferramentas do Teams ajuda a simplificar o processo de desenvolvimento com ferramentas para provisionar e implantar recursos de nuvem para seu aplicativo, publicar na loja do Teams e muito mais. \n\nVocê pode usar o kit de ferramentas com Visual Studio Code ou CLI (interface de linha de comando) chamada `TeamsFx`.\n\n# <a name=\"visual-studio-code\"></a>[Código do Visual Studio](#tab/vscode)\n\n1. Abra Visual Studio Code e selecione **Extensões** (**Ctrl+Shift+X** / **⌘⇧-X** ou **Exibir extensões >**).\n1. Na caixa de pesquisa, **insira o Kit de Ferramentas do Teams**.\n1. Selecione **Instalar** ao lado do Kit de Ferramentas do Teams.\n   :::image type=\"content\" source=\"~/assets/images/sbs-command-bot/teams-toolkit.png\" alt-text=\"A ilustração mostra a instalação da extensão do Teams Toolkit.\":::\n\nA Ilustração do Kit de Ferramentas :::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/prerequisites/hw-teams-toolkit-sidebar-icon.png\" alt-text=\"do Teams mostra o ícone kit de ferramentas do Teams na barra lateral Visual Studio Code.\"::: o ícone é exibido na Barra lateral Visual Studio Code depois de instalado.\n    \nVocê também pode encontrar o Kit de Ferramentas do Teams no [Visual Studio Code Marketplace](https://marketplace.visualstudio.com/items?itemName=TeamsDevApp.ms-teams-vscode-extension).\n\n# <a name=\"command-line\"></a>[Linha de comando](#tab/cli)\nPara instalar a CLI do TeamsFx, use o gerenciador de `npm` pacotes:\n``` bash\nnpm install -g @microsoft/teamsfx-cli\n```\nDependendo da configuração, talvez seja necessário usar `sudo` para instalar a CLI:\n``` bash\nsudo npm install -g --unsafe-perm @microsoft/teamsfx-cli\n```\nÉ mais comum em sistemas Linux e macOS.\nCertifique-se de adicionar o cache global npm ao SEU PATH. Normalmente, essa etapa é feita como parte do instalador de Node.js.  \nVocê pode usar a CLI com o `teamsfx` comando. Verifique se o comando está funcionando executando `teamsfx -h`.\n\n> [!NOTE]\n> Antes de executar o TeamsFx em terminais do PowerShell, certifique-se de habilitar a política de execução **assinada remota** para o PowerShell.\n\n## <a name=\"set-up-your-teams-development-tenant\"></a>Configurar seu locatário de desenvolvimento do Teams\nUm **locatário** é como um espaço ou um contêiner em que você conversa, compartilha arquivos e executa reuniões para sua organização no Teams. Você também pode carregar e testar seu aplicativo.\n### <a name=\"check-for-sideloading-option\"></a>Verificar a opção sideload\nDepois de criar o aplicativo, você deve carregar seu aplicativo no Teams sem distribuí-lo. Isso é conhecido como sideload. Entre em sua conta do Microsoft 365 para exibir essa opção.\n> [!NOTE]\n> O sideload é necessário para visualizar e testar aplicativos no ambiente local do Teams. Habilite o Sideloading para visualizar e testar seu aplicativo no Teams localmente.\n\nVocê já tem um locatário e tem acesso ao administrador? Vamos verificar se você realmente faz!\nPara verificar aplicativos de sideload no Teams:\n1. No cliente do Teams, selecione **Armazenar** .\n1. Selecione **Gerenciar seus aplicativos**.\n1. Selecione **Publicar um aplicativo**.\n1. Procure a opção para **Carregar um aplicativo personalizado**. Se você vir a opção, os aplicativos de sideload estarão habilitados.\n    :::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/prerequisites/upload-custom-app.png\" alt-text=\"A ilustração mostra a opção de carregar um aplicativo personalizado no Teams.\":::\n    > [!NOTE]\n    > Entre em contato com o administrador do Teams, se você não tiver a opção de carregar um aplicativo personalizado.\n### <a name=\"create-a-free-teams-developer-tenant-optional\"></a>Criar um locatário de desenvolvedor gratuito do Teams (opcional)\nSe você não tiver uma conta de desenvolvedor do Teams, poderá obtê-la gratuitamente. Ingresse no programa de desenvolvedor do Microsoft 365!\n1. Acesse o [Programa para desenvolvedores do Microsoft 365](https://developer.microsoft.com/microsoft-365/dev-program).\n1. Selecione **Ingressar Agora** e siga as instruções na tela.\n1. Selecione **Configurar assinatura E5** na tela de boas-vindas.\n1. Configurar a conta de administrador. Depois de concluir, a tela a seguir será exibida.\n   :::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/prerequisites/microsoft-365.png\" alt-text=\"Microsoft\":::\n1. Entre no Teams usando a nova conta de administrador. Agora você deve ter a opção **Carregar um aplicativo personalizado** .\n"
- title: Criar bot de fluxo de trabalho
  durationInMinutes: 5
  content: "Para criar um bot de fluxo de trabalho usando Visual Studio Code, execute as seguintes etapas:\n1. Abra o Visual Studio Code.\n1. Selecione o ícone **Kit de** :::image type=\"icon\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/teams-toolkit-sidebar-icon.png\"::: Ferramentas do Teams na Barra Lateral Visual Studio Code.\n1. Selecione **Criar um novo aplicativo do Teams** .\n  \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-create.png\" alt-text=\"crie um novo aplicativo teams no painel lateral.\":::\n\n1. Selecione **Criar uma opção de aplicativo do Teams** para criar um aplicativo usando o Teams Toolkit.\n\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-teams-app.png\" alt-text=\" selecione a opção criar um novo aplicativo teams.\":::\n\n1. Em **Aplicativos do Teams baseados em cenário**, selecione **Bot de fluxo de trabalho** como a funcionalidade que você deseja criar em seu aplicativo.\n\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-capabilities-workflow.png\" alt-text=\" selecionar opção Bot de fluxo de trabalho para recursos\" lightbox=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-capabilities-workflow.png\":::\n\n1. Selecione **TypeScript** como a linguagem de programação.\n\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-program-lang.png\" alt-text=\" selecionar script de tipo de opção para linguagem de programação\":::\n\n1. Selecione **Pasta padrão** para armazenar sua pasta raiz do projeto no local padrão.\n  \n    > [!NOTE]\n    > Você também pode alterar o local padrão selecionando **Procurar...**\n    \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-workspace-folder.png\" alt-text=\" selecione para adicionar pasta de workspace\":::\n   \n1. Insira um nome adequado para seu aplicativo, como o bot de fluxo de trabalho como o nome do aplicativo.\n    > [!NOTE]\n    > Verifique se você usa apenas caracteres alfanuméricos no nome do aplicativo.\n    \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-app-name.png\" alt-text=\"inserir nome do aplicativo\":::\n\n1. Selecione **Enter**.\n    \n1. O bot de fluxo de trabalho é criado em alguns segundos e você pode ver o scaffolding.\n    \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-scaffolding1.png\" alt-text=\"seu aplicativo é criado com o scaffolding visível no painel lateral\":::\n\n1. Selecione **Ícone Executar e Depurar** :::image type=\"icon\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/run-debug-icon.png\"::: na Barra Lateral Visual Studio Code.\n\n1. Selecione **Depuração (Edge)** ou **Depuração (Chrome)** na lista suspensa.\n\n   :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-local-debug1.png\" alt-text=\"seu aplicativo é criado com o scaffolding visível no painel lateral\":::    \n\n1. Selecione **Iniciar Depuração**.\n\n1. Selecione **Adicionar**.\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-add-app.png\" alt-text=\"selecione adicionar para adicionar seu aplicativo de bot de fluxo de trabalho\":::\n### <a name=\"take-tour-of-source-code\"></a>Faça um tour pelo código-fonte\nO Teams Toolkit fornece componentes para a criação de um aplicativo. Depois de criar o projeto, você pode exibir as pastas e arquivos do projeto na área do Explorer de Visual Studio Code para JavaScript/TypeScript. \n\n:::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-scaffolding2.png\" alt-text=\"selecione adicionar para adicionar seu aplicativo de bot de fluxo de trabalho\":::\n\n\nO bot criado é um projeto normal do TeamsFx que contém as seguintes pastas:\n\n| Folder | Conteúdo |\n|   ---  |   ---   |\n|`.fx`   | Configurações, configurações e informações de ambiente no nível do projeto.|\n|`.vscode`| Visual Studio Code arquivos para depuração local |\n|`bot`   | O código-fonte do aplicativo teams do bot de fluxo de trabalho.|\n|`templates`| Modelos para o manifesto do aplicativo teams e para provisionar recursos do Azure.|\n\nA implementação principal do bot do Teams está na `bot/` pasta. Os arquivos a seguir em `bot/` pasta fornecem a lógica de negócios para o bot de fluxo de trabalho.\nEsses arquivos podem ser atualizados para atender aos requisitos lógicos de negócios. A implementação padrão fornece um ponto de partida para ajudá-lo a começar:\n\n| Folder | Conteúdo |\n|   ---  |   ---   |\n|`src/index.js(ts)` | Ponto de entrada do aplicativo e `restify` manipuladores para o bot de fluxo de trabalho.|\n|`src/adaptiveCards/helloworldCommand.json` | Um Cartão Adaptável gerado que é enviado para o Teams. |\n|`src/commands/helloworldCommandHandler.js(ts)` | Responde à mensagem de comando.|\n|`src/cardActions/doStuffActionHandler.js(ts)` | Responde à ação do `doStuff` cartão.|\n|`src/cardModels.js(ts)` | O modelo padrão de dados do Cartão Adaptável.|\n\nO arquivo a seguir implementa o bot de fluxo de trabalho principal no Bot Framework, geralmente você não precisa personalizar este arquivo:\n\n| Arquivo/Pasta | Conteúdo |\n|   ---  |   ---   |\n| `src/internal/initialize.js(ts)`| Inicialização do aplicativo e tratamento de mensagens de bot.|\n\nOs arquivos a seguir são arquivos relacionados ao projeto, você geralmente não precisa personalizar esses arquivos:\n\n| Arquivo/Pasta | Conteúdo |\n|   ---  |   ---   |\n| `.gitignore` | Git ignorar arquivo|\n| `package.json` | Arquivo de pacote NPM|\n"
- title: Interação com o bot de fluxo de trabalho
  durationInMinutes: 2
  content: "Você pode interagir com o bot no Teams enviando um comando helloWorld. Depois de executar esse modelo, você obtém uma resposta e selecione o **bot de fluxo de trabalho** e **Enter**.\n :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-action-response.png\" alt-text=\"selecione adicionar para adicionar seu aplicativo de bot de fluxo de trabalho\":::\n\nVocê receberá a seguinte resposta de comando no Cartão Adaptável: :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-debug-output1.png\" alt-text=\"selecione adicionar para adicionar seu aplicativo bot de fluxo de trabalho\":::\n\nEm seguida, você pode selecionar o botão **DoStuff** para invocar a ação, que responde com o seguinte Cartão Adaptável atualizado: :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-debug-output2.png\" alt-text=\"selecione adicionar para adicionar seu aplicativo bot de fluxo de trabalho\":::\n   \n"
- title: Desafio completo
  durationInMinutes: 1
  content: >
    Você veio com algo assim?


    :::image type="content" source="./assets/images/sbs-workflow-bot/sbs-workflow-bot-debug-output2.png" alt-text="selecione adicionar para adicionar seu aplicativo de bot de fluxo de trabalho":::
- content: Você concluiu o tutorial para começar a usar o bot de fluxo de trabalho para o Microsoft Teams.
