---
title: Autenticando usuários de aplicativos
description: Descreve a autenticação no Teams e como usá-la nos aplicativos
ms.topic: conceptual
localization_priority: Normal
keywords: Autenticação do teams OAuth SSO AAD
ms.openlocfilehash: 23e0e500ee041afa191e9381b6f69b4c3881c391
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/26/2021
ms.locfileid: "52019969"
---
# <a name="authenticate-users-in-microsoft-teams"></a><span data-ttu-id="b32ec-104">Autenticar usuários no Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="b32ec-104">Authenticate users in Microsoft Teams</span></span>

> [!NOTE]
> <span data-ttu-id="b32ec-105">A autenticação baseada na Web em clientes móveis requer a versão 1.4.1 ou posterior do SDK JavaScript do Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-105">Web-based authentication on mobile clients requires version 1.4.1 or later of the Microsoft Teams JavaScript SDK.</span></span>

<span data-ttu-id="b32ec-106">Para acessar informações do usuário protegidas pelo Azure Active Directory (AAD) e acessar dados de serviços como Facebook e Twitter, o aplicativo estabelece uma conexão confiável com esses provedores.</span><span class="sxs-lookup"><span data-stu-id="b32ec-106">To access user information protected by Azure Active Directory (AAD) and to access data from services like Facebook and Twitter, the app establishes a trusted connection with those providers.</span></span> <span data-ttu-id="b32ec-107">Se o aplicativo usar APIs do Microsoft Graph no escopo do usuário, autenture o usuário para recuperar os tokens de autenticação apropriados.</span><span class="sxs-lookup"><span data-stu-id="b32ec-107">If the app uses Microsoft Graph APIs in the user scope, authenticate the user to retrieve the appropriate authentication tokens.</span></span>

<span data-ttu-id="b32ec-108">No Teams, há dois fluxos de autenticação diferentes para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b32ec-108">In Teams, there are two different authentication flows for the app.</span></span> <span data-ttu-id="b32ec-109">Execute um fluxo de autenticação baseado na Web tradicional em uma página [de conteúdo](~/tabs/how-to/create-tab-pages/content-page.md) inserida em uma guia, uma página de configuração ou um módulo de tarefa.</span><span class="sxs-lookup"><span data-stu-id="b32ec-109">Perform a traditional web-based authentication flow in a [content page](~/tabs/how-to/create-tab-pages/content-page.md) embedded in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="b32ec-110">Se o aplicativo contiver um bot de conversa, use o fluxo OAuthPrompt e, opcionalmente, o serviço de token do Azure Bot Framework para autenticar um usuário como parte de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="b32ec-110">If the app contains a conversational bot, use the OAuthPrompt flow and optionally the Azure Bot Framework's token service to authenticate a user as part of a conversation.</span></span>

## <a name="web-based-authentication-flow"></a><span data-ttu-id="b32ec-111">Fluxo de autenticação baseado na Web</span><span class="sxs-lookup"><span data-stu-id="b32ec-111">Web-based authentication flow</span></span>

<span data-ttu-id="b32ec-112">Use o fluxo de autenticação baseado na Web para [guias](~/tabs/what-are-tabs.md) e escolha usá-lo com [bots](~/bots/what-are-bots.md) de conversa ou extensões [de mensagens.](~/messaging-extensions/what-are-messaging-extensions.md)</span><span class="sxs-lookup"><span data-stu-id="b32ec-112">Use the web-based authentication flow for [tabs](~/tabs/what-are-tabs.md) and choose to use it with [conversational bots](~/bots/what-are-bots.md) or [messaging extensions](~/messaging-extensions/what-are-messaging-extensions.md).</span></span> <span data-ttu-id="b32ec-113">Use o [SDK do cliente JavaScript](/javascript/api/overview/msteams-client) do Microsoft Teams em uma página de conteúdo da Web para habilitar a autenticação.</span><span class="sxs-lookup"><span data-stu-id="b32ec-113">Use the [Microsoft Teams JavaScript client SDK](/javascript/api/overview/msteams-client) in a web content page to enable authentication.</span></span> <span data-ttu-id="b32ec-114">Depois de habilite a autenticação, insiro a página de conteúdo em uma guia, uma página de configuração ou um módulo de tarefa.</span><span class="sxs-lookup"><span data-stu-id="b32ec-114">After enabling authentication, embed the content page in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="b32ec-115">Para obter mais informações sobre o fluxo de autenticação baseado na Web, consulte:</span><span class="sxs-lookup"><span data-stu-id="b32ec-115">For more information on web-based authentication flow, see:</span></span>

* <span data-ttu-id="b32ec-116">[Adicionar autenticação ao bot do Teams](~/bots/how-to/authentication/add-authentication.md) descreve como usar o fluxo de autenticação baseado na Web com um bot de conversa.</span><span class="sxs-lookup"><span data-stu-id="b32ec-116">[Add authentication to the Teams bot](~/bots/how-to/authentication/add-authentication.md) describes how to use web-based authentication flow with a conversational bot.</span></span>
* <span data-ttu-id="b32ec-117">[O fluxo de autenticação nas guias](~/tabs/how-to/authentication/auth-flow-tab.md) descreve como a autenticação de tabulação funciona no Teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-117">[Authentication flow in tabs](~/tabs/how-to/authentication/auth-flow-tab.md) describes how tab authentication works in Teams.</span></span> <span data-ttu-id="b32ec-118">Isso mostra um fluxo de autenticação baseado na Web típico usado para guias.</span><span class="sxs-lookup"><span data-stu-id="b32ec-118">This shows a typical web-based authentication flow used for tabs.</span></span>
* <span data-ttu-id="b32ec-119">[A autenticação AAD em guias](~/tabs/how-to/authentication/auth-tab-AAD.md) descreve como se conectar ao AAD de dentro de uma guia no aplicativo no Teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-119">[AAD authentication in tabs](~/tabs/how-to/authentication/auth-tab-AAD.md) describes how to connect to AAD from within a tab in the app in Teams.</span></span>
* <span data-ttu-id="b32ec-120">[Autenticação silenciosa O AAD](~/tabs/how-to/authentication/auth-silent-AAD.md) descreve como reduzir os prompts de login ou consentimento no aplicativo usando o AAD.</span><span class="sxs-lookup"><span data-stu-id="b32ec-120">[Silent authentication AAD](~/tabs/how-to/authentication/auth-silent-AAD.md) describes how to reduce sign-in or consent prompts in the app using AAD.</span></span>
* <span data-ttu-id="b32ec-121">[O .Net ou C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) ou [JavaScript ou Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node) fornece exemplos para autenticação baseada na Web.</span><span class="sxs-lookup"><span data-stu-id="b32ec-121">[.Net or C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) or [JavaScript or Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node) provides samples for web-based authentication.</span></span>

## <a name="the-oauthprompt-flow-for-conversational-bots"></a><span data-ttu-id="b32ec-122">O fluxo OAuthPrompt para bots de conversa</span><span class="sxs-lookup"><span data-stu-id="b32ec-122">The OAuthPrompt flow for conversational bots</span></span>

<span data-ttu-id="b32ec-123">O OAuthPrompt da Estrutura de Bots do Azure facilita a autenticação para aplicativos que usam bots de conversa.</span><span class="sxs-lookup"><span data-stu-id="b32ec-123">The Azure Bot Framework’s OAuthPrompt makes authentication easier for apps using conversational bots.</span></span> <span data-ttu-id="b32ec-124">Use o serviço de token do Azure Bot Framework para ajudar no cache de token.</span><span class="sxs-lookup"><span data-stu-id="b32ec-124">Use Azure Bot Framework's token service to assist with token caching.</span></span>

<span data-ttu-id="b32ec-125">Para obter mais informações sobre como usar o OAuthPrompt, consulte:</span><span class="sxs-lookup"><span data-stu-id="b32ec-125">For more information on using the OAuthPrompt, see:</span></span>

* <span data-ttu-id="b32ec-126">[Visão geral do fluxo de](~/bots/how-to/authentication/auth-flow-bot.md) autenticação bot descreve como a autenticação funciona em um bot no aplicativo no Teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-126">[Bot authentication flow overview](~/bots/how-to/authentication/auth-flow-bot.md) describes how authentication works within a bot in the app in Teams.</span></span> <span data-ttu-id="b32ec-127">Isso mostra um fluxo de autenticação não baseado na Web usado para bots na Web do Teams, aplicativo de área de trabalho e aplicativos móveis.</span><span class="sxs-lookup"><span data-stu-id="b32ec-127">This shows a non-web-based authentication flow used for bots on Teams web, desktop app, and mobile apps.</span></span>
* <span data-ttu-id="b32ec-128">[A autenticação](~/bots/how-to/authentication/add-authentication.md) bot descreve como adicionar autenticação OAuth ao bot do Teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-128">[Bot authentication](~/bots/how-to/authentication/add-authentication.md) describes how to add OAuth authentication to the Teams bot.</span></span>

## <a name="code-sample"></a><span data-ttu-id="b32ec-129">Exemplo de código</span><span class="sxs-lookup"><span data-stu-id="b32ec-129">Code sample</span></span>

<span data-ttu-id="b32ec-130">fornece exemplo de SDK de autenticação de bot v3.</span><span class="sxs-lookup"><span data-stu-id="b32ec-130">provides Bot authentication v3 SDK sample.</span></span>

| <span data-ttu-id="b32ec-131">**Exemplo de nome**</span><span class="sxs-lookup"><span data-stu-id="b32ec-131">**Sample name**</span></span> | <span data-ttu-id="b32ec-132">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b32ec-132">**Description**</span></span> | <span data-ttu-id="b32ec-133">**.NET**</span><span class="sxs-lookup"><span data-stu-id="b32ec-133">**.NET**</span></span> | <span data-ttu-id="b32ec-134">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="b32ec-134">**Node.js**</span></span> | <span data-ttu-id="b32ec-135">**Python**</span><span class="sxs-lookup"><span data-stu-id="b32ec-135">**Python**</span></span> |
|---------------|------------|------------|-------------|---------------|
| <span data-ttu-id="b32ec-136">Autenticação bot</span><span class="sxs-lookup"><span data-stu-id="b32ec-136">Bot authentication</span></span> | <span data-ttu-id="b32ec-137">Este exemplo mostra como começar a usar a autenticação em um bot para o Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-137">This sample shows how to get started with authentication in a bot for Microsoft Teams.</span></span> | [<span data-ttu-id="b32ec-138">View</span><span class="sxs-lookup"><span data-stu-id="b32ec-138">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/46.teams-auth) | [<span data-ttu-id="b32ec-139">View</span><span class="sxs-lookup"><span data-stu-id="b32ec-139">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/46.teams-auth) | [<span data-ttu-id="b32ec-140">View</span><span class="sxs-lookup"><span data-stu-id="b32ec-140">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/46.teams-auth) |

## <a name="configure-the-identity-provider"></a><span data-ttu-id="b32ec-141">Configurar o provedor de identidade</span><span class="sxs-lookup"><span data-stu-id="b32ec-141">Configure the identity provider</span></span>

<span data-ttu-id="b32ec-142">Independentemente do fluxo de autenticação do aplicativo, configure o provedor de identidade para se comunicar com o aplicativo teams.</span><span class="sxs-lookup"><span data-stu-id="b32ec-142">Regardless of the app's authentication flow, configure the identity provider to communicate with the Teams app.</span></span> <span data-ttu-id="b32ec-143">A maioria dos exemplos e passo a passo lida principalmente com o uso do AAD como provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="b32ec-143">Most samples and walkthroughs primarily deal with using AAD as the identity provider.</span></span> <span data-ttu-id="b32ec-144">No entanto, os conceitos se aplicam independentemente do provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="b32ec-144">The concepts, however, apply regardless of the identity provider.</span></span>

<span data-ttu-id="b32ec-145">Para obter mais informações, consulte [configuring an identity provider](~/concepts/authentication/configure-identity-provider.md).</span><span class="sxs-lookup"><span data-stu-id="b32ec-145">For more information, see [configuring an identity provider](~/concepts/authentication/configure-identity-provider.md).</span></span>
