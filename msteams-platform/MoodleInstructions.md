---
title: Instalando a integração do Moodle com o Microsoft Teams
description: Como instalar e configurar o aplicativo de integração do Moodle para o Microsoft Teams
keywords: Moodle de integração do aplicativo Teams
ms.date: 01/31/2019
ms.openlocfilehash: 012d6e9c979386e892b5a47b7655208eca95e11a
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/01/2020
ms.locfileid: "41672423"
---
# <a name="installing-the-moodle-integration-with-microsoft-teams"></a><span data-ttu-id="4cecf-104">Instalando a integração do Moodle com o Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="4cecf-104">Installing the Moodle integration with Microsoft Teams</span></span>

> [!VIDEO https://www.youtube.com/embed/OHlPt22nKoE]

<span data-ttu-id="4cecf-105">[Moodle](https://moodle.org/), o sistema de gerenciamento de aprendizado (LMS) mais popular e de código-fonte aberto do mundo agora está integrado ao Microsoft Teams!</span><span class="sxs-lookup"><span data-stu-id="4cecf-105">[Moodle](https://moodle.org/), the most popular and open-source Learning Management System (LMS) in the world, is now integrated with Microsoft Teams!</span></span> <span data-ttu-id="4cecf-106">Essa integração ajuda professores e professores a colaborar em torno de cursos do Moodle, fazer perguntas sobre suas notas e notas e permanecer atualizadas com notificações--diretamente no Microsoft Teams!</span><span class="sxs-lookup"><span data-stu-id="4cecf-106">This integration helps educators and teachers collaborate around Moodle courses, ask questions about their grades and assignments and stay updated with notifications -- right within Teams!</span></span>

<span data-ttu-id="4cecf-107">Para ajudar os administradores de ti a definir facilmente essa integração, atualizamos nosso plug-in do Office 365 Moodle de código aberto com os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="4cecf-107">To help IT admins easily set this integration up, we have updated our open-source Office 365 Moodle Plugin with the following capabilities:</span></span>

* <span data-ttu-id="4cecf-108">Registro automático do seu servidor do Moodle com o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4cecf-108">Auto-registration of your Moodle server with Azure AD.</span></span>
* <span data-ttu-id="4cecf-109">Implantação de um clique do seu bot Assistant do Moodle para o Azure.</span><span class="sxs-lookup"><span data-stu-id="4cecf-109">One-click deployment of your Moodle Assistant bot to Azure.</span></span>
* <span data-ttu-id="4cecf-110">Provisionamento automático do Microsoft Teams e da sincronização automática de inscrições de equipe para todos ou selecionar cursos do Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-110">Auto-provisioning of teams and auto-synchronization of team enrollments for all or select Moodle courses.</span></span>
* <span data-ttu-id="4cecf-111">Instalação automática da guia Moodle e do bot Assistant do Moodle em cada equipe sincronizada.</span><span class="sxs-lookup"><span data-stu-id="4cecf-111">Auto-installation of the Moodle tab and the Moodle Assistant bot into each synchronized team.</span></span> <span data-ttu-id="4cecf-112">(Em breve)</span><span class="sxs-lookup"><span data-stu-id="4cecf-112">(Coming soon)</span></span>
* <span data-ttu-id="4cecf-113">Publicação de um clique do aplicativo Moodle em sua loja de aplicativos do Private Teams.</span><span class="sxs-lookup"><span data-stu-id="4cecf-113">One-click publishing of the Moodle app into your private Teams App Store.</span></span> <span data-ttu-id="4cecf-114">(Em breve)</span><span class="sxs-lookup"><span data-stu-id="4cecf-114">(Coming soon)</span></span>

<span data-ttu-id="4cecf-115">Para saber mais sobre a funcionalidade que essa integração fornece, acesse [aqui](https://education.microsoft.com/courses-and-resources/resources/microsoft-teams-moodle).</span><span class="sxs-lookup"><span data-stu-id="4cecf-115">To learn more about the functionality this integration provides, go [here](https://education.microsoft.com/courses-and-resources/resources/microsoft-teams-moodle).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="4cecf-116">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="4cecf-116">Prerequisites</span></span>

<span data-ttu-id="4cecf-117">Para instalar e configurar este aplicativo, você precisará de:</span><span class="sxs-lookup"><span data-stu-id="4cecf-117">In order to install and configure this application you'll need:</span></span>

1. <span data-ttu-id="4cecf-118">Credenciais de administrador do Moodle</span><span class="sxs-lookup"><span data-stu-id="4cecf-118">Moodle administrator credentials</span></span>
2. <span data-ttu-id="4cecf-119">Credenciais de administrador do Azure AD</span><span class="sxs-lookup"><span data-stu-id="4cecf-119">Azure AD administrator credentials</span></span>
3. <span data-ttu-id="4cecf-120">Uma assinatura do Azure você pode criar novos recursos no</span><span class="sxs-lookup"><span data-stu-id="4cecf-120">An Azure subscription you can create new resources in</span></span>

## <a name="step-1-install-the-office-365-moodle-plugin"></a><span data-ttu-id="4cecf-121">Etapa 1: instalar o plug-in Moodle do Office 365</span><span class="sxs-lookup"><span data-stu-id="4cecf-121">Step 1: Install the Office 365 Moodle Plugin</span></span>

> [!VIDEO https://www.youtube.com/embed/SETEC5nzMgk]

<span data-ttu-id="4cecf-122">A integração do Moodle no Microsoft Teams é alimentada pelo [conjunto de plug-ins do Office 365 Moodle](https://github.com/Microsoft/o365-moodle)de Open Source.</span><span class="sxs-lookup"><span data-stu-id="4cecf-122">The Moodle integration in Microsoft Teams is powered by the open source [Office 365 Moodle plugin set](https://github.com/Microsoft/o365-moodle).</span></span> <span data-ttu-id="4cecf-123">Para instalar o plug-in no servidor do Moodle:</span><span class="sxs-lookup"><span data-stu-id="4cecf-123">To install the plugin in your Moodle server:</span></span>

1. <span data-ttu-id="4cecf-124">Primeiro, baixe o [conjunto de plug-ins do Office 365](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) e salve-o no computador local.</span><span class="sxs-lookup"><span data-stu-id="4cecf-124">First, download the [Office 365 plugin set](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) and save it to your local computer.</span></span> <span data-ttu-id="4cecf-125">Você precisará usar a versão 3,5 ou mais recente.</span><span class="sxs-lookup"><span data-stu-id="4cecf-125">You'll need to use version 3.5 or newer.</span></span>
    * <span data-ttu-id="4cecf-126">A instalação do plug-in de local_o365 também instalará os plug-ins [auth_oidc](https://moodle.org/plugins/auth_oidc) e [boost_o365Teams](https://moodle.org/plugins/pluginversions.php?plugin=theme_boost_o365teams) .</span><span class="sxs-lookup"><span data-stu-id="4cecf-126">Installing the local_o365 plugin will also install the [auth_oidc](https://moodle.org/plugins/auth_oidc) and [boost_o365Teams](https://moodle.org/plugins/pluginversions.php?plugin=theme_boost_o365teams) plugins.</span></span>
1. <span data-ttu-id="4cecf-127">Faça logon no servidor do Moodle como administrador e selecione **Administração de site** no painel de navegação à esquerda.</span><span class="sxs-lookup"><span data-stu-id="4cecf-127">Login to your Moodle server as an administrator, and select **Site administration** from the left navigation panel.</span></span>
1. <span data-ttu-id="4cecf-128">Selecione a guia **plug-ins** e clique em **instalar plugins**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-128">Select the **Plugins** tab, and then click **Install plugins**.</span></span>
1. <span data-ttu-id="4cecf-129">Na seção **instalar o plug-in do arquivo zip** , clique no botão **escolher um arquivo** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-129">Under the **Install plugin from ZIP file** section click the **Choose a file** button.</span></span>
1. <span data-ttu-id="4cecf-130">Selecione as opções **carregar um arquivo** da navegação à esquerda, procure o arquivo baixado acima e clique em **carregar este arquivo**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-130">Select the **Upload a file** options from the left navigation, browse for the file you downloaded above and click **Upload this file**.</span></span>
1. <span data-ttu-id="4cecf-131">Selecione a opção **Administração do site** no painel de navegação à esquerda novamente para retornar ao painel de administração.</span><span class="sxs-lookup"><span data-stu-id="4cecf-131">Select the **Site administration** option from the left navigation panel again to return to your admin dashboard.</span></span> <span data-ttu-id="4cecf-132">Role para baixo até os **plug-ins locais** e clique no link **integração do Microsoft Office 365** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-132">Scroll down to the **Local plugins** and click the **Microsoft Office 365 Integration** link.</span></span> <span data-ttu-id="4cecf-133">Mantenha essa página de configuração aberta em uma guia separada do navegador, como você a usará em todo o resto desse processo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-133">Keep this configuration page open in a separate browser tab as you'll be using it throughout the rest of this process.</span></span>

<span data-ttu-id="4cecf-134">Você pode encontrar mais informações sobre como instalar os plug-ins do Moodle na [documentação do Moodle](https://docs.moodle.org/34/en/Installing_plugins).</span><span class="sxs-lookup"><span data-stu-id="4cecf-134">You can find more information on how to install Moodle plugins in the [Moodle documentation](https://docs.moodle.org/34/en/Installing_plugins).</span></span>

<span data-ttu-id="4cecf-135">**Observação importante:** Mantenha a página de configuração do plug-in do Office 365 Moodle aberta em uma guia separada do navegador, pois você retornará a este conjunto de páginas durante todo esse processo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-135">**Important Note:** Keep your Office 365 Moodle Plugin configuration page open in a separate browser tab as you will be returning to this set of pages throughout this process.</span></span>

<span data-ttu-id="4cecf-136">*Ainda não tem um site do Moodle?*</span><span class="sxs-lookup"><span data-stu-id="4cecf-136">*Don't have a Moodle site already?*</span></span> <span data-ttu-id="4cecf-137">Convém conferir o nosso Moodle no [repositório](https://github.com/azure/moodle) do Azure, onde você pode implantar rapidamente uma instância do Moodle no Azure e personalizá-la conforme suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="4cecf-137">You might want to check out our Moodle on Azure [repo](https://github.com/azure/moodle) where you can quickly deploy a Moodle instance on Azure and customize it to your needs.</span></span>

## <a name="step-2-configure-the-connection-between-the-office-365-plugin-and-azure-active-directory"></a><span data-ttu-id="4cecf-138">Etapa 2: configurar a conexão entre o plug-in do Office 365 e o Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="4cecf-138">Step 2: Configure the connection between the Office 365 plugin and Azure Active Directory</span></span>

> [!VIDEO https://www.youtube.com/embed/FpGEezaJ3SA]

<span data-ttu-id="4cecf-139">Em seguida, você precisará registrar o Moodle como um aplicativo no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4cecf-139">Next you'll need to register Moodle as an application in your Azure Active Directory.</span></span> <span data-ttu-id="4cecf-140">Fornecemos um script do PowerShell para ajudá-lo a concluir esse processo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-140">We've provided a PowerShell script to help you complete this process.</span></span> <span data-ttu-id="4cecf-141">O script do PowerShell provisiona um novo aplicativo do Azure AD para o locatário do Office 365, que será usado pelo plug-in Moodle do Office 365.</span><span class="sxs-lookup"><span data-stu-id="4cecf-141">The PowerShell Script provisions a new Azure AD application for your Office 365 tenant, which will be used by the Office 365 Moodle Plugin.</span></span> <span data-ttu-id="4cecf-142">O script provisionará o aplicativo para o locatário do O365, configurar todas as URLs e permissões de resposta necessárias para o aplicativo provisionado e retornar a AppID e a chave.</span><span class="sxs-lookup"><span data-stu-id="4cecf-142">The script will provision the app for your O365 tenant, set up all the required Reply URLs and Permissions for the provisioned app and return the AppID and Key.</span></span> <span data-ttu-id="4cecf-143">Você pode usar a AppID e a chave gerados na página de configuração do plugin Moodle do O365 para configurar seu servidor do Moodle com o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4cecf-143">You can use the generated AppID and Key in your O365 Moodle Plugin Setup Page to configure your Moodle server with Azure AD.</span></span> <span data-ttu-id="4cecf-144">Se quiser ver as etapas manuais detalhadas que o script do PowerShell está automatizando, você pode encontrá-las na documentação completa [do plug-in](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span><span class="sxs-lookup"><span data-stu-id="4cecf-144">If you want to see the detailed manual steps that the PowerShell script is automating, you can find them in the full [documentation for the plugin](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span></span>

### <a name="moodle-tab-for-microsoft-teams-information-flow"></a><span data-ttu-id="4cecf-145">Guia Moodle para o fluxo de informações do Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="4cecf-145">Moodle tab for Microsoft Teams information flow</span></span>

<img width="530px" src="~/assets/images/MoodleTabInformationFlow.png" title="Guia Moodle para o fluxo de informações do Microsoft Teams" />

1. <span data-ttu-id="4cecf-147">Na página plugin de integração do Microsoft Office 365, selecione a guia **configuração** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-147">From the Microsoft Office 365 Integration plugin page select the **Setup** tab.</span></span>
1. <span data-ttu-id="4cecf-148">Clique no botão **baixar script do PowerShell** e salve-o no computador local.</span><span class="sxs-lookup"><span data-stu-id="4cecf-148">Click the **Download PowerShell Script** button and save it to your local computer.</span></span>
1. <span data-ttu-id="4cecf-149">Você precisará preparar o script do PowerShell do arquivo ZIP.</span><span class="sxs-lookup"><span data-stu-id="4cecf-149">You'll need to prepare the PowerShell script from the ZIP file.</span></span> <span data-ttu-id="4cecf-150">Para fazer isso:</span><span class="sxs-lookup"><span data-stu-id="4cecf-150">To do so:</span></span>
    * <span data-ttu-id="4cecf-151">Baixe e extraia `Moodle-AzureAD-Powershell.zip` o arquivo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-151">Download and extract the `Moodle-AzureAD-Powershell.zip` file.</span></span>
    * <span data-ttu-id="4cecf-152">Abra a pasta extraída.</span><span class="sxs-lookup"><span data-stu-id="4cecf-152">Open the extracted folder.</span></span>
    * <span data-ttu-id="4cecf-153">Clique com o `Moodle-AzureAD-Script.ps1` botão direito do mouse no arquivo e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-153">Right-click on the `Moodle-AzureAD-Script.ps1` file and select **Properties**.</span></span>
    * <span data-ttu-id="4cecf-154">Na guia **geral** da janela Propriedades, marque a `Unblock` caixa ao lado do atributo de **segurança** na parte inferior.</span><span class="sxs-lookup"><span data-stu-id="4cecf-154">Under the **General** tab of the Properties window, check the `Unblock` box next to the **Security** attribute at the bottom.</span></span>
    * <span data-ttu-id="4cecf-155">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-155">Click **OK**.</span></span>
    * <span data-ttu-id="4cecf-156">Copie o caminho de diretório da pasta extraída.</span><span class="sxs-lookup"><span data-stu-id="4cecf-156">Copy the directory path of the extracted folder.</span></span>
1. <span data-ttu-id="4cecf-157">Em seguida, você executará o PowerShell como administrador:</span><span class="sxs-lookup"><span data-stu-id="4cecf-157">Next you'll run PowerShell as an administrator:</span></span>
    * <span data-ttu-id="4cecf-158">Clique em Iniciar.</span><span class="sxs-lookup"><span data-stu-id="4cecf-158">Click Start.</span></span>
    * <span data-ttu-id="4cecf-159">Digite PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4cecf-159">Type PowerShell.</span></span>
    * <span data-ttu-id="4cecf-160">Clique com o botão direito do mouse em Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4cecf-160">Right-click Windows PowerShell.</span></span>
    * <span data-ttu-id="4cecf-161">Clique em "executar como administrador".</span><span class="sxs-lookup"><span data-stu-id="4cecf-161">Click "Run as Administrator".</span></span>
1. <span data-ttu-id="4cecf-162">Navegue até o diretório descompactado digitando `cd ...\...\Moodle-AzureAD-Powershell` onde `...\...` é o caminho do diretório.</span><span class="sxs-lookup"><span data-stu-id="4cecf-162">Navigate to the unzipped directory by typing `cd ...\...\Moodle-AzureAD-Powershell` where `...\...` is the path to the directory.</span></span>
1. <span data-ttu-id="4cecf-163">Execute o script do PowerShell por:</span><span class="sxs-lookup"><span data-stu-id="4cecf-163">Execute the PowerShell script by:</span></span>
    * <span data-ttu-id="4cecf-164">Inserir `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span><span class="sxs-lookup"><span data-stu-id="4cecf-164">Enter `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span></span>
    * <span data-ttu-id="4cecf-165">Inserir `.\Moodle-AzureAD-Script.ps1`.</span><span class="sxs-lookup"><span data-stu-id="4cecf-165">Enter `.\Moodle-AzureAD-Script.ps1`.</span></span>
    * <span data-ttu-id="4cecf-166">Faça logon na sua conta de administrador do O365 na janela pop-up.</span><span class="sxs-lookup"><span data-stu-id="4cecf-166">Login to your O365 Administrator account in the pop-up window.</span></span>
    * <span data-ttu-id="4cecf-167">Insira o nome do aplicativo do Azure AD (ex.</span><span class="sxs-lookup"><span data-stu-id="4cecf-167">Enter the name of the Azure AD Application (Ex.</span></span> <span data-ttu-id="4cecf-168">Plug-in Moodle/Moodle).</span><span class="sxs-lookup"><span data-stu-id="4cecf-168">Moodle/Moodle plugin).</span></span>
    * <span data-ttu-id="4cecf-169">Insira a URL do seu servidor do Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-169">Enter the URL of your Moodle server.</span></span>
    * <span data-ttu-id="4cecf-170">Copie a **ID do aplicativo** e a **chave do aplicativo** gerado pelo script e salve-os.</span><span class="sxs-lookup"><span data-stu-id="4cecf-170">Copy the **Application ID** and **Application Key** generated by the script and save them.</span></span>
1. <span data-ttu-id="4cecf-171">Em seguida, você precisará adicionar o ID e a chave ao plug-in Moodle do Office 365.</span><span class="sxs-lookup"><span data-stu-id="4cecf-171">Next you'll need to add the Id and Key to the Office 365 Moodle Plugin.</span></span> <span data-ttu-id="4cecf-172">Retorne à página de administração do plug-in (administração do site > plug-ins > Microsoft Office 365 Integration).</span><span class="sxs-lookup"><span data-stu-id="4cecf-172">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration).</span></span>
1. <span data-ttu-id="4cecf-173">Na guia **configuração** , adicione a **ID do aplicativo** e a **chave do aplicativo** que você copiou anteriormente e clique em **salvar alterações**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-173">On the **Setup** tab add the **Application Id** and **Application Key** you copied previously, then click **Save changes**.</span></span>
1. <span data-ttu-id="4cecf-174">Depois que a página for atualizada, você verá uma nova seção **escolha o método de conexão**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-174">Once the page refreshes you should now see a new section **Choose connection method**.</span></span> <span data-ttu-id="4cecf-175">Clique na caixa de seleção rotulada **como padrão** e clique em **salvar alterações** novamente.</span><span class="sxs-lookup"><span data-stu-id="4cecf-175">Click the checkbox labeled **Default** and then click **Save changes** again.</span></span>
1. <span data-ttu-id="4cecf-176">Depois que a página for atualizada, você verá outro consentimento de administrador de seção novo **& informações adicionais**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-176">Once the page refreshes you will see another new section **Admin consent & additional information**.</span></span>
    * <span data-ttu-id="4cecf-177">Clique no link **fornecer consentimento do administrador** , insira suas credenciais de administrador global do Office3 365 e, em seguida, **aceite** para conceder as permissões.</span><span class="sxs-lookup"><span data-stu-id="4cecf-177">Click the **Provide Admin Consent** link, enter your Office3 365 Global Administrator credentials, then **Accept** to grant the permissions.</span></span>
    * <span data-ttu-id="4cecf-178">Ao lado do campo **locatário do Azure ad** , clique no botão **detectar** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-178">Next to the **Azure AD Tenant** field click the **Detect** button.</span></span>
    * <span data-ttu-id="4cecf-179">Ao lado da **URL do onedrive for Business** , clique no botão **detectar** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-179">Next to the **OneDrive for Business URL** click the **Detect** button.</span></span>
    * <span data-ttu-id="4cecf-180">Após preencher os campos, clique no botão **salvar alterações** novamente.</span><span class="sxs-lookup"><span data-stu-id="4cecf-180">Once the fields populate, click the **Save changes** button again.</span></span>
1. <span data-ttu-id="4cecf-181">Clique no botão **Atualizar** para verificar a instalação e, em seguida, **salve as alterações**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-181">Click the **Update** button to verify the installation, then **Save changes**.</span></span>
1. <span data-ttu-id="4cecf-182">Em seguida, você precisará sincronizar os usuários entre o seu servidor do Moodle e o Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="4cecf-182">Next you'll need to synchronize users between your Moodle server and Azure Active Directory.</span></span> <span data-ttu-id="4cecf-183">Dependendo do seu ambiente, você pode selecionar opções diferentes durante esse estágio.</span><span class="sxs-lookup"><span data-stu-id="4cecf-183">Depending on your environment, you may select different options during this stage.</span></span> <span data-ttu-id="4cecf-184">Observe que a configuração definida aqui será executada com cada execução do Moodle cron (normalmente, uma vez por dia) para manter tudo em sincronia. Para começar:</span><span class="sxs-lookup"><span data-stu-id="4cecf-184">Note that the configuration you set here will run with each Moodle cron run (typically once a day) to keep everything in sync. To get started:</span></span>
    * <span data-ttu-id="4cecf-185">Alternar para a **guia Configurações de sincronização**</span><span class="sxs-lookup"><span data-stu-id="4cecf-185">Switch to the **Sync Settings tab**</span></span>
    * <span data-ttu-id="4cecf-186">Na seção **sincronizar usuários com o Azure ad** , marque as caixas de seleção que se aplicam ao seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="4cecf-186">In the **Sync users with Azure AD** section, select the checkboxes that apply to your environment.</span></span> <span data-ttu-id="4cecf-187">Normalmente, você deve selecionar pelo menos:</span><span class="sxs-lookup"><span data-stu-id="4cecf-187">Typically you would select at least:</span></span>
        * <span data-ttu-id="4cecf-188">Criar contas no Moodle para usuários no Azure AD</span><span class="sxs-lookup"><span data-stu-id="4cecf-188">Create accounts in Moodle for users in Azure AD</span></span>
        * <span data-ttu-id="4cecf-189">Atualizar todas as contas no Moodle para usuários no Azure AD</span><span class="sxs-lookup"><span data-stu-id="4cecf-189">Update all accounts in Moodle for users in Azure AD</span></span>
    * <span data-ttu-id="4cecf-190">Na seção **restrição de criação de usuário** , você pode configurar um filtro para limitar os usuários do Azure AD que serão sincronizados com o Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-190">In the **User Creation Restriction** section you can setup a filter to limit the Azure AD users that will by synced to Moodle.</span></span>
    * <span data-ttu-id="4cecf-191">A seção **mapeamento de campos de usuário** permitirá que você personalize o mapeamento de campo de perfil de usuário do Azure ad para Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-191">The **User Field Mapping** section will allow you to customize the Azure AD to Moodle User Profile field mapping.</span></span>
    * <span data-ttu-id="4cecf-192">Na seção **sincronização do Microsoft Teams** , você pode optar por criar automaticamente grupos (ou seja, equipes) para alguns ou todos os seus cursos existentes do Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-192">In the **Teams Sync** section you can choose to automatically create Groups (i.e. Teams) for some, or all, of your existing Moodle courses.</span></span>
1. <span data-ttu-id="4cecf-193">Para validar os trabalhos cron (e executá-los manualmente, se você quiser para a primeira execução), clique no link da **página de gerenciamento de tarefas agendadas** na seção **sincronizar usuários com o Azure ad** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-193">To validate the cron jobs (and run them manually if you wish to for the first run) click the **Scheduled tasks management page** link in the **Sync users with Azure AD** section.</span></span> <span data-ttu-id="4cecf-194">Isso levará você à página **tarefas agendadas** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-194">This will take you to the **Scheduled Tasks** page.</span></span>
    * <span data-ttu-id="4cecf-195">Role para baixo e encontre o trabalho de **sincronização de usuários com o Azure Active Directory** e clique em **executar agora**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-195">Scroll down and find the job **Sync users with Azure AD** job and click **Run now**.</span></span>
    * <span data-ttu-id="4cecf-196">Se você optar por criar grupos com base em cursos existentes, também poderá executar o trabalho **criar grupos de usuários no Office 365** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-196">If you chose to create Groups based on existing courses, you can also run the **Create user groups in Office 365** job.</span></span>
1. <span data-ttu-id="4cecf-197">Retorne à página Administração do plug-in (administração do site > plug-ins > Microsoft Office 365 Integration) e selecione a página **configurações do teams** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-197">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration) and select the **Teams Settings** page.</span></span> <span data-ttu-id="4cecf-198">Você precisará definir algumas configurações de segurança para habilitar a integração do aplicativo do teams.</span><span class="sxs-lookup"><span data-stu-id="4cecf-198">You'll need to configure some security settings to enable the Teams app integration.</span></span>
    * <span data-ttu-id="4cecf-199">Para habilitar o OpenID Connect, clique no link **gerenciar autenticação** e clique no ícone de olho na linha de **conexão OpenID** se estiver acinzentado.</span><span class="sxs-lookup"><span data-stu-id="4cecf-199">To enable OpenID Connect, click the **Manage Authentication** link, and click the eye icon on the **OpenId Connect** line if it is greyed out.</span></span>
    * <span data-ttu-id="4cecf-200">Em seguida, você precisará habilitar a inserção de quadros.</span><span class="sxs-lookup"><span data-stu-id="4cecf-200">Next you'll need to enable frame embedding.</span></span> <span data-ttu-id="4cecf-201">Clique no link de **segurança http** e, em seguida, clique na caixa de seleção ao lado de **permitir inserção de quadro**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-201">Click the **HTTP Security** link, then click the checkbox next to **Allow frame embedding**.</span></span>
    * <span data-ttu-id="4cecf-202">A próxima etapa é habilitar os serviços Web que habilitarão os recursos da API do Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-202">The next step is to enable web services which will enable the Moodle API features.</span></span> <span data-ttu-id="4cecf-203">Clique no link **recursos avançados** e, em seguida, certifique-se de que a caixa de seleção ao lado de **habilitar serviços Web** esteja marcada.</span><span class="sxs-lookup"><span data-stu-id="4cecf-203">Click the **Advanced Features** link, then make sure the checkbox next to **Enable web services** is checked.</span></span>
    * <span data-ttu-id="4cecf-204">Por fim, você precisará habilitar os serviços externos para o Office 365.</span><span class="sxs-lookup"><span data-stu-id="4cecf-204">Finally you'll need to enabled the external services for Office 365.</span></span> <span data-ttu-id="4cecf-205">Clique no link **serviços externos** e, em seguida:</span><span class="sxs-lookup"><span data-stu-id="4cecf-205">Click the **External services** link then:</span></span>
        * <span data-ttu-id="4cecf-206">Clique em **Editar** na linha **Moodle Office 365 WebServices** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-206">Click **Edit** on the **Moodle Office 365 Webservices** row.</span></span>
        * <span data-ttu-id="4cecf-207">Marque a caixa de seleção ao lado de **habilitado**e clique em **salvar alterações**</span><span class="sxs-lookup"><span data-stu-id="4cecf-207">Mark the checkbox next to **Enabled**, then click **Save Changes**</span></span>
    * <span data-ttu-id="4cecf-208">Em seguida, você precisará editar suas permissões de usuário autenticado para permitir que eles criem tokens de serviço Web.</span><span class="sxs-lookup"><span data-stu-id="4cecf-208">Next you'll need to edit your authenticated user permissions to allow them to create web service tokens.</span></span> <span data-ttu-id="4cecf-209">Clique no link **Editar usuário autenticado da função** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-209">Click the **Editing role 'Authenticated user'** link.</span></span> <span data-ttu-id="4cecf-210">Role para baixo e encontre o recurso **criar um token de serviço Web** e marque a caixa de seleção **permitir** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-210">Scroll down and find the **Create a web service token** capability and mark the **Allow** checkbox.</span></span>

## <a name="step-3-deploy-the-moodle-assistant-bot-to-azure"></a><span data-ttu-id="4cecf-211">Etapa 3: implantar o bot do assistente do Moodle no Azure</span><span class="sxs-lookup"><span data-stu-id="4cecf-211">Step 3: Deploy the Moodle Assistant Bot to Azure</span></span>

> [!VIDEO https://www.youtube.com/embed/gbkJxf8FlfY]

<span data-ttu-id="4cecf-212">O assistente gratuito do Moodle Assistant para o Microsoft Teams ajuda professores e alunos a responder perguntas sobre seus cursos, atribuições, notas e outras informações no Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-212">The free Moodle Assistant Bot for Microsoft Teams helps teachers and students answer questions about their courses, assignments, grades and other information in Moodle.</span></span> <span data-ttu-id="4cecf-213">O bot também envia notificações Moodle para estudantes e professores diretamente no Teams.</span><span class="sxs-lookup"><span data-stu-id="4cecf-213">The bot also sends Moodle notifications to students and teachers right within Teams.</span></span> <span data-ttu-id="4cecf-214">Este bot é um projeto de código-fonte aberto mantido pela Microsoft e está [disponível no GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span><span class="sxs-lookup"><span data-stu-id="4cecf-214">This bot is an open source project maintained by Microsoft, and is [available on GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span></span>

> [!NOTE]
> <span data-ttu-id="4cecf-215">Nesta seção, você implantará recursos em sua assinatura do Azure e todos os recursos serão configurados usando a camada **gratuita** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-215">In this section you will deploy resources to your Azure subscription, and all resources will be configured using the **free** tier.</span></span> <span data-ttu-id="4cecf-216">Dependendo do uso do bot, talvez seja necessário dimensionar esses recursos.</span><span class="sxs-lookup"><span data-stu-id="4cecf-216">Depending on the usage of your bot, you may need to scale these resources.</span></span>
> <span data-ttu-id="4cecf-217">Se você deseja usar apenas a guia Moodle sem o bot, pule para a [etapa 4](#step-4-deploy-your-microsoft-teams-app).</span><span class="sxs-lookup"><span data-stu-id="4cecf-217">If you want to just use the Moodle tab without the bot, skip to [step 4](#step-4-deploy-your-microsoft-teams-app).</span></span>

### <a name="moodle-bot-information-flow"></a><span data-ttu-id="4cecf-218">Fluxo de informações do bot Moodle</span><span class="sxs-lookup"><span data-stu-id="4cecf-218">Moodle bot information flow</span></span>

<img width="530px" src="~/assets/images/MoodleBotInformationFlow.png" title="Moodle bot para o fluxo de informações do Microsoft Teams" />

<span data-ttu-id="4cecf-220">Para instalar o bot, primeiro você precisará registrá-lo na [plataforma de identidade da Microsoft](https://identity.microsoft.com/Landing).</span><span class="sxs-lookup"><span data-stu-id="4cecf-220">To install the bot, you'll first need to register it on the [Microsoft Identity Platform](https://identity.microsoft.com/Landing).</span></span> <span data-ttu-id="4cecf-221">Isso permite que seu bot autentique em seus pontos de extremidade da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4cecf-221">This allows your Bot to authenticate against your Microsoft endpoints.</span></span> <span data-ttu-id="4cecf-222">Para registrar seu bot:</span><span class="sxs-lookup"><span data-stu-id="4cecf-222">To register your bot:</span></span>

1. <span data-ttu-id="4cecf-223">Retorne à página Administração de plug-in (administração do site > plug-ins > Microsoft Office 365 Integration) e selecione a guia **configurações do teams** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-223">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration) and select the **Teams Settings** tab.</span></span>
1. <span data-ttu-id="4cecf-224">Clique no link do **portal de registro de aplicativos da Microsoft** e faça logon com sua ID da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4cecf-224">Click the **Microsoft Application Registration Portal** link and login with your Microsoft Id.</span></span>
1. <span data-ttu-id="4cecf-225">Insira um nome para seu aplicativo (por exemplo,</span><span class="sxs-lookup"><span data-stu-id="4cecf-225">Enter a name for your app (Eg.</span></span> <span data-ttu-id="4cecf-226">MoodleBot) e clique no botão **criar** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-226">MoodleBot) and click the **Create** button.</span></span>
1. <span data-ttu-id="4cecf-227">Copie a **ID do aplicativo** e cole-a no campo **ID do aplicativo bot** na página **configurações da equipe** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-227">Copy the **Application Id** and paste it into the **Bot Application ID** field on the **Team Settings** page.</span></span>
1. <span data-ttu-id="4cecf-228">Clique no botão **gerar nova senha** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-228">Click the **Generate New Password** button.</span></span> <span data-ttu-id="4cecf-229">Copie a senha gerada e cole-a no campo **senha do aplicativo bot** na página **configurações da equipe** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-229">Copy the generated password and and paste it into the **Bot Application Password** field on the **Team Settings** page.</span></span>
1. <span data-ttu-id="4cecf-230">Role até a parte inferior do formulário e clique em **salvar alterações**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-230">Scroll to the bottom of the form and click **Save Changes**.</span></span>

<span data-ttu-id="4cecf-231">Agora que você gerou a ID e a senha do aplicativo, é hora de implantar seu bot no Azure.</span><span class="sxs-lookup"><span data-stu-id="4cecf-231">Now that you've generated your Application Id and Password, it's time to deploy your bot to Azure.</span></span> <span data-ttu-id="4cecf-232">Clique no botão **implantar no Azure** e preencha o formulário com as informações necessárias (a ID do aplicativo bot, a senha do aplicativo bot e o segredo Moodle estão na página **configurações da equipe** e as informações do Azure estão na página **configuração** ).</span><span class="sxs-lookup"><span data-stu-id="4cecf-232">Click on the **Deploy to Azure** button and fill out the form with the necessary information (the Bot Application Id, Bot Application Password and the Moodle Secret are on the **Team Settings** page, and the Azure information is on the **Setup** page).</span></span> <span data-ttu-id="4cecf-233">Depois de preencher o formulário, clique na caixa de seleção para concordar com os termos e condições e, em seguida, clique no botão **comprar** (todos os recursos do Azure são implantados na camada gratuita).</span><span class="sxs-lookup"><span data-stu-id="4cecf-233">Once you've got the form filled out, click the check box to agree to the terms and conditions then click the **Purchase** button (all Azure resources are deployed to the free tier).</span></span>

<span data-ttu-id="4cecf-234">Após a implantação dos recursos no Azure, você precisará configurar o plug-in de Moodle do Office 365 com o ponto de extremidade de mensagem.</span><span class="sxs-lookup"><span data-stu-id="4cecf-234">Once the resources are finished deploying to Azure, you'll need to configure the Office 365 Moodle plugin with it's messaging endpoint.</span></span> <span data-ttu-id="4cecf-235">Primeiro, você precisará obter o ponto de extremidade do bot no Azure.</span><span class="sxs-lookup"><span data-stu-id="4cecf-235">First, you'll need to get the endpoint from you Bot in Azure.</span></span> <span data-ttu-id="4cecf-236">Para isso:</span><span class="sxs-lookup"><span data-stu-id="4cecf-236">To do that:</span></span>

1. <span data-ttu-id="4cecf-237">Se ainda não estiver, faça logon no [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4cecf-237">If you aren't already, log into the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="4cecf-238">No painel esquerdo, selecione **grupos de recursos**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-238">In the left pane select **Resource groups**.</span></span>
3. <span data-ttu-id="4cecf-239">Na lista, selecione o grupo de recursos que você acabou de usar (ou criado) durante a implantação do bot.</span><span class="sxs-lookup"><span data-stu-id="4cecf-239">From the list select the resource group you just used (or created) while deploying your Bot.</span></span>
4. <span data-ttu-id="4cecf-240">Selecione o recurso **bot do webapp** na lista de recursos do grupo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-240">Select the **WebApp Bot** resource from the list of resources in the group.</span></span>
5. <span data-ttu-id="4cecf-241">Copie o **ponto de extremidade de mensagens** da seção **visão geral** .</span><span class="sxs-lookup"><span data-stu-id="4cecf-241">Copy the **Messaging Endpoint** from the **Overview** section.</span></span>
6. <span data-ttu-id="4cecf-242">No Moodle, abra a página de **configurações de equipe** do seu plug-in do Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-242">In Moodle, open the **Team Settings** page of your Office 365 Moodle Plugin.</span></span>
7. <span data-ttu-id="4cecf-243">No campo **ponto de extremidade do bot** , Cole a URL que você copiou e altere as *mensagens* do Word para *webhook*.</span><span class="sxs-lookup"><span data-stu-id="4cecf-243">In the **Bot Endpoint** field paste the URL you just copied and change the word *messages* to *webhook*.</span></span> <span data-ttu-id="4cecf-244">A URL agora deve se parecer com`https://botname.azurewebsites.net/api/webhook`</span><span class="sxs-lookup"><span data-stu-id="4cecf-244">The URL should now look like `https://botname.azurewebsites.net/api/webhook`</span></span>
8. <span data-ttu-id="4cecf-245">Clique em **salvar alterações**</span><span class="sxs-lookup"><span data-stu-id="4cecf-245">Click **Save Changes**</span></span>
9. <span data-ttu-id="4cecf-246">Após salvar as alterações, volte para a guia **configurações da equipe** , clique no botão **baixar arquivo de manifesto** e salve o pacote de manifesto no computador (você o usará na próxima seção).</span><span class="sxs-lookup"><span data-stu-id="4cecf-246">Once your changes have saved, go back to the **Team Settings** tab, click the **Download manifest file** button and save the manifest package to your computer (you'll use it in the next section).</span></span>

## <a name="step-4-deploy-your-microsoft-teams-app"></a><span data-ttu-id="4cecf-247">Etapa 4: implantar seu aplicativo do Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="4cecf-247">Step 4: Deploy your Microsoft Teams app</span></span>

> [!VIDEO https://www.youtube.com/embed/2rMb7gtM_ZM]

<span data-ttu-id="4cecf-248">Agora que você tem seu bot implantado no Azure e configurado para falar com o servidor do Moodle, é hora de implantar seu aplicativo Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="4cecf-248">Now that you have your Bot deployed to Azure and configured to talk to your Moodle server, it's time to deploy your Microsoft Teams app.</span></span> <span data-ttu-id="4cecf-249">Para fazer isso, você carregará o arquivo de manifesto baixado da página Configurações da equipe de plugin do Office 365 Moodle na etapa anterior.</span><span class="sxs-lookup"><span data-stu-id="4cecf-249">To do this you'll load the manifest file you downloaded from the Office 365 Moodle Plugin Team Settings page in the previous step.</span></span>

<span data-ttu-id="4cecf-250">Antes de poder instalar o aplicativo, você precisará verificar se os aplicativos externos e o carregamento de aplicativos estão habilitados.</span><span class="sxs-lookup"><span data-stu-id="4cecf-250">Before you can install the app you'll need to make sure external apps and uploading of apps is enabled.</span></span> <span data-ttu-id="4cecf-251">Para fazer isso, você pode seguir [estas etapas](https://docs.microsoft.com/microsoftteams/platform/get-started/get-started-tenant).</span><span class="sxs-lookup"><span data-stu-id="4cecf-251">To do so you can follow [these steps](https://docs.microsoft.com/microsoftteams/platform/get-started/get-started-tenant).</span></span> <span data-ttu-id="4cecf-252">Depois de ter certeza de que os aplicativos externos estão habilitados, você pode seguir as etapas abaixo para implantar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-252">Once you've ensured that external apps are enabled, you can follow the steps below to deploy your app.</span></span>

1. <span data-ttu-id="4cecf-253">Abra o Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="4cecf-253">Open Microsoft Teams.</span></span>
2. <span data-ttu-id="4cecf-254">Clique no ícone do **repositório** no canto inferior esquerdo da barra de navegação.</span><span class="sxs-lookup"><span data-stu-id="4cecf-254">Click the **Store** icon on the lower-left of the navigation bar.</span></span>
3. <span data-ttu-id="4cecf-255">Clique no link **carregar um aplicativo personalizado** na lista de opções.</span><span class="sxs-lookup"><span data-stu-id="4cecf-255">Click the **Upload a custom app** link from the list of options.</span></span> <span data-ttu-id="4cecf-256">*Observação:* Se você estiver conectado como um administrador global, terá a opção de carregar o aplicativo para a loja de aplicativos da sua organização, caso contrário, você só poderá carregar o aplicativo para uma equipe da qual você é membro.</span><span class="sxs-lookup"><span data-stu-id="4cecf-256">*Note:* If you're logged in as a global administer you'll have the option of uploading the app to your organization's app store, otherwise you'll only be able to load the app for a team of which you are a member.</span></span>
4. <span data-ttu-id="4cecf-257">Selecione o `manifest.zip` pacote que você baixou anteriormente e clique em **salvar**.</span><span class="sxs-lookup"><span data-stu-id="4cecf-257">Select the `manifest.zip` package you downloaded previously and click **Save**.</span></span> <span data-ttu-id="4cecf-258">Se você ainda não tiver baixado o pacote de manifesto, poderá fazê-lo na guia **configurações da equipe** da página configuração do plug-in no Moodle.</span><span class="sxs-lookup"><span data-stu-id="4cecf-258">If you haven't yet downloaded the manifest package, you can do so from the **Team Settings** tab of the plugin configuration page in Moodle.</span></span>

<span data-ttu-id="4cecf-259">Agora que o aplicativo está instalado, você pode adicionar a guia a qualquer canal ao qual você tenha acesso.</span><span class="sxs-lookup"><span data-stu-id="4cecf-259">Now that you have the app installed you can add the tab to any channel that you have access to.</span></span> <span data-ttu-id="4cecf-260">Para fazer isso, clique no **+** símbolo e selecione seu aplicativo na lista.</span><span class="sxs-lookup"><span data-stu-id="4cecf-260">To do so navigate to the channel, click the **+** symbol and select your app from the list.</span></span> <span data-ttu-id="4cecf-261">Siga as instruções para concluir a adição da guia do curso do Moodle a um canal.</span><span class="sxs-lookup"><span data-stu-id="4cecf-261">Follow the prompts to finish adding your Moodle course tab to a channel.</span></span>

<span data-ttu-id="4cecf-262">Isso é tudo.</span><span class="sxs-lookup"><span data-stu-id="4cecf-262">That's it!</span></span> <span data-ttu-id="4cecf-263">Você e sua equipe agora podem começar a trabalhar com seus cursos do Moodle diretamente do Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="4cecf-263">You and your team, can now start working with your Moodle courses directly from Microsoft Teams.</span></span>

<span data-ttu-id="4cecf-264">Para compartilhar as solicitações de recursos ou comentários conosco, acesse nossa [página de voz do usuário](https://microsoftteams.uservoice.com/forums/916759-moodle).</span><span class="sxs-lookup"><span data-stu-id="4cecf-264">To share any feature requests or feedback with us, please visit our [User Voice page](https://microsoftteams.uservoice.com/forums/916759-moodle).</span></span>
