---
title: Noções básicas sobre bot
author: clearab
description: Entenda as noções básicas de bots no Teams.
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 3c4e707fa4677c2441f348e8d09ecf4428ef1296
ms.sourcegitcommit: 976e870cc925f61b76c3830ec04ba6e4bdfde32f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/27/2021
ms.locfileid: "50014499"
---
# <a name="bot-basics"></a><span data-ttu-id="f2976-103">Noções básicas sobre bot</span><span class="sxs-lookup"><span data-stu-id="f2976-103">Bot basics</span></span>

<span data-ttu-id="f2976-104">Este documento fornece uma introdução aos bots no Microsoft Teams que se baseia no artigo Como os [bots](https://aka.ms/how-bots-work) funcionam na documentação principal [do Bot Framework.](https://aka.ms/azure-bot-service-docs)</span><span class="sxs-lookup"><span data-stu-id="f2976-104">This document provides an introduction to bots in Microsoft Teams that builds on the article [How bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="f2976-105">A principal diferença entre os bots desenvolvidos para o Microsoft Teams e a Estrutura de Bot principal está nos recursos fornecidos no Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-105">The primary difference between bots developed for Microsoft Teams and the core Bot Framework is in the features provided in Teams.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="f2976-106">Manipuladores de atividades do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-106">Teams activity handlers</span></span>

<span data-ttu-id="f2976-107">O manipulador de atividades do Teams é derivado do manipulador de atividades do Microsoft Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="f2976-107">Teams activity handler is derived from Microsoft Bot Framework's activity handler.</span></span> <span data-ttu-id="f2976-108">Ele encaminha todas as atividades do Teams antes de permitir que qualquer atividade específica que não seja do Teams seja manipulada.</span><span class="sxs-lookup"><span data-stu-id="f2976-108">It routes all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

<span data-ttu-id="f2976-109">Quando um bot para o Teams recebe uma atividade, ele é direcionado para os *manipuladores de atividades.*</span><span class="sxs-lookup"><span data-stu-id="f2976-109">When a bot for Teams receives an activity, it is directed to the *activity handlers*.</span></span> <span data-ttu-id="f2976-110">Todas as atividades são roteados por um manipulador de base chamado manipulador *de rotação.*</span><span class="sxs-lookup"><span data-stu-id="f2976-110">All activities are routed through one base handler called the *turn handler*.</span></span> <span data-ttu-id="f2976-111">O *manipulador de turno* chama o manipulador de atividades necessário para gerenciar qualquer atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="f2976-111">The *turn handler* calls the required activity handler to manage any activity received.</span></span> <span data-ttu-id="f2976-112">O bot do Teams é derivado da `TeamsActivityHandler` classe, que é derivada da classe do Bot `ActivityHandler` Framework.</span><span class="sxs-lookup"><span data-stu-id="f2976-112">The Teams bot is derived from `TeamsActivityHandler` class, which is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="f2976-113">C#</span><span class="sxs-lookup"><span data-stu-id="f2976-113">C#</span></span>](#tab/csharp)

<span data-ttu-id="f2976-114">Os bots são criados usando a Estrutura de Bot.</span><span class="sxs-lookup"><span data-stu-id="f2976-114">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="f2976-115">Se os bots receberem uma atividade de mensagem, o manipulador de turno receberá uma notificação dessa atividade de entrada.</span><span class="sxs-lookup"><span data-stu-id="f2976-115">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="f2976-116">Em seguida, o manipulador de turno envia a atividade de entrada para o `OnMessageActivityAsync` manipulador de atividades.</span><span class="sxs-lookup"><span data-stu-id="f2976-116">The turn handler then sends the incoming activity to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="f2976-117">No Teams, essa funcionalidade permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="f2976-117">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="f2976-118">Se o bot receber uma atividade de atualização de conversa, o manipulador de turno receberá uma notificação dessa atividade de entrada e enviará a atividade de entrada para `OnConversationUpdateActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="f2976-118">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="f2976-119">O manipulador de atividades do Teams primeiro verifica se há eventos específicos do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-119">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="f2976-120">Se nenhum evento for encontrado, ele os passará para o manipulador de atividades do Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="f2976-120">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="f2976-121">Na classe do manipulador de atividades do Teams, há dois manipuladores de atividades principais do Teams `OnConversationUpdateActivityAsync` `OnInvokeActivityAsync` e.</span><span class="sxs-lookup"><span data-stu-id="f2976-121">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` and `OnInvokeActivityAsync`.</span></span> <span data-ttu-id="f2976-122">`OnConversationUpdateActivityAsync` encaminha todas as atividades de atualização de conversa e `OnInvokeActivityAsync` encaminha todas as atividades de invocação do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-122">`OnConversationUpdateActivityAsync` routes all conversation update activities and `OnInvokeActivityAsync` routes all Teams invoke activities.</span></span>

<span data-ttu-id="f2976-123">Para implementar sua lógica para manipuladores de atividades específicos do Teams, você deve substituir os métodos em seu bot, conforme mostrado na seção [de lógica de bot.](#bot-logic)</span><span class="sxs-lookup"><span data-stu-id="f2976-123">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="f2976-124">Não há nenhuma implementação base para esses manipuladores, portanto, você deve adicionar a lógica que deseja em sua substituição.</span><span class="sxs-lookup"><span data-stu-id="f2976-124">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="f2976-125">JavaScript</span><span class="sxs-lookup"><span data-stu-id="f2976-125">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="f2976-126">Os bots são criados usando a Estrutura de Bot.</span><span class="sxs-lookup"><span data-stu-id="f2976-126">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="f2976-127">Se os bots receberem uma atividade de mensagem, o manipulador de turno receberá uma notificação dessa atividade de entrada.</span><span class="sxs-lookup"><span data-stu-id="f2976-127">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="f2976-128">Em seguida, o manipulador de turno envia a atividade de entrada para o `onMessage` manipulador de atividades.</span><span class="sxs-lookup"><span data-stu-id="f2976-128">The turn handler then sends the incoming activity to the `onMessage` activity handler.</span></span> <span data-ttu-id="f2976-129">No Teams, essa funcionalidade permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="f2976-129">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="f2976-130">Se o bot receber uma atividade de atualização de conversa, o manipulador de turno receberá uma notificação dessa atividade de entrada e enviará a atividade de entrada para `dispatchConversationUpdateActivity` .</span><span class="sxs-lookup"><span data-stu-id="f2976-130">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="f2976-131">O manipulador de atividades do Teams primeiro verifica se há eventos específicos do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-131">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="f2976-132">Se nenhum evento for encontrado, ele os passará para o manipulador de atividades do Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="f2976-132">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="f2976-133">Na classe do manipulador de atividades do Teams, há dois manipuladores de atividades principais do Teams `dispatchConversationUpdateActivity` `onInvokeActivity` e.</span><span class="sxs-lookup"><span data-stu-id="f2976-133">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` and `onInvokeActivity`.</span></span> <span data-ttu-id="f2976-134">`dispatchConversationUpdateActivity` encaminha todas as atividades de atualização de conversa e `onInvokeActivity` encaminha todas as atividades de invocação do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-134">`dispatchConversationUpdateActivity` routes all conversation update activities and `onInvokeActivity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="f2976-135">Para implementar sua lógica para manipuladores de atividades específicos do Teams, você deve substituir os métodos em seu bot, conforme mostrado na seção [de lógica de bot.](#bot-logic)</span><span class="sxs-lookup"><span data-stu-id="f2976-135">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="f2976-136">Defina sua lógica de bot para esses manipuladores e, em seguida, **certifique-se de chamar no `next()` final.**</span><span class="sxs-lookup"><span data-stu-id="f2976-136">Define your bot logic for these handlers, then **be sure to call `next()` at the end**.</span></span> <span data-ttu-id="f2976-137">Chamando `next()` você, verifique se o próximo manipulador é executado.</span><span class="sxs-lookup"><span data-stu-id="f2976-137">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="f2976-138">Python</span><span class="sxs-lookup"><span data-stu-id="f2976-138">Python</span></span>](#tab/python)

<span data-ttu-id="f2976-139">Os bots são criados usando a Estrutura de Bot.</span><span class="sxs-lookup"><span data-stu-id="f2976-139">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="f2976-140">Se os bots receberem uma atividade de mensagem, o manipulador de turno receberá uma notificação dessa atividade de entrada.</span><span class="sxs-lookup"><span data-stu-id="f2976-140">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="f2976-141">Em seguida, o manipulador de turno envia a atividade de entrada para o `on_message_activity` manipulador de atividades.</span><span class="sxs-lookup"><span data-stu-id="f2976-141">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="f2976-142">No Teams, essa funcionalidade permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="f2976-142">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="f2976-143">Se o bot receber uma atividade de atualização de conversa, o manipulador de turno receberá uma notificação dessa atividade de entrada e enviará a atividade de entrada para `on_conversation_update_activity` .</span><span class="sxs-lookup"><span data-stu-id="f2976-143">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="f2976-144">O manipulador de atividades do Teams primeiro verifica se há eventos específicos do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-144">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="f2976-145">Se nenhum evento for encontrado, ele os passará para o manipulador de atividades do Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="f2976-145">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="f2976-146">Na classe do manipulador de atividades do Teams, há dois manipuladores de atividades principais do Teams `on_conversation_update_activity` `on_invoke_activity` e.</span><span class="sxs-lookup"><span data-stu-id="f2976-146">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="f2976-147">`on_conversation_update_activity` encaminha todas as atividades de atualização de conversa e `on_invoke_activity` encaminha todas as atividades de invocação do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-147">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="f2976-148">Para implementar sua lógica para manipuladores de atividades específicos do Teams, você deve substituir os métodos em seu bot, conforme mostrado na seção [de lógica de bot.](#bot-logic)</span><span class="sxs-lookup"><span data-stu-id="f2976-148">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="f2976-149">Não há nenhuma implementação base para esses manipuladores, portanto, você deve adicionar a lógica que deseja em sua substituição.</span><span class="sxs-lookup"><span data-stu-id="f2976-149">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="f2976-150">Lógica de bot</span><span class="sxs-lookup"><span data-stu-id="f2976-150">Bot logic</span></span>

<span data-ttu-id="f2976-151">A lógica de bot processa as atividades de entrada de um ou mais de seus canais de bot e, em resposta, gera atividades de saída.</span><span class="sxs-lookup"><span data-stu-id="f2976-151">The bot logic processes incoming activities from one or more of your bot channels and in response generates outgoing activities.</span></span> <span data-ttu-id="f2976-152">Isso ainda vale para bots derivados da classe do manipulador de atividades do Teams, que primeiro verifica as atividades do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-152">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities.</span></span> <span data-ttu-id="f2976-153">Depois de verificar as atividades do Teams, ele passa todas as outras atividades para o manipulador de atividades do Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="f2976-153">After checking for Teams activities, it passes all other activities to the Bot Framework's activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="f2976-154">C#</span><span class="sxs-lookup"><span data-stu-id="f2976-154">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="f2976-155">Manipuladores do Core Bot Framework</span><span class="sxs-lookup"><span data-stu-id="f2976-155">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="f2976-156">Exceto pelas atividades  *dos* membros adicionados e removidos, todos os manipuladores de atividades descritos nesta seção continuam a funcionar da mesma forma que com um bot que não seja do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-156">Except for the *added* and *removed* members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="f2976-157">Manipuladores de atividades são diferentes no contexto de uma equipe, onde um novo membro é adicionado à equipe em vez de um thread de mensagem.</span><span class="sxs-lookup"><span data-stu-id="f2976-157">Activity handlers are different in context of a team, where a new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="f2976-158">A lista de manipuladores definidos `ActivityHandler` inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-158">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="f2976-159">Event</span><span class="sxs-lookup"><span data-stu-id="f2976-159">Event</span></span> | <span data-ttu-id="f2976-160">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-160">Handler</span></span> | <span data-ttu-id="f2976-161">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-161">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="f2976-162">Qualquer tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="f2976-162">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="f2976-163">Esse método chama um dos outros manipuladores, com base no tipo de atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="f2976-163">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="f2976-164">Atividade de mensagem recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-164">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="f2976-165">Esse método pode ser substituído para manipular uma `Message` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-165">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="f2976-166">Atividade de atualização de conversa recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-166">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="f2976-167">Esse método chama um manipulador se membros diferentes do bot ingressaram ou deixaram a conversa em uma `ConversationUpdate` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-167">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="f2976-168">Membros não bot ingressam na conversa</span><span class="sxs-lookup"><span data-stu-id="f2976-168">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="f2976-169">Esse método pode ser substituído para manipular membros in joining a uma conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-169">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="f2976-170">Membros não bot deixaram a conversa</span><span class="sxs-lookup"><span data-stu-id="f2976-170">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="f2976-171">Esse método pode ser substituído para manipular membros que deixam uma conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-171">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="f2976-172">Atividade de evento recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-172">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="f2976-173">Esse método chama um manipulador específico para o tipo de evento, em uma `Event` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-173">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="f2976-174">Atividade de evento de resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-174">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="f2976-175">Esse método pode ser substituído para manipular eventos de resposta de token.</span><span class="sxs-lookup"><span data-stu-id="f2976-175">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="f2976-176">Atividade de evento de não-resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-176">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="f2976-177">Esse método pode ser substituído para lidar com outros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="f2976-177">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="f2976-178">Outro tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="f2976-178">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="f2976-179">Esse método pode ser substituído para manipular qualquer tipo de atividade sem tratar.</span><span class="sxs-lookup"><span data-stu-id="f2976-179">This method can be overridden to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="f2976-180">Manipuladores de atividades específicos do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-180">Teams specific activity handlers</span></span>

<span data-ttu-id="f2976-181">Estende `TeamsActivityHandler` a lista de manipuladores na seção manipuladores do Core Bot Framework para incluir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-181">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="f2976-182">Event</span><span class="sxs-lookup"><span data-stu-id="f2976-182">Event</span></span> | <span data-ttu-id="f2976-183">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-183">Handler</span></span> | <span data-ttu-id="f2976-184">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-184">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="f2976-185">channelCreated</span><span class="sxs-lookup"><span data-stu-id="f2976-185">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="f2976-186">Esse método pode ser substituído para manipular um canal do Teams que está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="f2976-186">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="f2976-187">Para obter mais informações, consulte [Canal criado em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) eventos de atualização de [conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-187">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="f2976-188">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="f2976-188">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="f2976-189">Esse método pode ser substituído para manipular um canal do Teams que está sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="f2976-189">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="f2976-190">Para obter mais informações, consulte [Canal excluído em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) eventos de atualização de [conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-190">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-191">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="f2976-191">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="f2976-192">Esse método pode ser substituído para manipular um canal do Teams que está sendo renomeado.</span><span class="sxs-lookup"><span data-stu-id="f2976-192">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="f2976-193">Para obter mais informações, consulte [Canal renomeado em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-193">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-194">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="f2976-194">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="f2976-195">`return Task.CompletedTask;` Esse método pode ser substituído para manipular uma equipe do Teams que está sendo renomeada.</span><span class="sxs-lookup"><span data-stu-id="f2976-195">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="f2976-196">Para obter mais informações, consulte [Equipe renomeada em](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-196">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-197">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="f2976-197">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="f2976-198">Este método chama o `OnMembersAddedAsync` método em `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="f2976-198">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="f2976-199">O método pode ser substituído para lidar com membros in joining a uma equipe.</span><span class="sxs-lookup"><span data-stu-id="f2976-199">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="f2976-200">Para obter mais informações, consulte [Membros da equipe adicionados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) em [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-200">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-201">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="f2976-201">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="f2976-202">Este método chama o `OnMembersRemovedAsync` método em `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="f2976-202">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="f2976-203">O método pode ser substituído para manipular membros que deixam uma equipe.</span><span class="sxs-lookup"><span data-stu-id="f2976-203">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="f2976-204">Para obter mais informações, consulte [Membros da equipe removidos](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) em [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-204">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="f2976-205">Atividades de invocação do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-205">Teams invoke activities</span></span>

<span data-ttu-id="f2976-206">A lista de manipuladores de atividades do Teams chamado do manipulador `OnInvokeActivityAsync` de atividades do Teams inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-206">The list of Teams activity handlers called from the `OnInvokeActivityAsync` Teams activity handler include the following:</span></span>

| <span data-ttu-id="f2976-207">Invocar tipos</span><span class="sxs-lookup"><span data-stu-id="f2976-207">Invoke types</span></span>                    | <span data-ttu-id="f2976-208">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-208">Handler</span></span>                              | <span data-ttu-id="f2976-209">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-209">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="f2976-210">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-210">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="f2976-211">Esse método é invocado quando uma atividade de invocação de ação de cartão é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-211">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-212">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-212">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="f2976-213">Esse método é invocado quando um cartão de consentimento de arquivo é aceito pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f2976-213">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="f2976-214">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-214">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="f2976-215">Esse método é invocado quando uma atividade de cartão de consentimento de arquivo é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-215">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-216">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-216">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="f2976-217">Esse método é invocado quando um cartão de consentimento de arquivo é recusado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f2976-217">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="f2976-218">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="f2976-218">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="f2976-219">Esse método é invocado quando uma atividade de ação do cartão do conector do O365 é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-219">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-220">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="f2976-220">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="f2976-221">Esse método é invocado quando uma atividade de estado de entrada é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-221">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-222">task/fetch</span><span class="sxs-lookup"><span data-stu-id="f2976-222">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="f2976-223">Esse método pode ser substituído em uma classe derivada para fornecer lógica quando um módulo de tarefa é buscado.</span><span class="sxs-lookup"><span data-stu-id="f2976-223">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="f2976-224">tarefa/envio</span><span class="sxs-lookup"><span data-stu-id="f2976-224">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="f2976-225">Esse método pode ser substituído em uma classe derivada para fornecer lógica quando um módulo de tarefa é enviado.</span><span class="sxs-lookup"><span data-stu-id="f2976-225">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="f2976-226">As atividades de invocação listadas nesta seção são para bots de conversa no Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-226">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="f2976-227">O SDK da Estrutura de Bot também dá suporte a atividades de invocação específicas para extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="f2976-227">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="f2976-228">Para obter mais informações, consulte [O que são extensões de mensagens.](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="f2976-228">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="javascript"></a>[<span data-ttu-id="f2976-229">JavaScript</span><span class="sxs-lookup"><span data-stu-id="f2976-229">JavaScript</span></span>](#tab/javascript)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="f2976-230">Manipuladores do Core Bot Framework</span><span class="sxs-lookup"><span data-stu-id="f2976-230">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="f2976-231">Exceto pelas atividades  *dos* membros adicionados e removidos, todos os manipuladores de atividades descritos nesta seção continuam a funcionar da mesma forma que com um bot que não seja do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-231">Except for the *added* and *removed* members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="f2976-232">Manipuladores de atividades são diferentes no contexto de uma equipe, onde o novo membro é adicionado à equipe em vez de um thread de mensagem.</span><span class="sxs-lookup"><span data-stu-id="f2976-232">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="f2976-233">A lista de manipuladores definidos `ActivityHandler` inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-233">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="f2976-234">Event</span><span class="sxs-lookup"><span data-stu-id="f2976-234">Event</span></span> | <span data-ttu-id="f2976-235">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-235">Handler</span></span> | <span data-ttu-id="f2976-236">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-236">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="f2976-237">Qualquer tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="f2976-237">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="f2976-238">Esse método chama um dos outros manipuladores, com base no tipo de atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="f2976-238">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="f2976-239">Atividade de mensagem recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-239">Message activity received</span></span> | `onMessage` | <span data-ttu-id="f2976-240">Esse método ajuda a manipular uma `Message` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-240">This method helps to handle a `Message` activity.</span></span> |
| <span data-ttu-id="f2976-241">Atividade de atualização de conversa recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-241">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="f2976-242">Esse método chama um manipulador se membros diferentes do bot ingressaram ou deixaram a conversa em uma `ConversationUpdate` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-242">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="f2976-243">Membros não bot ingressam na conversa</span><span class="sxs-lookup"><span data-stu-id="f2976-243">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="f2976-244">Esse método ajuda a manipular membros que estão inando em uma conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-244">This method helps to handle members joining a conversation.</span></span> |
| <span data-ttu-id="f2976-245">Membros não bot deixaram a conversa</span><span class="sxs-lookup"><span data-stu-id="f2976-245">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="f2976-246">Esse método ajuda a manipular membros que deixam uma conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-246">This method helps to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="f2976-247">Atividade de evento recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-247">Event activity received</span></span> | `onEvent` | <span data-ttu-id="f2976-248">Esse método chama um manipulador específico para o tipo de evento, em uma `Event` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-248">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="f2976-249">Atividade de evento de resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-249">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="f2976-250">Esse método ajuda a manipular eventos de resposta de token.</span><span class="sxs-lookup"><span data-stu-id="f2976-250">This method helps to handle token response events.</span></span> |
| <span data-ttu-id="f2976-251">Outro tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="f2976-251">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="f2976-252">Esse método ajuda a manipular qualquer tipo de atividade sem ser utilizado.</span><span class="sxs-lookup"><span data-stu-id="f2976-252">This method helps to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="f2976-253">Manipuladores de atividades específicos do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-253">Teams specific activity handlers</span></span>

<span data-ttu-id="f2976-254">Estende `TeamsActivityHandler` a lista de manipuladores na seção manipuladores do Core Bot Framework para incluir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-254">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="f2976-255">Event</span><span class="sxs-lookup"><span data-stu-id="f2976-255">Event</span></span> | <span data-ttu-id="f2976-256">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-256">Handler</span></span> | <span data-ttu-id="f2976-257">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-257">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="f2976-258">channelCreated</span><span class="sxs-lookup"><span data-stu-id="f2976-258">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="f2976-259">Esse método pode ser substituído para manipular um canal do Teams que está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="f2976-259">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="f2976-260">Para obter mais informações, consulte [Canal criado em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) eventos de atualização de [conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-260">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="f2976-261">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="f2976-261">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="f2976-262">Esse método pode ser substituído para manipular um canal do Teams que está sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="f2976-262">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="f2976-263">Para obter mais informações, consulte [Canal excluído em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) eventos de atualização de [conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-263">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-264">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="f2976-264">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="f2976-265">Esse método pode ser substituído para manipular um canal do Teams que está sendo renomeado.</span><span class="sxs-lookup"><span data-stu-id="f2976-265">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="f2976-266">Para obter mais informações, consulte [Canal renomeado em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-266">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="f2976-267">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="f2976-267">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="f2976-268">`return Task.CompletedTask;` Esse método pode ser substituído para manipular uma equipe do Teams que está sendo renomeada.</span><span class="sxs-lookup"><span data-stu-id="f2976-268">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="f2976-269">Para obter mais informações, consulte [Equipe renomeada em](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-269">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="f2976-270">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="f2976-270">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="f2976-271">Este método chama o `OnMembersAddedAsync` método em `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="f2976-271">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="f2976-272">O método pode ser substituído para lidar com membros in joining a uma equipe.</span><span class="sxs-lookup"><span data-stu-id="f2976-272">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="f2976-273">Para obter mais informações, consulte [Membros da equipe adicionados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) em [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-273">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="f2976-274">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="f2976-274">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="f2976-275">Este método chama o `OnMembersRemovedAsync` método em `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="f2976-275">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="f2976-276">O método pode ser substituído para manipular membros que deixam uma equipe.</span><span class="sxs-lookup"><span data-stu-id="f2976-276">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="f2976-277">Para obter mais informações, consulte [Membros da equipe removidos](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) em [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-277">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="f2976-278">Atividades de invocação do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-278">Teams invoke activities</span></span>

<span data-ttu-id="f2976-279">A lista de manipuladores de atividades do Teams chamado do manipulador `onInvokeActivity` de atividades do Teams inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-279">The list of Teams activity handlers called from the `onInvokeActivity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="f2976-280">Invocar tipos</span><span class="sxs-lookup"><span data-stu-id="f2976-280">Invoke types</span></span>                    | <span data-ttu-id="f2976-281">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-281">Handler</span></span>                              | <span data-ttu-id="f2976-282">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-282">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="f2976-283">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-283">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="f2976-284">Esse método é invocado quando uma atividade de invocação de ação de cartão é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-284">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-285">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-285">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="f2976-286">Esse método é invocado quando um cartão de consentimento de arquivo é aceito pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f2976-286">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="f2976-287">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-287">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="f2976-288">Esse método é invocado quando uma atividade de cartão de consentimento de arquivo é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-288">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-289">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-289">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="f2976-290">Esse método é invocado quando um cartão de consentimento de arquivo é recusado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f2976-290">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="f2976-291">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="f2976-291">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="f2976-292">Esse método é invocado quando uma atividade de ação do cartão do conector do O365 é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-292">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-293">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="f2976-293">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="f2976-294">Esse método é invocado quando uma atividade de estado de entrada é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-294">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-295">task/fetch</span><span class="sxs-lookup"><span data-stu-id="f2976-295">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="f2976-296">Esse método pode ser substituído em uma classe derivada para fornecer lógica quando um módulo de tarefa é buscado.</span><span class="sxs-lookup"><span data-stu-id="f2976-296">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="f2976-297">tarefa/envio</span><span class="sxs-lookup"><span data-stu-id="f2976-297">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="f2976-298">Esse método pode ser substituído em uma classe derivada para fornecer lógica quando um módulo de tarefa é enviado.</span><span class="sxs-lookup"><span data-stu-id="f2976-298">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="f2976-299">As atividades de invocação listadas nesta seção são para bots de conversa no Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-299">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="f2976-300">O SDK da Estrutura de Bot também dá suporte a atividades de invocação específicas para extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="f2976-300">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="f2976-301">Para obter mais informações, [consulte O que são extensões de mensagens.](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="f2976-301">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="f2976-302">Python</span><span class="sxs-lookup"><span data-stu-id="f2976-302">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="f2976-303">Manipuladores do Core Bot Framework</span><span class="sxs-lookup"><span data-stu-id="f2976-303">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="f2976-304">Exceto pelas atividades  *dos* membros adicionados e removidos, todos os manipuladores de atividades descritos nesta seção continuam a funcionar da mesma forma que com um bot que não seja do Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-304">Except for the *added* and *removed* members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="f2976-305">Manipuladores de atividades são diferentes no contexto de uma equipe, onde o novo membro é adicionado à equipe em vez de um thread de mensagem.</span><span class="sxs-lookup"><span data-stu-id="f2976-305">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="f2976-306">A lista de manipuladores definidos `ActivityHandler` inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-306">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="f2976-307">Event</span><span class="sxs-lookup"><span data-stu-id="f2976-307">Event</span></span> | <span data-ttu-id="f2976-308">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-308">Handler</span></span> | <span data-ttu-id="f2976-309">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-309">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="f2976-310">Qualquer tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="f2976-310">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="f2976-311">Esse método chama um dos outros manipuladores, com base no tipo de atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="f2976-311">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="f2976-312">Atividade de mensagem recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-312">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="f2976-313">Esse método pode ser substituído para manipular uma `Message` atividade.</span><span class="sxs-lookup"><span data-stu-id="f2976-313">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="f2976-314">Atividade de atualização de conversa recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-314">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="f2976-315">Esse método chama um manipulador se membros diferentes do bot ingressarem ou saírem da conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-315">This method calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="f2976-316">Membros não bot ingressam na conversa</span><span class="sxs-lookup"><span data-stu-id="f2976-316">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="f2976-317">Esse método pode ser substituído para manipular membros in joining a uma conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-317">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="f2976-318">Membros não bot deixaram a conversa</span><span class="sxs-lookup"><span data-stu-id="f2976-318">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="f2976-319">Esse método pode ser substituído para manipular membros que deixam uma conversa.</span><span class="sxs-lookup"><span data-stu-id="f2976-319">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="f2976-320">Atividade de evento recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-320">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="f2976-321">Esse método chama um manipulador específico para o tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="f2976-321">This method calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="f2976-322">Atividade de evento de resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-322">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="f2976-323">Esse método pode ser substituído para manipular eventos de resposta de token.</span><span class="sxs-lookup"><span data-stu-id="f2976-323">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="f2976-324">Atividade de evento de não-resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="f2976-324">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="f2976-325">Esse método pode ser substituído para lidar com outros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="f2976-325">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="f2976-326">Outros tipos de atividade recebidos</span><span class="sxs-lookup"><span data-stu-id="f2976-326">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="f2976-327">Esse método pode ser substituído para manipular qualquer tipo de atividade que não seja manipulada.</span><span class="sxs-lookup"><span data-stu-id="f2976-327">This method can be overridden to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="f2976-328">Manipuladores de atividades específicos do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-328">Teams specific activity handlers</span></span>

<span data-ttu-id="f2976-329">Estende `TeamsActivityHandler` a lista de manipuladores da seção manipuladores do Core Bot Framework para incluir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-329">The `TeamsActivityHandler` extends the list of handlers from the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="f2976-330">Event</span><span class="sxs-lookup"><span data-stu-id="f2976-330">Event</span></span> | <span data-ttu-id="f2976-331">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-331">Handler</span></span> | <span data-ttu-id="f2976-332">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-332">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="f2976-333">channelCreated</span><span class="sxs-lookup"><span data-stu-id="f2976-333">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="f2976-334">Esse método pode ser substituído para manipular um canal do Teams que está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="f2976-334">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="f2976-335">Para obter mais informações, consulte [Canal criado em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) eventos de atualização de [conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-335">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="f2976-336">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="f2976-336">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="f2976-337">Esse método pode ser substituído para manipular um canal do Teams que está sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="f2976-337">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="f2976-338">Para obter mais informações, consulte [Canal excluído em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) eventos de atualização de [conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-338">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-339">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="f2976-339">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="f2976-340">Esse método pode ser substituído para manipular um canal do Teams que está sendo renomeado.</span><span class="sxs-lookup"><span data-stu-id="f2976-340">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="f2976-341">Para obter mais informações, consulte [Canal renomeado em](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-341">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-342">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="f2976-342">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="f2976-343">`return Task.CompletedTask;` Esse método pode ser substituído para manipular uma equipe do Teams que está sendo renomeada.</span><span class="sxs-lookup"><span data-stu-id="f2976-343">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="f2976-344">Para obter mais informações, consulte [Equipe renomeada em](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-344">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-345">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="f2976-345">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="f2976-346">Este método chama o `OnMembersAddedAsync` método em `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="f2976-346">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="f2976-347">O método pode ser substituído para lidar com membros in joining a uma equipe.</span><span class="sxs-lookup"><span data-stu-id="f2976-347">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="f2976-348">Para obter mais informações, consulte [Membros da equipe adicionados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) em [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-348">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="f2976-349">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="f2976-349">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="f2976-350">Este método chama o `OnMembersRemovedAsync` método em `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="f2976-350">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="f2976-351">O método pode ser substituído para manipular membros que deixam uma equipe.</span><span class="sxs-lookup"><span data-stu-id="f2976-351">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="f2976-352">Para obter mais informações, consulte [Membros da equipe removidos](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) em [eventos de atualização de conversa.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="f2976-352">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="f2976-353">Atividades de invocação do Teams</span><span class="sxs-lookup"><span data-stu-id="f2976-353">Teams invoke activities</span></span>

<span data-ttu-id="f2976-354">A lista de manipuladores de atividades do Teams chamado do manipulador `on_invoke_activity` de atividades do Teams inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2976-354">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="f2976-355">Invocar tipos</span><span class="sxs-lookup"><span data-stu-id="f2976-355">Invoke types</span></span>                    | <span data-ttu-id="f2976-356">Manipulador</span><span class="sxs-lookup"><span data-stu-id="f2976-356">Handler</span></span>                              | <span data-ttu-id="f2976-357">Descrição</span><span class="sxs-lookup"><span data-stu-id="f2976-357">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="f2976-358">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-358">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="f2976-359">Esse método é invocado quando uma atividade de invocação de ação de cartão é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-359">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-360">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-360">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="f2976-361">Esse método é invocado quando um cartão de consentimento de arquivo é aceito pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f2976-361">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="f2976-362">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-362">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="f2976-363">Esse método é invocado quando uma atividade de cartão de consentimento de arquivo é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-363">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-364">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="f2976-364">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="f2976-365">Esse método é invocado quando um cartão de consentimento de arquivo é recusado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f2976-365">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="f2976-366">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="f2976-366">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="f2976-367">Esse método é invocado quando uma atividade de ação do cartão do conector do O365 é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-367">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-368">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="f2976-368">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="f2976-369">Esse método é invocado quando um signIn verifica se a atividade de estado é recebida do conector.</span><span class="sxs-lookup"><span data-stu-id="f2976-369">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="f2976-370">task/fetch</span><span class="sxs-lookup"><span data-stu-id="f2976-370">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="f2976-371">Esse método pode ser substituído em uma classe derivada para fornecer lógica quando um módulo de tarefa é buscado.</span><span class="sxs-lookup"><span data-stu-id="f2976-371">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="f2976-372">tarefa/envio</span><span class="sxs-lookup"><span data-stu-id="f2976-372">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="f2976-373">Esse método pode ser substituído em uma classe derivada para fornecer lógica quando um módulo de tarefa é enviado.</span><span class="sxs-lookup"><span data-stu-id="f2976-373">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="f2976-374">As atividades de invocação listadas nesta seção são para bots de conversa no Teams.</span><span class="sxs-lookup"><span data-stu-id="f2976-374">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="f2976-375">O SDK da Estrutura de Bot também dá suporte a atividades de invocação específicas para extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="f2976-375">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="f2976-376">Para obter mais informações, consulte [O que são extensões de mensagens.](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="f2976-376">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---
