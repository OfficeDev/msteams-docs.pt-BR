---
title: Noções básicas de bot
author: clearab
description: Entenda as noções básicas dos bots no Teams.
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 43dd351b30fdba3435d39aca43aae0f2de00ed24
ms.sourcegitcommit: d0e71ea63af2f67eba75ba283ec46cc7cdf87d75
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/24/2020
ms.locfileid: "49731955"
---
# <a name="bot-basics"></a><span data-ttu-id="51c0a-103">Noções básicas de bot</span><span class="sxs-lookup"><span data-stu-id="51c0a-103">Bot basics</span></span>

<span data-ttu-id="51c0a-104">Esta é uma introdução que se baseia no artigo [como os bots funcionam](https://aka.ms/how-bots-work) na documentação principal da [estrutura do bot](https://aka.ms/azure-bot-service-docs).</span><span class="sxs-lookup"><span data-stu-id="51c0a-104">This is an introduction that builds on the article [How bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="51c0a-105">Você pode encontrar esse artigo e os outros artigos na seção *conceitos* , útil.</span><span class="sxs-lookup"><span data-stu-id="51c0a-105">You may find that article, and the other articles in the *Concepts* section, useful.</span></span>

<span data-ttu-id="51c0a-106">A principal diferença no bots desenvolvido para o Microsoft Teams é a forma como as atividades são tratadas.</span><span class="sxs-lookup"><span data-stu-id="51c0a-106">The primary difference in bots developed for Microsoft Teams is in how the activities are handled.</span></span> <span data-ttu-id="51c0a-107">O manipulador de atividades do Microsoft Teams é derivado do manipulador de atividades da estrutura de bot para encaminhar todas as atividades do teams antes de permitir que qualquer atividade específica de terceiros não possa ser manipulada.</span><span class="sxs-lookup"><span data-stu-id="51c0a-107">The Microsoft Teams activity handler derives from the Bot Framework's activity handler to route  all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="51c0a-108">Manipuladores de atividade do teams</span><span class="sxs-lookup"><span data-stu-id="51c0a-108">Teams Activity handlers</span></span>

<span data-ttu-id="51c0a-109">Quando um bot para o Microsoft Teams recebe uma atividade, ele a passa para seus *manipuladores de atividade*.</span><span class="sxs-lookup"><span data-stu-id="51c0a-109">When a bot for Microsoft Teams receives an activity, it passes it on to its *activity handlers*.</span></span> <span data-ttu-id="51c0a-110">Nos bastidores, há um manipulador de base chamado de *manipulador de ativação*, que todas as atividades são roteadas.</span><span class="sxs-lookup"><span data-stu-id="51c0a-110">Under the covers, there's one base handler called the *turn handler*, that all activities are routed through.</span></span> <span data-ttu-id="51c0a-111">O *manipulador de Turn* chama o manipulador de atividade necessário para lidar com qualquer tipo de atividade recebido.</span><span class="sxs-lookup"><span data-stu-id="51c0a-111">The *turn handler* calls the required activity handler to handle whatever type of activity was received.</span></span> <span data-ttu-id="51c0a-112">Onde um bot projetado para o Microsoft Teams difere é que ele é derivado de `TeamsActivityHandler` uma classe derivada da classe da estrutura de bot `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-112">Where a bot designed for Microsoft Teams differs is that it is derived from `TeamsActivityHandler` class that is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="51c0a-113">C#</span><span class="sxs-lookup"><span data-stu-id="51c0a-113">C#</span></span>](#tab/csharp)

<span data-ttu-id="51c0a-114">Como com qualquer bot criado usando o Microsoft bot Framework, se o bot receber uma atividade de mensagem, o manipulador de ativação vê essa atividade de entrada e a envia para o `OnMessageActivityAsync` manipulador de atividade.</span><span class="sxs-lookup"><span data-stu-id="51c0a-114">As with any bot created using the Microsoft Bot Framework, if the bot receives a message activity, the turn handler sees that incoming activity and sends it to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="51c0a-115">No Teams, essa funcionalidade permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="51c0a-115">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="51c0a-116">Se o bot receber uma atividade de atualização de conversa, o manipulador de ativação enxergará a atividade de entrada e a enviará para o `OnConversationUpdateActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-116">If the bot receives a conversation update activity, the turn handler sees that incoming activity and sends it to the `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="51c0a-117">O manipulador de atividades do Microsoft *Teams* que irá primeiro procurar qualquer evento específico do Teams e passá-lo ao manipulador de atividade da estrutura de bot, se nenhum for encontrado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-117">*Teams* activity handler that will first check for any Teams specific events and pass it along to the Bot Framework's activity handler if none are found.</span></span>

<span data-ttu-id="51c0a-118">Na classe do manipulador de atividades do Microsoft Teams, há dois manipuladores de atividade de equipes principais, `OnConversationUpdateActivityAsync` que roteiam todas as atividades de atualização de conversa e `OnInvokeActivityAsync` que roteiam as atividades de chamadas de todas as equipes.</span><span class="sxs-lookup"><span data-stu-id="51c0a-118">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` that routes all conversation update activities, and `OnInvokeActivityAsync` that routes all Teams invoke activities.</span></span>

<span data-ttu-id="51c0a-119">Para implementar sua lógica para manipuladores de atividade específicos do Teams, você substituirá esses métodos no bot, conforme mostrado na seção de [lógica de bot](#bot-logic) abaixo.</span><span class="sxs-lookup"><span data-stu-id="51c0a-119">To implement your logic for Teams specific activity handlers, you'll override these methods in your bot as shown in the [Bot logic](#bot-logic) section below.</span></span> <span data-ttu-id="51c0a-120">Para cada um desses manipuladores, não há nenhuma implementação de base, portanto, basta adicionar a lógica que você deseja na substituição.</span><span class="sxs-lookup"><span data-stu-id="51c0a-120">For each of these handlers, there is no base implementation, so just add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="51c0a-121">JavaScript</span><span class="sxs-lookup"><span data-stu-id="51c0a-121">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="51c0a-122">Como com qualquer bot criado usando o Microsoft bot Framework, se o bot receber uma atividade de mensagem, o manipulador de ativação vê essa atividade de entrada e a envia para o `onMessage` manipulador de atividade.</span><span class="sxs-lookup"><span data-stu-id="51c0a-122">As with any bot created using the Microsoft Bot Framework, if the bot receives a message activity, the turn handler sees that incoming activity and sends it to the `onMessage` activity handler.</span></span> <span data-ttu-id="51c0a-123">No Teams, essa funcionalidade permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="51c0a-123">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="51c0a-124">Se o bot receber uma atividade de atualização de conversa, o manipulador de ativação enxergará a atividade de entrada e a enviará para o `dispatchConversationUpdateActivity` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-124">If the bot receives a conversation update activity, the turn handler sees that incoming activity and sends it to the `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="51c0a-125">O manipulador de atividades do Microsoft *Teams* que irá primeiro procurar qualquer evento específico do Teams e passá-lo ao manipulador de atividade de estruturas de bot, se nenhum for encontrado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-125">*Teams* activity handler that will first check for any Teams specific events and pass it along to the bot frameworks activity handler if none are found.</span></span>

<span data-ttu-id="51c0a-126">Na classe do manipulador de atividades do Microsoft Teams, há dois manipuladores de atividade de equipes principais, `dispatchConversationUpdateActivity` que roteiam todas as atividades de atualização de conversa e `onInvokeActivity` que roteiam as atividades de chamadas de todas as equipes.</span><span class="sxs-lookup"><span data-stu-id="51c0a-126">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` that routes all conversation update Activities, and `onInvokeActivity` that routes all Teams invoke activities.</span></span>

<span data-ttu-id="51c0a-127">Para implementar sua lógica para manipuladores de atividade específicos do Teams, você substituirá esses métodos no bot conforme visto na seção [lógica de bot](#bot-logic) .</span><span class="sxs-lookup"><span data-stu-id="51c0a-127">To implement your logic for Teams specific activity handlers, you'll override these methods in your bot as seen in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="51c0a-128">Para cada um desses manipuladores, defina sua lógica de bot e, em seguida, **não se esqueça de ligar para `next()` o fim**.</span><span class="sxs-lookup"><span data-stu-id="51c0a-128">For each of these handlers, define your bot logic, then **be sure to call `next()` at the end**.</span></span> <span data-ttu-id="51c0a-129">Chamando `next()` você garante que o próximo manipulador será executado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-129">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="51c0a-130">Python</span><span class="sxs-lookup"><span data-stu-id="51c0a-130">Python</span></span>](#tab/python)

<span data-ttu-id="51c0a-131">Os bots são criados usando a estrutura do Microsoft bot, se esse bot receber uma atividade de mensagem, então o manipulador de ativação recebe uma notificação da atividade de entrada.</span><span class="sxs-lookup"><span data-stu-id="51c0a-131">Bots are created using the Microsoft Bot Framework, if these bot receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="51c0a-132">O manipulador Turn, em seguida, envia a atividade de entrada para o `on_message_activity` manipulador de atividade.</span><span class="sxs-lookup"><span data-stu-id="51c0a-132">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="51c0a-133">No Teams, essa funcionalidade permanece a mesma.</span><span class="sxs-lookup"><span data-stu-id="51c0a-133">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="51c0a-134">Se o bot receber uma atividade de atualização de conversa, o manipulador de ativação receberá uma notificação da atividade de entrada e enviará a atividade de entrada para `on_conversation_update_activity` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-134">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="51c0a-135">O manipulador de atividades do Microsoft Teams primeiro verificará eventos específicos do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-135">The Teams activity handler will first check for any Teams specific events.</span></span> <span data-ttu-id="51c0a-136">Se nenhum evento for encontrado, ele passará para o manipulador de atividade da estrutura de bot.</span><span class="sxs-lookup"><span data-stu-id="51c0a-136">If no events are found, it will then pass them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="51c0a-137">Na classe do manipulador de atividades do Teams, há dois manipuladores de atividade principais do teams `on_conversation_update_activity` e `on_invoke_activity` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-137">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="51c0a-138">`on_conversation_update_activity` roteia todas as atividades de atualização de conversa e `on_invoke_activity` roteia todas as atividades de chamada de equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-138">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="51c0a-139">Para implementar sua lógica para manipuladores de atividade específicos do Teams, você precisa substituir esses métodos no bot conforme mostrado na seção de [lógica de bot](#bot-logic) .</span><span class="sxs-lookup"><span data-stu-id="51c0a-139">To implement your logic for Teams specific activity handlers, you need to override these methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="51c0a-140">Não há nenhuma implementação de base para esses manipuladores, portanto, você precisa adicionar a lógica que você deseja na substituição.</span><span class="sxs-lookup"><span data-stu-id="51c0a-140">There is no base implementation for these handlers, therefore, you need to add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="51c0a-141">Lógica de bot</span><span class="sxs-lookup"><span data-stu-id="51c0a-141">Bot logic</span></span>

<span data-ttu-id="51c0a-142">A lógica de bot processa as atividades de entrada de um ou mais dos seus canais de bot e gera atividades de saída em resposta.</span><span class="sxs-lookup"><span data-stu-id="51c0a-142">The bot logic processes incoming activities from one or more of your bot channels and generates outgoing activities in response.</span></span>  <span data-ttu-id="51c0a-143">Isso ainda se aplica aos bots provenientes da classe manipulador de atividades do Microsoft Teams, que primeiro verifica as atividades de equipes e, em seguida, passa todas as outras atividades para o manipulador de atividade de estruturas de bot.</span><span class="sxs-lookup"><span data-stu-id="51c0a-143">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities, then passes all other activities to the bot frameworks activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="51c0a-144">C#</span><span class="sxs-lookup"><span data-stu-id="51c0a-144">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="51c0a-145">Manipuladores da estrutura principal do bot</span><span class="sxs-lookup"><span data-stu-id="51c0a-145">Core Bot Framework handlers</span></span>

<span data-ttu-id="51c0a-146">Todos os manipuladores de atividade descritos abaixo continuarão a funcionar como fazem com um bot que não é um Teams, com exceção das atividades de tratamento de membros *adicionados* e membros *removidos* , eles serão diferentes no contexto de uma equipe, onde o novo membro é adicionado à equipe, em vez de um thread de mensagem.</span><span class="sxs-lookup"><span data-stu-id="51c0a-146">All of the activity handlers described below will continue to work as they do with a non-Teams bot, with the exception of handling members *added* and members *removed* activities, these will be different in the context of a team, where the new member is added to the team as opposed to a message thread.</span></span>

<span data-ttu-id="51c0a-147">Os manipuladores definidos no `ActivityHandler` são descritos abaixo:</span><span class="sxs-lookup"><span data-stu-id="51c0a-147">The handlers defined in `ActivityHandler` are outlined below:</span></span>

| <span data-ttu-id="51c0a-148">Evento</span><span class="sxs-lookup"><span data-stu-id="51c0a-148">Event</span></span> | <span data-ttu-id="51c0a-149">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-149">Handler</span></span> | <span data-ttu-id="51c0a-150">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-150">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="51c0a-151">Qualquer tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="51c0a-151">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="51c0a-152">Chama um dos outros manipuladores, com base no tipo de atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="51c0a-152">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="51c0a-153">Atividade de mensagem recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-153">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="51c0a-154">Substitua isso para lidar com uma `Message` atividade.</span><span class="sxs-lookup"><span data-stu-id="51c0a-154">Override this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="51c0a-155">Atividade de atualização de conversa recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-155">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="51c0a-156">Em uma `ConversationUpdate` atividade, chama um manipulador se outros membros que não o bot ingressaram ou saíram da conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-156">On a `ConversationUpdate` activity, calls a handler if members other than the bot joined or left the conversation.</span></span> |
| <span data-ttu-id="51c0a-157">Membros não-bot ingressaram na conversa</span><span class="sxs-lookup"><span data-stu-id="51c0a-157">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="51c0a-158">Substitua isso para lidar com membros que participam de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-158">Override this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="51c0a-159">Membros que não são bot saíram da conversa</span><span class="sxs-lookup"><span data-stu-id="51c0a-159">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="51c0a-160">Substitua isso para lidar com membros que saem de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-160">Override this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="51c0a-161">Atividade de evento recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-161">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="51c0a-162">Em uma `Event` atividade, chama um manipulador específico para o tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="51c0a-162">On an `Event` activity, calls a handler specific to the event type.</span></span> |
| <span data-ttu-id="51c0a-163">Atividade de evento de resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-163">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="51c0a-164">Substitua isso para manipular eventos de resposta de token.</span><span class="sxs-lookup"><span data-stu-id="51c0a-164">Override this to handle token response events.</span></span> |
| <span data-ttu-id="51c0a-165">Atividade de evento de resposta não token recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-165">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="51c0a-166">Substitua isso para manipular outros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="51c0a-166">Override this to handle other types of events.</span></span> |
| <span data-ttu-id="51c0a-167">Outro tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="51c0a-167">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="51c0a-168">Substitua isso para lidar com qualquer tipo de atividade, caso contrário, não manipulado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-168">Override this to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="51c0a-169">Manipuladores específicos de equipes</span><span class="sxs-lookup"><span data-stu-id="51c0a-169">Teams-specific handlers</span></span>

<span data-ttu-id="51c0a-170">O `TeamsActivityHandler` estende a lista de manipuladores acima para incluir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="51c0a-170">The `TeamsActivityHandler` extends the list of handlers above to include the following:</span></span>

| <span data-ttu-id="51c0a-171">Evento</span><span class="sxs-lookup"><span data-stu-id="51c0a-171">Event</span></span> | <span data-ttu-id="51c0a-172">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-172">Handler</span></span> | <span data-ttu-id="51c0a-173">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-173">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="51c0a-174">channelCreated</span><span class="sxs-lookup"><span data-stu-id="51c0a-174">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="51c0a-175">Substitua isso para manipular um canal do teams que está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-175">Override this to handle a Teams channel being created.</span></span> <span data-ttu-id="51c0a-176">Para obter mais informações, consulte [canal criado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-176">For more information see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="51c0a-177">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="51c0a-177">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="51c0a-178">Substitua isso para manipular um canal do teams que está sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="51c0a-178">Override this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="51c0a-179">Para obter mais informações, consulte [canal excluído](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-179">For more information see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-180">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="51c0a-180">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="51c0a-181">Substitua isso para manipular um canal do teams que está sendo renomeado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-181">Override this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="51c0a-182">Para obter mais informações, consulte [canal renomeado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-182">For more information see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-183">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="51c0a-183">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="51c0a-184">`return Task.CompletedTask;` Substitua isso para lidar com a equipe de equipes que está sendo renomeada.</span><span class="sxs-lookup"><span data-stu-id="51c0a-184">`return Task.CompletedTask;` Override this to handle a Teams Team being Renamed.</span></span> <span data-ttu-id="51c0a-185">Para obter mais informações, confira [Team renomeado](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-185">For more information see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-186">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="51c0a-186">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="51c0a-187">Chama o `OnMembersAddedAsync` método no `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-187">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="51c0a-188">Substitua isso para lidar com membros que participam de uma equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-188">Override this to handle members joining a team.</span></span> <span data-ttu-id="51c0a-189">Para obter mais informações, consulte [membros da equipe adicionados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-189">For more information see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-190">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="51c0a-190">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="51c0a-191">Chama o `OnMembersRemovedAsync` método no `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-191">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="51c0a-192">Substitua isso para lidar com os membros que saem de uma equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-192">Override this to handle members leaving a team.</span></span> <span data-ttu-id="51c0a-193">Para obter mais informações, consulte [membros da equipe removidos](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-193">For more information see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="51c0a-194">Atividades de invocação do teams</span><span class="sxs-lookup"><span data-stu-id="51c0a-194">Teams invoke activities</span></span>

<span data-ttu-id="51c0a-195">Veja a seguir uma lista de todos os manipuladores de atividade do teams chamados do manipulador de atividade do `OnInvokeActivityAsync` _Teams_ :</span><span class="sxs-lookup"><span data-stu-id="51c0a-195">Here is a list of all of the Teams activity handlers called from the `OnInvokeActivityAsync` _Teams_ activity handler:</span></span>

| <span data-ttu-id="51c0a-196">Tipos de invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-196">Invoke types</span></span>                    | <span data-ttu-id="51c0a-197">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-197">Handler</span></span>                              | <span data-ttu-id="51c0a-198">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-198">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="51c0a-199">Cardaction. Invoke</span><span class="sxs-lookup"><span data-stu-id="51c0a-199">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="51c0a-200">Invocação de ação de cartão de equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-200">Teams Card Action Invoke.</span></span> |
| <span data-ttu-id="51c0a-201">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-201">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="51c0a-202">Aceitação de consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-202">Teams File Consent Accept.</span></span> |
| <span data-ttu-id="51c0a-203">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-203">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="51c0a-204">Consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-204">Teams File Consent.</span></span> |
| <span data-ttu-id="51c0a-205">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-205">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="51c0a-206">Consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-206">Teams File Consent.</span></span> |
| <span data-ttu-id="51c0a-207">actionableMessage/ExecuteAction</span><span class="sxs-lookup"><span data-stu-id="51c0a-207">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="51c0a-208">Ação do cartão de conector do O365 da equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-208">Teams O365 connector Card Action.</span></span> |
| <span data-ttu-id="51c0a-209">entrada/verificação</span><span class="sxs-lookup"><span data-stu-id="51c0a-209">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="51c0a-210">O estado de verificação do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-210">Teams Sign in Verify State.</span></span> |
| <span data-ttu-id="51c0a-211">tarefa/busca</span><span class="sxs-lookup"><span data-stu-id="51c0a-211">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="51c0a-212">Busca do módulo de tarefa do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-212">Teams Task Module Fetch.</span></span> |
| <span data-ttu-id="51c0a-213">tarefa/envio</span><span class="sxs-lookup"><span data-stu-id="51c0a-213">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="51c0a-214">Envio do módulo de tarefas do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-214">Teams Task Module Submit.</span></span> |

<span data-ttu-id="51c0a-215">As atividades de invocação listadas acima são para bots de conversas no Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-215">The invoke activities listed above are for conversational bots in Teams.</span></span> <span data-ttu-id="51c0a-216">O SDK da estrutura de bot também oferece suporte a chamadas específicas para extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="51c0a-216">The Bot Framework SDK also supports invokes specific to messaging extensions.</span></span> <span data-ttu-id="51c0a-217">Para obter mais informações, consulte [o que são extensões de mensagens](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="51c0a-217">For more information see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions)</span></span>

# <a name="javascript"></a>[<span data-ttu-id="51c0a-218">JavaScript</span><span class="sxs-lookup"><span data-stu-id="51c0a-218">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="51c0a-219">Todos os manipuladores de atividade descritos abaixo continuarão a funcionar como fazem com um bot que não é um Teams, com a exceção de lidar com as atividades dos membros *adicionados* e *removidas* , eles serão diferentes no contexto de uma equipe, onde o novo membro é adicionado à equipe, em vez de um thread de mensagem.</span><span class="sxs-lookup"><span data-stu-id="51c0a-219">All of the activity handlers described below will continue to work as they do with a non-Teams bot, with the exception of handling the members *added* and members *removed* activities, these will be different in the context of a team, where the new member is added to the team as opposed to a message thread.</span></span>

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="51c0a-220">Manipuladores da estrutura principal do bot</span><span class="sxs-lookup"><span data-stu-id="51c0a-220">Core Bot Framework handlers</span></span>

<span data-ttu-id="51c0a-221">Os manipuladores definidos no `ActivityHandler` são descritos abaixo.</span><span class="sxs-lookup"><span data-stu-id="51c0a-221">The handlers defined in `ActivityHandler` are outlined below.</span></span>

| <span data-ttu-id="51c0a-222">Evento</span><span class="sxs-lookup"><span data-stu-id="51c0a-222">Event</span></span> | <span data-ttu-id="51c0a-223">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-223">Handler</span></span> | <span data-ttu-id="51c0a-224">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-224">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="51c0a-225">Qualquer tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="51c0a-225">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="51c0a-226">Chama um dos outros manipuladores, com base no tipo de atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="51c0a-226">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="51c0a-227">Atividade de mensagem recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-227">Message activity received</span></span> | `onMessage` | <span data-ttu-id="51c0a-228">Forneça uma função para que isso trate de uma `Message` atividade.</span><span class="sxs-lookup"><span data-stu-id="51c0a-228">Provide a function for this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="51c0a-229">Atividade de atualização de conversa recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-229">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="51c0a-230">Em uma `ConversationUpdate` atividade, chama um manipulador se outros membros que não o bot ingressaram ou saíram da conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-230">On a `ConversationUpdate` activity, calls a handler if members other than the bot joined or left the conversation.</span></span> |
| <span data-ttu-id="51c0a-231">Membros não-bot ingressaram na conversa</span><span class="sxs-lookup"><span data-stu-id="51c0a-231">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="51c0a-232">Forneça uma função para isso para lidar com membros que participam de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-232">Provide a function for this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="51c0a-233">Membros que não são bot saíram da conversa</span><span class="sxs-lookup"><span data-stu-id="51c0a-233">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="51c0a-234">Forneça uma função para isso para lidar com os membros que saem de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-234">Provide a function for this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="51c0a-235">Atividade de evento recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-235">Event activity received</span></span> | `onEvent` | <span data-ttu-id="51c0a-236">Em uma `Event` atividade, chama um manipulador específico para o tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="51c0a-236">On an `Event` activity, calls a handler specific to the event type.</span></span> |
| <span data-ttu-id="51c0a-237">Atividade de evento de resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-237">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="51c0a-238">Forneça uma função para tratar de eventos de resposta de token.</span><span class="sxs-lookup"><span data-stu-id="51c0a-238">Provide a function for this to handle token response events.</span></span> |
| <span data-ttu-id="51c0a-239">Outro tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="51c0a-239">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="51c0a-240">Forneça uma função para que isso trate de qualquer tipo de atividade, caso contrário, não manipulado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-240">Provide a function for this to handle any activity type otherwise unhandled.</span></span> |
| <span data-ttu-id="51c0a-241">Manipuladores de atividade concluídos</span><span class="sxs-lookup"><span data-stu-id="51c0a-241">Activity handlers have completed</span></span> | `onDialog` | <span data-ttu-id="51c0a-242">Forneça uma função para que isso trate de qualquer processamento que deve ser feito no final de uma vez depois que o restante de seus manipuladors de atividade tiver concluído.</span><span class="sxs-lookup"><span data-stu-id="51c0a-242">Provide a function for this to handle any processing that should be done at the end of a turn after the rest of your activity handlers have completed.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="51c0a-243">Manipuladores específicos de equipes</span><span class="sxs-lookup"><span data-stu-id="51c0a-243">Teams-specific handlers</span></span>

<span data-ttu-id="51c0a-244">O `TeamsActivityHandler` estende a lista de manipuladores na seção principais manipuladores da estrutura do bot para incluir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="51c0a-244">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="51c0a-245">Evento</span><span class="sxs-lookup"><span data-stu-id="51c0a-245">Event</span></span> | <span data-ttu-id="51c0a-246">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-246">Handler</span></span> | <span data-ttu-id="51c0a-247">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-247">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="51c0a-248">channelCreated</span><span class="sxs-lookup"><span data-stu-id="51c0a-248">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="51c0a-249">Substitua isso para manipular um canal do teams que está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-249">Override this to handle a Teams channel being created.</span></span> <span data-ttu-id="51c0a-250">Para obter mais informações, consulte [canal criado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-250">For more information see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="51c0a-251">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="51c0a-251">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="51c0a-252">Substitua isso para manipular um canal do teams que está sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="51c0a-252">Override this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="51c0a-253">Para obter mais informações, consulte [canal excluído](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-253">For more information see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-254">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="51c0a-254">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="51c0a-255">Substitua isso para manipular um canal do teams que está sendo renomeado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-255">Override this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="51c0a-256">Para obter mais informações, consulte [canal renomeado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-256">For more information see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="51c0a-257">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="51c0a-257">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="51c0a-258">`return Task.CompletedTask;` Substitua isso para lidar com a equipe de equipes que está sendo renomeada.</span><span class="sxs-lookup"><span data-stu-id="51c0a-258">`return Task.CompletedTask;` Override this to handle a Teams team being renamed.</span></span> <span data-ttu-id="51c0a-259">Para obter mais informações, confira [Team renomeado](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-259">For more information see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="51c0a-260">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="51c0a-260">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="51c0a-261">Chama o `OnMembersAddedAsync` método no `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-261">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="51c0a-262">Substitua isso para lidar com membros que participam de uma equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-262">Override this to handle members joining a team.</span></span> <span data-ttu-id="51c0a-263">Para obter mais informações, consulte [membros da equipe adicionados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-263">For more information see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="51c0a-264">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="51c0a-264">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="51c0a-265">Chama o `OnMembersRemovedAsync` método no `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-265">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="51c0a-266">Substitua isso para lidar com os membros que saem de uma equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-266">Override this to handle members leaving a team.</span></span> <span data-ttu-id="51c0a-267">Para obter mais informações, consulte [membros da equipe removidos](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-267">For more information see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="51c0a-268">Atividades de invocação do teams</span><span class="sxs-lookup"><span data-stu-id="51c0a-268">Teams invoke activities</span></span>

<span data-ttu-id="51c0a-269">Veja a seguir uma lista de todos os manipuladores de atividade do teams chamados do `onInvokeActivity` manipulador de atividade do teams:</span><span class="sxs-lookup"><span data-stu-id="51c0a-269">Here is a list of all of the Teams activity handlers called from the `onInvokeActivity` Teams activity handler:</span></span>

| <span data-ttu-id="51c0a-270">Tipos de invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-270">Invoke types</span></span>                    | <span data-ttu-id="51c0a-271">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-271">Handler</span></span>                              | <span data-ttu-id="51c0a-272">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-272">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="51c0a-273">Cardaction. Invoke</span><span class="sxs-lookup"><span data-stu-id="51c0a-273">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="51c0a-274">Invocação de ação de cartão de equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-274">Teams card action invoke.</span></span> |
| <span data-ttu-id="51c0a-275">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-275">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="51c0a-276">Aceitação de consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-276">Teams file consent accept.</span></span> |
| <span data-ttu-id="51c0a-277">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-277">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="51c0a-278">Consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-278">Teams file consent.</span></span> |
| <span data-ttu-id="51c0a-279">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-279">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="51c0a-280">Consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-280">Teams file consent.</span></span> |
| <span data-ttu-id="51c0a-281">actionableMessage/ExecuteAction</span><span class="sxs-lookup"><span data-stu-id="51c0a-281">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="51c0a-282">Ação do cartão de conector do O365 da equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-282">Teams O365 connector card action.</span></span> |
| <span data-ttu-id="51c0a-283">entrada/verificação</span><span class="sxs-lookup"><span data-stu-id="51c0a-283">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="51c0a-284">O estado de verificação do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-284">Teams sign in verify state.</span></span> |
| <span data-ttu-id="51c0a-285">tarefa/busca</span><span class="sxs-lookup"><span data-stu-id="51c0a-285">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="51c0a-286">Busca do módulo de tarefa do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-286">Teams task module fetch.</span></span> |
| <span data-ttu-id="51c0a-287">tarefa/envio</span><span class="sxs-lookup"><span data-stu-id="51c0a-287">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="51c0a-288">Envio do módulo de tarefas do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-288">Teams task module submit.</span></span> |

<span data-ttu-id="51c0a-289">As atividades de invocação listadas na seção atividades de invocação do teams são para bots de conversa no Teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-289">The invoke activities listed in the Teams invoke activities section are for conversational bots in Teams.</span></span> <span data-ttu-id="51c0a-290">O SDK da estrutura de bot também oferece suporte a atividades específicas para extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="51c0a-290">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="51c0a-291">Para obter mais informações, consulte [o que são extensões de mensagens](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="51c0a-291">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="51c0a-292">Python</span><span class="sxs-lookup"><span data-stu-id="51c0a-292">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="51c0a-293">Manipuladores da estrutura principal do bot</span><span class="sxs-lookup"><span data-stu-id="51c0a-293">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="51c0a-294">Exceto para as atividades dos membros adicionados e removidos, todos os manipuladores de atividade descritos nesta seção continuam a funcionar como em um bot não Teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-294">Except for the added and removed members' activities, all of the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="51c0a-295">Manipuladores de atividade são diferentes no contexto de uma equipe, onde o novo membro é adicionado à equipe em vez de um thread de mensagem.</span><span class="sxs-lookup"><span data-stu-id="51c0a-295">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="51c0a-296">A lista de manipuladores definida em `ActivityHandler` inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="51c0a-296">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="51c0a-297">Evento</span><span class="sxs-lookup"><span data-stu-id="51c0a-297">Event</span></span> | <span data-ttu-id="51c0a-298">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-298">Handler</span></span> | <span data-ttu-id="51c0a-299">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-299">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="51c0a-300">Qualquer tipo de atividade recebido</span><span class="sxs-lookup"><span data-stu-id="51c0a-300">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="51c0a-301">Chama um dos outros manipuladores, com base no tipo de atividade recebida.</span><span class="sxs-lookup"><span data-stu-id="51c0a-301">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="51c0a-302">Atividade de mensagem recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-302">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="51c0a-303">Substitui isso para lidar com uma `Message` atividade.</span><span class="sxs-lookup"><span data-stu-id="51c0a-303">Overrides this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="51c0a-304">Atividade de atualização de conversa recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-304">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="51c0a-305">Chama um manipulador se outros membros que não o bot ingressam ou saem da conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-305">Calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="51c0a-306">Membros não-bot ingressaram na conversa</span><span class="sxs-lookup"><span data-stu-id="51c0a-306">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="51c0a-307">Substitui isso para lidar com membros que participam de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-307">Overrides this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="51c0a-308">Membros que não são bot saíram da conversa</span><span class="sxs-lookup"><span data-stu-id="51c0a-308">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="51c0a-309">Substitui isso para lidar com membros que saem de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="51c0a-309">Overrides this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="51c0a-310">Atividade de evento recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-310">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="51c0a-311">Chama um manipulador específico para o tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="51c0a-311">Calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="51c0a-312">Atividade de evento de resposta de token recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-312">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="51c0a-313">Substitui isso para lidar com eventos de resposta de token.</span><span class="sxs-lookup"><span data-stu-id="51c0a-313">Overrides this to handle token response events.</span></span> |
| <span data-ttu-id="51c0a-314">Atividade de evento de resposta não token recebida</span><span class="sxs-lookup"><span data-stu-id="51c0a-314">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="51c0a-315">Substitui isso para manipular outros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="51c0a-315">Overrides this to handle other types of events.</span></span> |
| <span data-ttu-id="51c0a-316">Outros tipos de atividade recebidos</span><span class="sxs-lookup"><span data-stu-id="51c0a-316">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="51c0a-317">Substitui isso para lidar com qualquer tipo de atividade que não é manipulado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-317">Overrides this to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="51c0a-318">Manipuladores específicos de equipes</span><span class="sxs-lookup"><span data-stu-id="51c0a-318">Teams-specific handlers</span></span>

<span data-ttu-id="51c0a-319">O `TeamsActivityHandler` estende a lista de manipuladores da seção manipuladores da estrutura principal do bot para incluir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="51c0a-319">The `TeamsActivityHandler` extends the list of handlers from the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="51c0a-320">Evento</span><span class="sxs-lookup"><span data-stu-id="51c0a-320">Event</span></span> | <span data-ttu-id="51c0a-321">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-321">Handler</span></span> | <span data-ttu-id="51c0a-322">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-322">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="51c0a-323">channelCreated</span><span class="sxs-lookup"><span data-stu-id="51c0a-323">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="51c0a-324">Substitui isso para lidar com um canal de equipe que está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-324">Overrides this to handle a Teams channel being created.</span></span> <span data-ttu-id="51c0a-325">Para obter mais informações, consulte [canal criado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-325">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="51c0a-326">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="51c0a-326">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="51c0a-327">Substitui isso para lidar com um canal do teams sendo excluído.</span><span class="sxs-lookup"><span data-stu-id="51c0a-327">Overrides this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="51c0a-328">Para obter mais informações, consulte [canal excluído](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-328">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-329">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="51c0a-329">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="51c0a-330">Substitui isso para lidar com um canal do teams sendo renomeado.</span><span class="sxs-lookup"><span data-stu-id="51c0a-330">Overrides this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="51c0a-331">Para obter mais informações, consulte [canal renomeado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-331">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-332">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="51c0a-332">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="51c0a-333">`return Task.CompletedTask;` Substitui isso para lidar com a equipe de equipes que está sendo renomeada.</span><span class="sxs-lookup"><span data-stu-id="51c0a-333">`return Task.CompletedTask;` Overrides this to handle a Teams team being renamed.</span></span> <span data-ttu-id="51c0a-334">Para obter mais informações, consulte [Team renomeed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-334">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-335">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="51c0a-335">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="51c0a-336">Chama o `OnMembersAddedAsync` método no `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-336">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="51c0a-337">Substitui isso para lidar com membros que participam de uma equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-337">Overrides this to handle members joining a team.</span></span> <span data-ttu-id="51c0a-338">Para obter mais informações, consulte [membros da equipe adicionados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-338">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="51c0a-339">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="51c0a-339">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="51c0a-340">Chama o `OnMembersRemovedAsync` método no `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="51c0a-340">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="51c0a-341">Substitui isso para lidar com os membros que saem de uma equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-341">Overrides this to handle members leaving a team.</span></span> <span data-ttu-id="51c0a-342">Para obter mais informações, consulte [membros da equipe removidos](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) em [eventos de atualização de conversa](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="51c0a-342">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="51c0a-343">Atividades de invocação do teams</span><span class="sxs-lookup"><span data-stu-id="51c0a-343">Teams invoke activities</span></span>

<span data-ttu-id="51c0a-344">A lista de manipuladores de atividade do teams chamados do `on_invoke_activity` manipulador de atividades do teams inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="51c0a-344">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="51c0a-345">Tipos de invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-345">Invoke types</span></span>                    | <span data-ttu-id="51c0a-346">Indicador</span><span class="sxs-lookup"><span data-stu-id="51c0a-346">Handler</span></span>                              | <span data-ttu-id="51c0a-347">Descrição</span><span class="sxs-lookup"><span data-stu-id="51c0a-347">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="51c0a-348">Cardaction. Invoke</span><span class="sxs-lookup"><span data-stu-id="51c0a-348">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="51c0a-349">Invocação de ação de cartão de equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-349">Teams card action invoke.</span></span> |
| <span data-ttu-id="51c0a-350">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-350">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="51c0a-351">Aceitação de consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-351">Teams file consent accept.</span></span> |
| <span data-ttu-id="51c0a-352">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-352">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="51c0a-353">Consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-353">Teams file consent.</span></span> |
| <span data-ttu-id="51c0a-354">fileconsentimento/invocação</span><span class="sxs-lookup"><span data-stu-id="51c0a-354">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="51c0a-355">Recusa de consentimento de arquivo do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-355">Teams file consent decline.</span></span> |
| <span data-ttu-id="51c0a-356">actionableMessage/ExecuteAction</span><span class="sxs-lookup"><span data-stu-id="51c0a-356">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="51c0a-357">Ação do cartão de conector do O365 da equipe.</span><span class="sxs-lookup"><span data-stu-id="51c0a-357">Teams O365 connector card action.</span></span> |
| <span data-ttu-id="51c0a-358">entrada/verificação</span><span class="sxs-lookup"><span data-stu-id="51c0a-358">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="51c0a-359">O estado de verificação do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-359">Teams sign in verify state.</span></span> |
| <span data-ttu-id="51c0a-360">tarefa/busca</span><span class="sxs-lookup"><span data-stu-id="51c0a-360">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="51c0a-361">Busca do módulo de tarefa do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-361">Teams task module fetch.</span></span> |
| <span data-ttu-id="51c0a-362">tarefa/envio</span><span class="sxs-lookup"><span data-stu-id="51c0a-362">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="51c0a-363">Envio do módulo de tarefas do teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-363">Teams task module submit.</span></span> |

<span data-ttu-id="51c0a-364">As atividades de invocação listadas na seção atividades de invocação do teams são para bots de conversa no Teams.</span><span class="sxs-lookup"><span data-stu-id="51c0a-364">The invoke activities listed in the Teams invoke activities section are for conversational bots in Teams.</span></span> <span data-ttu-id="51c0a-365">O SDK da estrutura de bot também oferece suporte a atividades específicas para extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="51c0a-365">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="51c0a-366">Para obter mais informações, consulte [o que são extensões de mensagens](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="51c0a-366">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---
