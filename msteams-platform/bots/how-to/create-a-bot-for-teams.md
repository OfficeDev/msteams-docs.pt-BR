---
title: Criar um bot para o Microsoft Teams
author: clearab
description: Como criar um bot para o Microsoft Teams usando o aplicativo Studio, Yeoman Generator e outras ferramentas.
ms.topic: conceptual
localization_priority: Priority
ms.author: anclear
ms.openlocfilehash: 03196c32e5e1a4b2714a4c916a71c80fc10a5edc
ms.sourcegitcommit: 1aa0b172931d0f81db346452788c41dc4a6717b9
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/22/2020
ms.locfileid: "48209827"
---
# <a name="create-a-bot-for-microsoft-teams"></a><span data-ttu-id="20bd3-103">Criar um bot para o Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="20bd3-103">Create a bot for Microsoft Teams</span></span>

<span data-ttu-id="20bd3-104">Será necessário concluir as etapas a seguir para criar um bot de conversa:</span><span class="sxs-lookup"><span data-stu-id="20bd3-104">You'll need to complete the following steps to create a conversational bot:</span></span>

1. <span data-ttu-id="20bd3-105">Preparar seu ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="20bd3-105">Prepare your development environment.</span></span>
1. <span data-ttu-id="20bd3-106">Criar seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-106">Create your web service.</span></span>
1. <span data-ttu-id="20bd3-107">Registre seu serviço Web como um bot com o Microsoft bot Framework.</span><span class="sxs-lookup"><span data-stu-id="20bd3-107">Register your web service as a bot with Microsoft Bot Framework.</span></span>
1. <span data-ttu-id="20bd3-108">Crie seu manifesto de aplicativo e seu pacote de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="20bd3-108">Create your app manifest and your app package.</span></span>
1. <span data-ttu-id="20bd3-109">Carregar seu pacote do aplicativo para o Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="20bd3-109">Upload your package to Microsoft Teams.</span></span>

<span data-ttu-id="20bd3-110">Criar seu serviço Web, registrar seu serviço da Web e criar seu pacote de aplicativos, com a estrutura bot pode ser feito em qualquer ordem. No entanto, como as três partes estão muito entrelaçadas, não importa em que ordem você as realize, você precisará retornar para atualizar as outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="20bd3-110">Creating your web service, registering your web service, and creating your app package, with the Bot Framework can be done in any order; however, because the three pieces are so intertwined, no matter in which order you do them, you'll need to return to update the others.</span></span> <span data-ttu-id="20bd3-111">Seu registro precisa do ponto de extremidade de mensagem de seu serviço Web implantado e o seu serviço Web precisa do ID e da senha criados a partir do seu registro.</span><span class="sxs-lookup"><span data-stu-id="20bd3-111">Your registration needs the messaging endpoint from your deployed web service and your web service needs the ID and password created from your registration.</span></span> <span data-ttu-id="20bd3-112">Seu manifesto de aplicativo também precisa do ID de registro para conectar o Teams ao seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-112">Your app manifest also needs the registration ID to connect Teams to your web service.</span></span>

<span data-ttu-id="20bd3-113">À medida que você cria o bot, você se move regularmente entre alterar o manifesto do aplicativo e implantar o código no seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-113">As you're building your bot, you'll regularly move between changing your app manifest and deploying code to your web service.</span></span> <span data-ttu-id="20bd3-114">Ao trabalhar com o manifesto do aplicativo, tenha em mente que você pode manipular manualmente o arquivo JSON ou fazer alterações por meio do aplicativo Studio.</span><span class="sxs-lookup"><span data-stu-id="20bd3-114">When working with the app manifest, keep in mind you can either manually manipulate the JSON file, or make changes through App Studio.</span></span> <span data-ttu-id="20bd3-115">De qualquer forma, você precisará implantar (carregar) novamente o aplicativo do Teams, quando fizer uma alteração no manifesto. No entanto, não é necessário fazer isso quando você implanta alterações no serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-115">Either way, you'll need to re-deploy (upload) your app in Teams when you make a change to the manifest; however, there's no need to do so when you deploy changes to your web service.</span></span>

<span data-ttu-id="20bd3-116">Confira a [documentação do bot Framework](/azure/bot-service/) para obter mais informações sobre a estrutura bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-116">See the [Bot Framework Documentation](/azure/bot-service/) for additional information on the Bot Framework.</span></span>

[!include[prepare environment](~/includes/prepare-environment.md)]

## <a name="create-your-web-service"></a><span data-ttu-id="20bd3-117">Criar seu serviço Web</span><span class="sxs-lookup"><span data-stu-id="20bd3-117">Create your web service</span></span>

<span data-ttu-id="20bd3-118">O coração do seu bot é o seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-118">The heart of your bot is your web service.</span></span> <span data-ttu-id="20bd3-119">Ele definirá uma rota simples, geralmente `/api/messages`, para receber todas as solicitações.</span><span class="sxs-lookup"><span data-stu-id="20bd3-119">It will define a single route, typically `/api/messages`, on which to receive all requests.</span></span> <span data-ttu-id="20bd3-120">Para começar, você tem algumas opções:</span><span class="sxs-lookup"><span data-stu-id="20bd3-120">To get started, you have a few options to choose from:</span></span>

* <span data-ttu-id="20bd3-121">Comece com o exemplo de bot de conversa do Teams em[C#/dotnet](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/57.teams-conversation-bot) ou [JavaScript](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/57.teams-conversation-bot).</span><span class="sxs-lookup"><span data-stu-id="20bd3-121">Start with the Teams conversation bot sample in either [C#/dotnet](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/57.teams-conversation-bot) or [JavaScript](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/57.teams-conversation-bot).</span></span>
* <span data-ttu-id="20bd3-122">Se você estiver usando o JavaScript, use o [Gerador Yeoman do Microsoft Teams](https://github.com/OfficeDev/generator-teams) para a exibição de scaffold do aplicativo do Teams, incluindo seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-122">If you're using JavaScript, use the [Yeoman Generator for Microsoft Teams](https://github.com/OfficeDev/generator-teams) to scaffold your Teams app, including your web service.</span></span> <span data-ttu-id="20bd3-123">Isso é particularmente útil ao criar um aplicativo do Teams que contenha mais do que apenas um bot de conversa.</span><span class="sxs-lookup"><span data-stu-id="20bd3-123">This is particularly helpful when building a Teams app that contains more than just a conversational bot.</span></span>
* <span data-ttu-id="20bd3-124">Criar seu serviço Web a partir do zero.</span><span class="sxs-lookup"><span data-stu-id="20bd3-124">Create your web service from scratch.</span></span> <span data-ttu-id="20bd3-125">Você pode optar por adicionar o SDK do verificador de bot para o seu idioma ou trabalhar diretamente com as cargas JSON.</span><span class="sxs-lookup"><span data-stu-id="20bd3-125">You can choose to add the Bot Framework SDK for your language, or you can work directly with the JSON payloads.</span></span>

## <a name="register-your-web-service-with-the-bot-framework"></a><span data-ttu-id="20bd3-126">Registrar seu serviço Web com a estrutura bot</span><span class="sxs-lookup"><span data-stu-id="20bd3-126">Register your web service with the Bot Framework</span></span>

> [!IMPORTANT]
> <span data-ttu-id="20bd3-127">Ao registrar seu serviço Web, certifique-se de definir o **Nome de exibição** com o mesmo nome que você usou para o seu **Nome Curto** no manifesto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="20bd3-127">When registering your web service, be sure to set the **Display name** to the same name you used for your **Short name** in your app manifest.</span></span> <span data-ttu-id="20bd3-128">Quando o aplicativo for distribuído por carregamento direto ou por meio do catálogo de aplicativos de uma organização, as mensagens enviadas para uma conversa pelo bot usarão o\*\* nome de exibição \*\* nome de exibição do registro, em vez do **nome curto** do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="20bd3-128">When your app is distributed by either direct uploading or through an organization's app catalog, messages sent to a conversation by your bot will use the registration's **Display name** rather than the app's **Short name**.</span></span>

<span data-ttu-id="20bd3-129">Registrar seu serviço Web com a estrutura bot fornece um canal de comunicação seguro entre o cliente do Teams e seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-129">Registering your web service with the Bot Framework provides a secure communication channel between the Teams client and your web service.</span></span> <span data-ttu-id="20bd3-130">O cliente do Teams e o seu serviço Web nunca se comunicam diretamente.</span><span class="sxs-lookup"><span data-stu-id="20bd3-130">The Teams client and your web service never communicate directly.</span></span> <span data-ttu-id="20bd3-131">Em vez disso, as mensagens são encaminhadas pelo serviço de estrutura de bot (o Microsoft Teams usa uma instância separada desse serviço compatível com os padrões do Office 365).</span><span class="sxs-lookup"><span data-stu-id="20bd3-131">Instead, messages are routed through the Bot Framework Service (Microsoft Teams uses a separate instance of this service that is compliant with Office 365 standards).</span></span>

<span data-ttu-id="20bd3-132">Você tem duas opções ao registrar seu serviço Web com a estrutura bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-132">You have two options when registering your web service with the Bot Framework.</span></span> <span data-ttu-id="20bd3-133">Você pode usar o [app Studio](#using-app-studio) ou o [portal herdado](#in-the-legacy-portal) para registrar o bot sem usar uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-133">You can use either [App Studio](#using-app-studio) or the [legacy portal](#in-the-legacy-portal) to register your bot without using an Azure subscription.</span></span> <span data-ttu-id="20bd3-134">Ou, se você já tiver uma assinatura do Azure (ou não se importar em criar uma), você poderá usar o [portal do Azure](#with-an-azure-subscription) para registrar seu serviço Web.</span><span class="sxs-lookup"><span data-stu-id="20bd3-134">Or, if you already have an Azure subscription (or don't mind creating one), you can use [the Azure portal](#with-an-azure-subscription) to register your web service.</span></span>

### <a name="without-an-azure-subscription"></a><span data-ttu-id="20bd3-135">Sem uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-135">Without an Azure subscription</span></span>

<span data-ttu-id="20bd3-136">Se você não quiser criar seu registro de bot no Azure, **deverá** usar esse link-https://dev.botframework.com/bots/newou o aplicativo Studio.</span><span class="sxs-lookup"><span data-stu-id="20bd3-136">If you do not wish to create your bot registration in Azure, you **must** use either this link - https://dev.botframework.com/bots/new, or App Studio.</span></span> <span data-ttu-id="20bd3-137">Se você clicar no botão *criar um bot*, no portal de estrutura de bot, você criará seu registro de bot no Microsoft Azure e será necessário fornecer uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-137">If you click on the *Create a bot* button in the Bot Framework portal, you will create your bot registration in Microsoft Azure, and will need to provide an Azure subscription.</span></span> <span data-ttu-id="20bd3-138">Para gerenciar seu registro ou migrar para uma assinatura do Azure após a criação, vá para: https://dev.botframework.com/bots.</span><span class="sxs-lookup"><span data-stu-id="20bd3-138">To manage your registration or migrate it to an Azure subscription after creation go to: https://dev.botframework.com/bots.</span></span>

<span data-ttu-id="20bd3-139">Ao editar as propriedades de um registro de estrutura de bot existente não registrado no Azure, você verá uma coluna "status de migração" e um botão azul "migrar" que o levará para o portal do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-139">When you edit the properties of an existing Bot Framework registration not registered in Azure, you'll see A "Migration status" column and a blue "Migrate" button that will take you to the Microsoft Azure portal.</span></span> <span data-ttu-id="20bd3-140">Não selecione o botão "migrar", a menos que você queira fazer isso.</span><span class="sxs-lookup"><span data-stu-id="20bd3-140">Don't select the "Migrate" button unless that's what you want to do.</span></span> <span data-ttu-id="20bd3-141">Em vez disso, selecione o **nome** do bot e você poderá editar suas propriedades:</span><span class="sxs-lookup"><span data-stu-id="20bd3-141">Instead, select the **name** of the bot and you can edit its properties:</span></span>

   ![Editar propriedades de bot](~/assets/images/bots/bf-migrate-bot-to-azure.png)

<span data-ttu-id="20bd3-143">Situações em que você **deve** ter o registro de bot no Azure (por meio de sua criação no portal do Azure ou na migração):</span><span class="sxs-lookup"><span data-stu-id="20bd3-143">Scenarios when you **must** have your bot registration in Azure (either by creating it in the Azure portal or via migration):</span></span>

* <span data-ttu-id="20bd3-144">Você deseja usar o [OAuthPrompt](./authentication/auth-flow-bot.md) da estrutura de bot para autenticação.</span><span class="sxs-lookup"><span data-stu-id="20bd3-144">You want to use the Bot Framework's [OAuthPrompt](./authentication/auth-flow-bot.md) for authentication.</span></span>
* <span data-ttu-id="20bd3-145">Você deseja habilitar canais adicionais, como o chat na Web, linha direta ou Skype.</span><span class="sxs-lookup"><span data-stu-id="20bd3-145">You want to enable additional channels like Web Chat, Direct Line, or Skype.</span></span>

#### <a name="using-app-studio"></a><span data-ttu-id="20bd3-146">Usando o aplicativo Studio</span><span class="sxs-lookup"><span data-stu-id="20bd3-146">Using App Studio</span></span>

<span data-ttu-id="20bd3-147">O *App Studio* é um aplicativo do Teams que ajuda a criar aplicativos do Teams, incluindo o registro de serviço Web como um bot, a criação de um manifesto e de um pacote de aplicativos, e atualização de configurações.</span><span class="sxs-lookup"><span data-stu-id="20bd3-147">*App Studio* is a Teams application that helps you build Teams apps, including registering your web service as a bot, creating an app manifest and your app package, and updating settings and configurations.</span></span> <span data-ttu-id="20bd3-148">Ele também contém uma biblioteca de controle React e amostras configuráveis para cartões.</span><span class="sxs-lookup"><span data-stu-id="20bd3-148">It also contains a React control library and configurable samples for cards.</span></span> <span data-ttu-id="20bd3-149">Confira [Introdução ao Teams app Studio](../../concepts/build-and-test/app-studio-overview.md).</span><span class="sxs-lookup"><span data-stu-id="20bd3-149">See [Getting started with Teams App Studio](../../concepts/build-and-test/app-studio-overview.md).</span></span>

<span data-ttu-id="20bd3-150">Lembre-se de que, se você usar o aplicativo Studio para registrar seu serviço Web, precisará acessar o https://dev.botframework.com/bots para gerenciar seu registro.</span><span class="sxs-lookup"><span data-stu-id="20bd3-150">Remember, if you use App Studio to register your web service you'll need to go to https://dev.botframework.com/bots to manage your registration.</span></span>

#### <a name="in-the-legacy-portal"></a><span data-ttu-id="20bd3-151">No portal herdado</span><span class="sxs-lookup"><span data-stu-id="20bd3-151">In the legacy portal</span></span>

<span data-ttu-id="20bd3-152">Crie seu registro de bot usando esse link: https://dev.botframework.com/bots/new.</span><span class="sxs-lookup"><span data-stu-id="20bd3-152">Create your bot registration using this link: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="20bd3-153">**Lembre-se de adicionar o Microsoft Teams como um canal da lista de canais em destaque após criar seu bot.**</span><span class="sxs-lookup"><span data-stu-id="20bd3-153">**Be sure to add Microsoft Teams as a channel from the featured channels list after creating your bot.**</span></span> <span data-ttu-id="20bd3-154">Sinta-se à vontade para usar novamente o ID do aplicativo da Microsoft que você gerou, caso já tenha criado seu pacote/manifesto de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="20bd3-154">Feel free to re-use any Microsoft App ID you generated if you've already created your app package/manifest.</span></span>

   ![Página de registro do bot Framework](~/assets/images/bots/bfregister.png)

### <a name="with-an-azure-subscription"></a><span data-ttu-id="20bd3-156">Com uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-156">With an Azure subscription</span></span>

<span data-ttu-id="20bd3-157">Você também pode registrar seu serviço Web Criando um recurso de registro de canais de bot no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-157">You can also register your web service by creating a Bot Channels Registration resource in the Azure portal.</span></span>

[!INCLUDE [bot channels registration steps](~/includes/bots/azure-bot-channels-registration.md)]

<span data-ttu-id="20bd3-158">O [portal de estrutura de bot](https://dev.botframework.com) é otimizado para registro de bots no Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-158">The [Bot Framework portal](https://dev.botframework.com) is optimized for registering bots in Microsoft Azure.</span></span> <span data-ttu-id="20bd3-159">Aqui estão algumas coisas que você precisa saber:</span><span class="sxs-lookup"><span data-stu-id="20bd3-159">Here are some things to know:</span></span>

* <span data-ttu-id="20bd3-160">O canal do Microsoft Teams para bots registado no Azure é **gratuito**.</span><span class="sxs-lookup"><span data-stu-id="20bd3-160">The Microsoft Teams channel for bots registered on Azure is **free**.</span></span> <span data-ttu-id="20bd3-161">As mensagens enviadas por meio do canal do Teams NÃO contarão como as mensagens consumidas para o bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-161">Messages sent over the Teams channel will NOT count towards the consumed messages for the bot.</span></span>
* <span data-ttu-id="20bd3-162">Se você registrá-lo usando o Microsoft Azure, seu código de bot não precisará ser *hospedado* no Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-162">If you register your bot using Microsoft Azure, your bot code doesn't need to be *hosted* on Microsoft Azure.</span></span>
* <span data-ttu-id="20bd3-163">Se você registrar um bot usando o portal do Microsoft Azure, é necessário ter uma conta do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="20bd3-163">If you do register a bot using Microsoft Azure portal, you must have a Microsoft Azure account.</span></span> <span data-ttu-id="20bd3-164">Você pode [criar uma gratuitamente](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="20bd3-164">You can [create one for free](https://azure.microsoft.com/free/).</span></span> <span data-ttu-id="20bd3-165">Para verificar sua identidade ao criar uma conta do Azure, você deve fornecer um cartão de crédito, mas ele não será cobrado. É sempre gratuito criar e usar bots com o Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="20bd3-165">To verify your identity when you create an Azure account, you must provide a credit card, but it won't be charged; it's always free to create and use bots with Microsoft Teams.</span></span>

## <a name="create-your-app-manifest-and-package"></a><span data-ttu-id="20bd3-166">Criar o manifesto do aplicativo e o pacote</span><span class="sxs-lookup"><span data-stu-id="20bd3-166">Create your app manifest and package</span></span>

<span data-ttu-id="20bd3-167">O [manifesto do aplicativo](~/resources/schema/manifest-schema.md) define os metadados para o seu aplicativo, os pontos de extensão que o aplicativo está usando e aponta para os serviços da Web onde esses pontos de extensão se conectam.</span><span class="sxs-lookup"><span data-stu-id="20bd3-167">Your [app manifest](~/resources/schema/manifest-schema.md) defines the metadata for your app, the extension points your app is using, and pointers to the web services those extension points connect to.</span></span> <span data-ttu-id="20bd3-168">Você pode usar o aplicativo Studio para ajudá-lo a criar seu manifesto de aplicativo ou a criá-lo manualmente.</span><span class="sxs-lookup"><span data-stu-id="20bd3-168">You can either use App Studio to help you create your app manifest, or create it manually.</span></span>

### <a name="add-using-app-studio"></a><span data-ttu-id="20bd3-169">Adicionar usando o aplicativo Studio</span><span class="sxs-lookup"><span data-stu-id="20bd3-169">Add using App Studio</span></span>

1. <span data-ttu-id="20bd3-170">No cliente do Teams, abra o aplicativo Studio no menu de estouro **...** no trilho de navegação à esquerda.</span><span class="sxs-lookup"><span data-stu-id="20bd3-170">In the Teams client, open App Studio from the **...** overflow menu on the left navigation rail.</span></span> <span data-ttu-id="20bd3-171">Se o aplicativo Studio ainda não estiver instalado, você poderá fazer isso pesquisando por ele.</span><span class="sxs-lookup"><span data-stu-id="20bd3-171">If App Studio isn't already installed, you can do so by searching for it.</span></span>
2. <span data-ttu-id="20bd3-172">Na guia **Editor de manifesto** selecione **Criar um novo aplicativo** (ou se você estiver adicionando um bot a um aplicativo existente, é possível importar seu pacote de aplicativos)</span><span class="sxs-lookup"><span data-stu-id="20bd3-172">On the **Manifest editor** tab select **Create a new app** (or if you're adding a bot to an existing app, you can import your app package)</span></span>
3. <span data-ttu-id="20bd3-173">Adicione os detalhes do aplicativo (Confira [definição de esquema de manifesto](~/resources/schema/manifest-schema.md) para obter descrições completas de cada campo).</span><span class="sxs-lookup"><span data-stu-id="20bd3-173">Add your app details (see [manifest schema definition](~/resources/schema/manifest-schema.md) for full descriptions of each field).</span></span>
4. <span data-ttu-id="20bd3-174">Na guia **bots**, selecione o botão **Configurar**.</span><span class="sxs-lookup"><span data-stu-id="20bd3-174">On the **Bots** tab select the **Setup** button.</span></span>
5. <span data-ttu-id="20bd3-175">Você pode criar um novo registro de serviço Web (**novo bot**) ou, se você já tiver registrado um, selecione **bot existente**.</span><span class="sxs-lookup"><span data-stu-id="20bd3-175">You can either create a new web service registration (**New bot**), or if you've already registered one, select **Existing bot**.</span></span>
6. <span data-ttu-id="20bd3-176">Selecione os recursos e os escopos necessários para seu bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-176">Select the capabilities and scopes your bot will need.</span></span>
7. <span data-ttu-id="20bd3-177">Se necessário, atualize o endereço do ponto de extremidade do bot para apontar para o seu bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-177">If necessary, update your bot endpoint address to point to your bot.</span></span> <span data-ttu-id="20bd3-178">Ela deve ser similar a `https://someplace.com/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-178">It should look something like `https://someplace.com/api/messages`.</span></span>
8. <span data-ttu-id="20bd3-179">Opcionalmente, adicione [comandos de bot](~/bots/how-to/create-a-bot-commands-menu.md).</span><span class="sxs-lookup"><span data-stu-id="20bd3-179">Optionally, add [bot commands](~/bots/how-to/create-a-bot-commands-menu.md).</span></span>
9. <span data-ttu-id="20bd3-180">Opcionalmente, você poderá baixar o pacote do aplicativo concluído na guia **testar e distribuir**.</span><span class="sxs-lookup"><span data-stu-id="20bd3-180">Optionally, you can download your completed app package from the **Test and distribute** tab.</span></span>

### <a name="create-it-manually"></a><span data-ttu-id="20bd3-181">Criar manualmente</span><span class="sxs-lookup"><span data-stu-id="20bd3-181">Create it manually</span></span>

<span data-ttu-id="20bd3-182">Assim como nas extensões de mensagens e guias, você atualiza o [manifesto de aplicativo](~/resources/schema/manifest-schema.md) para definir o seu bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-182">As with messaging extensions and tabs, you update the [app-manifest](~/resources/schema/manifest-schema.md) to define your bot.</span></span> <span data-ttu-id="20bd3-183">Adicione a nova estrutura JSON de nível superior no manifesto do aplicativo com a propriedade `bots`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-183">Add new top-level JSON structure in your app manifest with the `bots` property.</span></span>

|<span data-ttu-id="20bd3-184">Nome</span><span class="sxs-lookup"><span data-stu-id="20bd3-184">Name</span></span>| <span data-ttu-id="20bd3-185">Tipo</span><span class="sxs-lookup"><span data-stu-id="20bd3-185">Type</span></span>| <span data-ttu-id="20bd3-186">Tamanho máximo</span><span class="sxs-lookup"><span data-stu-id="20bd3-186">Maximum size</span></span> | <span data-ttu-id="20bd3-187">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="20bd3-187">Required</span></span> | <span data-ttu-id="20bd3-188">Descrição</span><span class="sxs-lookup"><span data-stu-id="20bd3-188">Description</span></span>|
|---|---|---|---|---|
|`botId`|<span data-ttu-id="20bd3-189">String</span><span class="sxs-lookup"><span data-stu-id="20bd3-189">String</span></span>|<span data-ttu-id="20bd3-190">64 caracteres</span><span class="sxs-lookup"><span data-stu-id="20bd3-190">64 characters</span></span>|<span data-ttu-id="20bd3-191">✔</span><span class="sxs-lookup"><span data-stu-id="20bd3-191">✔</span></span>|<span data-ttu-id="20bd3-192">O ID exclusivo do aplicativo Microsoft para o bot conforme registrado na estrutura do bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-192">The unique Microsoft app ID for the bot as registered with the Bot Framework.</span></span> <span data-ttu-id="20bd3-193">Isso pode ser o mesmo que a ID de aplicativo geral.</span><span class="sxs-lookup"><span data-stu-id="20bd3-193">This may well be the same as the overall app ID.</span></span>|
|`needsChannelSelector`|<span data-ttu-id="20bd3-194">Boolean</span><span class="sxs-lookup"><span data-stu-id="20bd3-194">Boolean</span></span>|||<span data-ttu-id="20bd3-195">Descreve se o bot usa ou não uma dica de usuário para adicionar o bot a um canal específico.</span><span class="sxs-lookup"><span data-stu-id="20bd3-195">Describes whether or not the bot utilizes a user hint to add the bot to a specific channel.</span></span> <span data-ttu-id="20bd3-196">Padrão: `false`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-196">Default: `false`.</span></span>|
|`isNotificationOnly`|<span data-ttu-id="20bd3-197">Boolean</span><span class="sxs-lookup"><span data-stu-id="20bd3-197">Boolean</span></span>|||<span data-ttu-id="20bd3-198">Indica se um bot é um bot unidirecional, somente para notificação, em vez de um bot de conversa.</span><span class="sxs-lookup"><span data-stu-id="20bd3-198">Indicates whether a bot is a one-way, notification-only bot, as opposed to a conversational bot.</span></span> <span data-ttu-id="20bd3-199">Padrão: `false`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-199">Default: `false`.</span></span>|
|`supportsFiles`|<span data-ttu-id="20bd3-200">Boolean</span><span class="sxs-lookup"><span data-stu-id="20bd3-200">Boolean</span></span>|||<span data-ttu-id="20bd3-201">Indica se o bot é compatível com a capacidade de carregar/baixar arquivos em chat pessoal.</span><span class="sxs-lookup"><span data-stu-id="20bd3-201">Indicates whether the bot supports the ability to upload/download files in personal chat.</span></span> <span data-ttu-id="20bd3-202">Padrão: `false`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-202">Default: `false`.</span></span>|
|`scopes`|<span data-ttu-id="20bd3-203">Matriz de enumeração</span><span class="sxs-lookup"><span data-stu-id="20bd3-203">Array of enum</span></span>|<span data-ttu-id="20bd3-204">3</span><span class="sxs-lookup"><span data-stu-id="20bd3-204">3</span></span>|<span data-ttu-id="20bd3-205">✔</span><span class="sxs-lookup"><span data-stu-id="20bd3-205">✔</span></span>|<span data-ttu-id="20bd3-206">Especifica se o bot oferece uma experiência no contexto de um canal em um `team`, em um chat de grupo (`groupchat`) ou uma experiência delimitada apenas a um usuário individual (`personal`).</span><span class="sxs-lookup"><span data-stu-id="20bd3-206">Specifies whether the bot offers an experience in the context of a channel in a `team`, in a group chat (`groupchat`), or an experience scoped to an individual user alone (`personal`).</span></span> <span data-ttu-id="20bd3-207">Essas opções são não exclusivas.</span><span class="sxs-lookup"><span data-stu-id="20bd3-207">These options are non-exclusive.</span></span>|

<span data-ttu-id="20bd3-208">Opcionalmente, você pode definir uma ou mais listas de comandos que você pode recomendar para os usuários.</span><span class="sxs-lookup"><span data-stu-id="20bd3-208">Optionally, you can define one or more lists of commands that your bot can recommend to users.</span></span> <span data-ttu-id="20bd3-209">O objeto é uma matriz (máximo de 2 elementos) com todos os elementos do tipo `object`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-209">The object is an array (maximum of 2 elements) with all elements of type `object`.</span></span> <span data-ttu-id="20bd3-210">Você deve definir uma lista de comandos separada para cada escopo compatível com o bot.</span><span class="sxs-lookup"><span data-stu-id="20bd3-210">You must define a separate command list for each scope that your bot supports.</span></span> <span data-ttu-id="20bd3-211">*Confira* [menus de bot](./create-a-bot-commands-menu.md), para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="20bd3-211">*See* [Bot menus](./create-a-bot-commands-menu.md), for more information.</span></span>

|<span data-ttu-id="20bd3-212">Nome</span><span class="sxs-lookup"><span data-stu-id="20bd3-212">Name</span></span>| <span data-ttu-id="20bd3-213">Tipo</span><span class="sxs-lookup"><span data-stu-id="20bd3-213">Type</span></span>| <span data-ttu-id="20bd3-214">Tamanho máximo</span><span class="sxs-lookup"><span data-stu-id="20bd3-214">Maximum size</span></span> | <span data-ttu-id="20bd3-215">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="20bd3-215">Required</span></span> | <span data-ttu-id="20bd3-216">Descrição</span><span class="sxs-lookup"><span data-stu-id="20bd3-216">Description</span></span>|
|---|---|---|---|---|
|`items.scopes`|<span data-ttu-id="20bd3-217">matriz de enumeração</span><span class="sxs-lookup"><span data-stu-id="20bd3-217">array of enum</span></span>|<span data-ttu-id="20bd3-218">3</span><span class="sxs-lookup"><span data-stu-id="20bd3-218">3</span></span>|<span data-ttu-id="20bd3-219">✔</span><span class="sxs-lookup"><span data-stu-id="20bd3-219">✔</span></span>|<span data-ttu-id="20bd3-220">Especifica o escopo para o qual a lista de comandos é válida.</span><span class="sxs-lookup"><span data-stu-id="20bd3-220">Specifies the scope for which the command list is valid.</span></span> <span data-ttu-id="20bd3-221">As opção são `team`, `personal` e `groupchat`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-221">Options are `team`, `personal`, and `groupchat`.</span></span>|
|`items.commands`|<span data-ttu-id="20bd3-222">matriz de objetos</span><span class="sxs-lookup"><span data-stu-id="20bd3-222">array of objects</span></span>|<span data-ttu-id="20bd3-223">10</span><span class="sxs-lookup"><span data-stu-id="20bd3-223">10</span></span>|<span data-ttu-id="20bd3-224">✔</span><span class="sxs-lookup"><span data-stu-id="20bd3-224">✔</span></span>|<span data-ttu-id="20bd3-225">Uma matriz de comandos que o bot suporta:</span><span class="sxs-lookup"><span data-stu-id="20bd3-225">An array of commands the bot supports:</span></span><br><span data-ttu-id="20bd3-226">`title`: o nome do comando bot (cadeia, 32)</span><span class="sxs-lookup"><span data-stu-id="20bd3-226">`title`: the bot command name (string, 32)</span></span><br><span data-ttu-id="20bd3-227">`description`: uma descrição simples ou exemplo da sintaxe do comando e seu argumento (cadeia, 128)</span><span class="sxs-lookup"><span data-stu-id="20bd3-227">`description`: a simple description or example of the command syntax and its argument (string, 128)</span></span>|

#### <a name="simple-manifest-example"></a><span data-ttu-id="20bd3-228">Exemplo de manifesto simples</span><span class="sxs-lookup"><span data-stu-id="20bd3-228">Simple manifest example</span></span>

<span data-ttu-id="20bd3-229">O exemplo a seguir é um objeto bot simples, com duas listas de comando definidas.</span><span class="sxs-lookup"><span data-stu-id="20bd3-229">The example below is a simple bot object, with two command lists defined.</span></span> <span data-ttu-id="20bd3-230">Esse não é o arquivo de manifesto completo do aplicativo, apenas a parte específica das extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="20bd3-230">This is not the entire app manifest file, just the part specific to messaging extensions.</span></span>

```json
...
  "bots": [
    {
      "botId": "%MICROSOFT-APP-ID-REGISTERED-WITH-BOT-FRAMEWORK%",
      "needsChannelSelector": false,
      "isNotificationOnly": false,
      "scopes": [ "team", "personal", "groupchat" ],
      "supportsFiles": true,
      "commandLists": [
        {
          "scopes": [ "team", "groupchat" ],
          "commands": [
            {
              "title": "Command 1",
              "description": "Description of Command 1"
            },
            {
              "title": "Command N",
              "description": "Description of Command N"
            }
          ]
        },
        {
          "scopes": [ "personal", "groupchat" ],
          "commands": [
            {
              "title": "Personal command 1",
              "description": "Description of Personal command 1"
            },
            {
              "title": "Personal command N",
              "description": "Description of Personal command N"
            }
          ]
        }
      ]
    }
  ],
...
```

#### <a name="create-your-app-package-manually"></a><span data-ttu-id="20bd3-231">Crie seu pacote de aplicativos manualmente</span><span class="sxs-lookup"><span data-stu-id="20bd3-231">Create your app package manually</span></span>

<span data-ttu-id="20bd3-232">Para criar um pacote de aplicativos, você precisa adicionar seu manifesto de aplicativo e, opcionalmente, os ícones de aplicativo a um arquivo. zip.</span><span class="sxs-lookup"><span data-stu-id="20bd3-232">To create an app package, you need to add your app manifest and (optionally) your app icons to a .zip archive file.</span></span> <span data-ttu-id="20bd3-233">Confira [Criar seu pacote de aplicativo](~/concepts/build-and-test/apps-package.md) para obter detalhes completos.</span><span class="sxs-lookup"><span data-stu-id="20bd3-233">See [Create your app package](~/concepts/build-and-test/apps-package.md) for complete details.</span></span> <span data-ttu-id="20bd3-234">Certifique-se de que o arquivo. zip contenha somente os arquivos necessários e não tenha outra estrutura de pastas dentro dele.</span><span class="sxs-lookup"><span data-stu-id="20bd3-234">Make sure your .zip archive contains only the necessary files, and has no additional folder structure inside of it.</span></span>

## <a name="upload-your-package-to-microsoft-teams"></a><span data-ttu-id="20bd3-235">Carregar um pacote do aplicativo para o Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="20bd3-235">Upload your package to Microsoft Teams</span></span>

> [!NOTE]
> <span data-ttu-id="20bd3-236">Para carregar o bot com êxito, o administrador de locatários deve primeiro [permitir o carregamento](/microsoftteams/manage-apps#manage-org-wide-app-settings) de aplicativos personalizados ou de terceiros no Teams.</span><span class="sxs-lookup"><span data-stu-id="20bd3-236">To successfully upload your bot, your tenant admin must first [allow uploading](/microsoftteams/manage-apps#manage-org-wide-app-settings) third-party or custom apps in Teams.</span></span>

<span data-ttu-id="20bd3-237">Se você estiver usando o aplicativo Studio, é possível instalar seu aplicativo a partir da guia **Testar e distribuir** do **Editor de manifesto**.</span><span class="sxs-lookup"><span data-stu-id="20bd3-237">If you've been using App Studio, you can install your app from the **Test and distribute** tab of the **Manifest editor**.</span></span> <span data-ttu-id="20bd3-238">Como alternativa, você pode instalar o pacote do aplicativo clicando no menu de estouro de `...` do trilho de navegação à esquerda, clicando em **Mais aplicativos**e, em seguida, em**Carregar um link personalizado do aplicativo**.</span><span class="sxs-lookup"><span data-stu-id="20bd3-238">Alternatively, you can install your app package by clicking the `...` overflow menu from the left navigation rail, clicking **More apps**, then the **Upload a custom app** link.</span></span> <span data-ttu-id="20bd3-239">Você também pode importar um manifesto de aplicativo ou pacote de aplicativos para o aplicativo Studio para fazer atualizações adicionais antes de carregar.</span><span class="sxs-lookup"><span data-stu-id="20bd3-239">You can also import an app manifest or app package into App Studio to make additional updates before uploading.</span></span>

## <a name="bots-in-teams-meetings"></a><span data-ttu-id="20bd3-240">Bots nas reuniões do Teams</span><span class="sxs-lookup"><span data-stu-id="20bd3-240">Bots in Teams meetings</span></span>

<span data-ttu-id="20bd3-241">O Teams oferecem suporte à invocação de bot durante reuniões.</span><span class="sxs-lookup"><span data-stu-id="20bd3-241">Teams supports bot invocation during meetings.</span></span> <span data-ttu-id="20bd3-242">Quando o bot recebe a mensagem de invocação, ele pode identificar o usuário e o locatário de `userId` e `tenantId`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-242">When your bot receives the invoke message, it can identify the user and tenant from `userId` and `tenantId`.</span></span> <span data-ttu-id="20bd3-243">O `meetingId` pode ser encontrado como parte do objeto `channelData`.</span><span class="sxs-lookup"><span data-stu-id="20bd3-243">The `meetingId` can be found as part of the `channelData` object.</span></span> <span data-ttu-id="20bd3-244">O bot pode usar o `userId` e `meetingId`  para a solicitação da API do `GetParticipant` para recuperar funções de usuário.</span><span class="sxs-lookup"><span data-stu-id="20bd3-244">Your bot can use the `userId` and `meetingId`  for the `GetParticipant` API request to retrieve user roles.</span></span>

## <a name="next-steps"></a><span data-ttu-id="20bd3-245">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="20bd3-245">Next steps</span></span>

* [<span data-ttu-id="20bd3-246">Princípios básicos de conversas</span><span class="sxs-lookup"><span data-stu-id="20bd3-246">Bot conversation basics</span></span>](./conversations/conversation-basics.md)
* [<span data-ttu-id="20bd3-247">Inscreva-se em eventos de conversa</span><span class="sxs-lookup"><span data-stu-id="20bd3-247">Subscribe to conversation events</span></span>](./conversations/subscribe-to-conversation-events.md)
