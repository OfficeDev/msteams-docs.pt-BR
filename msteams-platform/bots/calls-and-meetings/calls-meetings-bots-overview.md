---
title: Chamadas e bots de reuniões online
description: Saiba como os aplicativos do Microsoft Teams podem interagir com usuários usando voz e vídeo usando as APIs do Microsoft Graph para chamadas e reuniões online.
keywords: chamadas de chamada para o vídeo de áudio IVR de voz online
ms.openlocfilehash: a571562b9e68bc6b03419a3c0ebcca4cfa61b8b3
ms.sourcegitcommit: d61f14053fc695bc1956bf50e83956613c19ccca
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/13/2020
ms.locfileid: "48452747"
---
# <a name="calls-and-online-meetings-bots"></a><span data-ttu-id="9db3b-104">Chamadas e bots de reuniões online</span><span class="sxs-lookup"><span data-stu-id="9db3b-104">Calls and online meetings bots</span></span>

> [!NOTE]
> <span data-ttu-id="9db3b-105">O suporte para chamadas e bots de reunião online atualmente não é suportado na plataforma Microsoft Teams Mobile.</span><span class="sxs-lookup"><span data-stu-id="9db3b-105">Support for calls and online meeting bots is currently not supported on the Microsoft Teams mobile platform.</span></span> 

<span data-ttu-id="9db3b-106">Com a adição das [APIs do Microsoft Graph para chamadas e reuniões online](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true), os aplicativos do Microsoft Teams agora podem interagir com usuários de maneiras ricas usando voz e vídeo.</span><span class="sxs-lookup"><span data-stu-id="9db3b-106">With the addition of [Microsoft Graph APIs for calls and online meetings](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true), Microsoft Teams apps can now interact with users in rich ways using voice and video.</span></span> <span data-ttu-id="9db3b-107">Essas APIs permitem que você adicione novos recursos, como resposta de voz interativa (IVR), controle de chamadas e acesso a fluxos de áudio e/ou vídeo em tempo real para chamadas e reuniões, incluindo área de trabalho e compartilhamento de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="9db3b-107">These APIs allow you to add new features such as interactive voice response (IVR), call control, and access to real-time audio and/or video streams for calls and meetings, including desktop and app sharing.</span></span>

<span data-ttu-id="9db3b-108">Para usar essas APIs do Microsoft Graph em um aplicativo do Microsoft Teams, você cria um bot e especifica algumas informações adicionais e permissões que descreveremos em outros lugares, mas primeiro, é importante entender alguns conceitos principais, terminologia e convenções:</span><span class="sxs-lookup"><span data-stu-id="9db3b-108">To use these Microsoft Graph APIs in a Microsoft Teams app, you create a bot and specify some additional information and permissions which we'll describe elsewhere, but first, it's important to understand some core concepts, terminology, and conventions:</span></span>

* <span data-ttu-id="9db3b-109">**Chamadas de áudio/vídeo.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-109">**Audio/video calls.**</span></span> <span data-ttu-id="9db3b-110">As chamadas no Teams podem ser puramente áudio ou áudio + vídeo.</span><span class="sxs-lookup"><span data-stu-id="9db3b-110">Calls in Teams can be purely audio or audio+video.</span></span> <span data-ttu-id="9db3b-111">Para fins de brevidade, não dizem "chamada de áudio/vídeo" em qualquer lugar; apenas dizemos "Call".</span><span class="sxs-lookup"><span data-stu-id="9db3b-111">For brevity's sake, we don't say "audio/video call" everywhere; we just say "call."</span></span>
* <span data-ttu-id="9db3b-112">**Tipos de chamada.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-112">**Call types.**</span></span> <span data-ttu-id="9db3b-113">As chamadas são ponto a ponto (entre uma pessoa e seu bot) ou multiparty (seu bot e duas ou mais pessoas em uma chamada de grupo).</span><span class="sxs-lookup"><span data-stu-id="9db3b-113">Calls are either peer-to-peer (between a person and your bot) or multiparty (your bot and two or more people in a group call).</span></span>
  <span data-ttu-id="9db3b-114">![CallingTypes ](~/assets/images/calls-and-meetings/call-types.png) :</span><span class="sxs-lookup"><span data-stu-id="9db3b-114">![CallingTypes](~/assets/images/calls-and-meetings/call-types.png):</span></span>
  * <span data-ttu-id="9db3b-115">Um usuário pode iniciar uma chamada ponto a ponto com seu bot ou convidar seu bot para uma chamada de vários participantes existente (embora o último ainda não esteja habilitado na interface do usuário do Microsoft Teams).</span><span class="sxs-lookup"><span data-stu-id="9db3b-115">A user may initiate a peer-to-peer call with your bot or invite your bot into an existing multiparty call (although the latter is not yet enabled in the Microsoft Teams UI).</span></span>
  * <span data-ttu-id="9db3b-116">As permissões do Microsoft Graph não são necessárias para um usuário iniciar uma chamada ponto a ponto com seu bot, mas as permissões adicionais são necessárias para que seu bot participe de uma chamada de vários participantes ou para que o bot inicie uma chamada ponto a ponto com um usuário.</span><span class="sxs-lookup"><span data-stu-id="9db3b-116">Microsoft Graph permissions aren't necessary for a user to initiate a peer-to-peer call with your bot, but additional permissions are needed for your bot to participate in a multiparty call, or for your bot to initiate a peer-to-peer call with a user.</span></span>
  * <span data-ttu-id="9db3b-117">Uma chamada pode começar como ponto-a-ponto e escalar para vários participantes.</span><span class="sxs-lookup"><span data-stu-id="9db3b-117">A call may start as peer-to-peer and escalate to multiparty.</span></span> <span data-ttu-id="9db3b-118">Seu bot pode iniciar esse escalonamento convidando outros, contanto que seu bot tenha as permissões adequadas.</span><span class="sxs-lookup"><span data-stu-id="9db3b-118">Your bot can initiate this escalation by inviting others, provided your bot has the proper permissions.</span></span> <span data-ttu-id="9db3b-119">Se o seu bot não tiver permissões para participar de chamadas de grupo e um participante adicionar outra parte, seu bot será descartado da chamada.</span><span class="sxs-lookup"><span data-stu-id="9db3b-119">If your bot doesn't have permissions to participate in group calls and one participant adds another party, your bot is dropped from the call.</span></span>
* <span data-ttu-id="9db3b-120">**Sinalização.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-120">**Signaling.**</span></span> <span data-ttu-id="9db3b-121">Há dois tipos de sinais: chamada de entrada e em chamada:</span><span class="sxs-lookup"><span data-stu-id="9db3b-121">There are two types of signals — incoming call and in-call:</span></span>
  * <span data-ttu-id="9db3b-122">Para receber uma chamada de entrada, especifique um ponto de extremidade nas suas configurações de bot; Este ponto de extremidade recebe uma notificação quando chega uma chamada de entrada.</span><span class="sxs-lookup"><span data-stu-id="9db3b-122">To receive an incoming call, you specify an endpoint in your bot settings; this endpoint receives a notification when an incoming call arrives.</span></span> <span data-ttu-id="9db3b-123">Você pode responder à chamada, rejeitá-la ou redirecioná-la para qualquer lugar ou outra pessoa.</span><span class="sxs-lookup"><span data-stu-id="9db3b-123">You can answer the call, reject it, or redirect it to somewhere or someone else.</span></span>
  <span data-ttu-id="9db3b-124">![Tipos de chamada](~/assets/images/calls-and-meetings/call-handling.png)</span><span class="sxs-lookup"><span data-stu-id="9db3b-124">![Call Types](~/assets/images/calls-and-meetings/call-handling.png)</span></span>
  * <span data-ttu-id="9db3b-125">Quando um bot está em uma chamada, há APIs para ativar mudo e desativação e para iniciar/parar o compartilhamento do conteúdo de vídeo/área de trabalho com outros participantes.</span><span class="sxs-lookup"><span data-stu-id="9db3b-125">When a bot is in a call, there are APIs for muting and unmuting itself and to start/stop sharing video/desktop content with the other participants.</span></span>
  * <span data-ttu-id="9db3b-126">O bot também pode acessar a lista de participantes, convidar novos participantes e mudo para eles.</span><span class="sxs-lookup"><span data-stu-id="9db3b-126">The bot can also access the list of participants, invite new participants, and mute them.</span></span>
* <span data-ttu-id="9db3b-127">**Chamadas e reuniões online.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-127">**Calls and online meetings.**</span></span> <span data-ttu-id="9db3b-128">Da perspectiva de um usuário do Team, há dois tipos de reuniões online: ad hoc e agendado.</span><span class="sxs-lookup"><span data-stu-id="9db3b-128">From a Teams user's perspective, there are two kinds of online meetings — ad hoc and scheduled.</span></span> <span data-ttu-id="9db3b-129">No entanto, da perspectiva de um bot, é diferente.</span><span class="sxs-lookup"><span data-stu-id="9db3b-129">However, from a bot's perspective, it's different.</span></span> <span data-ttu-id="9db3b-130">Para um bot, uma reunião online é apenas uma chamada de várias partes (o conjunto de participantes) mais "coordenadas da reunião", que você pode considerar como os metadados da reunião: `botId` , `chatId` associado à reunião, e `joinUrl` `startTime` / `endTime` mais.</span><span class="sxs-lookup"><span data-stu-id="9db3b-130">To a bot, an online meeting is just a multiparty call (the set of participants) plus "meeting coordinates," which you can think of as the metadata for the meeting: `botId`, `chatId` associated with the meeting, `joinUrl`, `startTime`/`endTime`, and more.</span></span>
* <span data-ttu-id="9db3b-131">**Mídia em tempo real.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-131">**Real-time media.**</span></span> <span data-ttu-id="9db3b-132">Quando um bot está participando em uma chamada ou reunião online, ele deve lidar com fluxos de áudio e vídeo.</span><span class="sxs-lookup"><span data-stu-id="9db3b-132">When a bot is participating in a call or online meeting, it must deal with audio and video streams.</span></span> <span data-ttu-id="9db3b-133">Quando os usuários falam em uma chamada, aparecem em uma webcam ou apresentam suas telas em uma reunião, um bot "vê" isso como áudio e/ou fluxos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="9db3b-133">When users talk on a call, show themselves on a webcam, or present their screens in a meeting, a bot "sees" this as audio and/or video streams.</span></span> <span data-ttu-id="9db3b-134">Se um bot quiser dizer algo ou apresentar conteúdo de tela, que requer um fluxo de áudio ou vídeo.</span><span class="sxs-lookup"><span data-stu-id="9db3b-134">If a bot wants to say something or present screen content, that requires an audio or video stream.</span></span> <span data-ttu-id="9db3b-135">Até mesmo algo tão simples quanto o bot dizendo, "Pressione 0 para chegar ao operador" em um cenário IVR (resposta de voz interativa) significa reproduzir um. Arquivo WAV.</span><span class="sxs-lookup"><span data-stu-id="9db3b-135">Even something as simple as the bot saying, "press 0 to reach the operator" in an IVR (interactive voice response) scenario means playing a .WAV file.</span></span> <span data-ttu-id="9db3b-136">Coletivamente, vamos nos referir a _isso como mídia_ ou _mídia em tempo real_ (ao fazer referência a cenários em que a mídia deve ser processada em tempo real, em vez de reproduzir o áudio/vídeo gravado anteriormente).</span><span class="sxs-lookup"><span data-stu-id="9db3b-136">Collectively, we refer to this as _media_ or _real-time media_ (when referring to scenarios where media must be processed in real time, as opposed to playback of previously-recorded audio/video).</span></span> <span data-ttu-id="9db3b-137">Historicamente, lidar com fluxos de mídia, especialmente fluxos de mídia em tempo real, é extremamente complexo para os desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="9db3b-137">Historically, dealing with media streams, particularly real-time media streams, has been extremely complex for developers.</span></span> <span data-ttu-id="9db3b-138">A Microsoft criou a _plataforma de mídia em tempo real_ para lidar com esses casos de uso e para descarregar o máximo possível de "trabalho pesado" do processamento de mídia em tempo real.</span><span class="sxs-lookup"><span data-stu-id="9db3b-138">Microsoft has created the _Real-time Media Platform_ to handle these use cases and to offload as much of the traditional "heavy lifting" of real-time media processing as possible.</span></span>  <span data-ttu-id="9db3b-139">Quando o bot responde a uma chamada recebida, ou se junta a uma chamada nova ou existente, ele precisa informar o RealTime Media Platform como a mídia será tratada.</span><span class="sxs-lookup"><span data-stu-id="9db3b-139">When the bot answers an incoming call, or joins a new or existing call, it needs to tell the Real-time Media Platform how media will be handled.</span></span> <span data-ttu-id="9db3b-140">Se você estiver criando um aplicativo de IVR, poderá transferir o alto processamento de áudio para a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9db3b-140">If you're building an IVR application, you can offload the expensive audio processing to Microsoft.</span></span> <span data-ttu-id="9db3b-141">Como alternativa, se o seu bot requer acesso direto a fluxos de mídia, oferecemos suporte a esse cenário também.</span><span class="sxs-lookup"><span data-stu-id="9db3b-141">Alternatively, if your bot requires direct access to media streams, we support that scenario too.</span></span> <span data-ttu-id="9db3b-142">Há dois tipos de processamento de mídia:</span><span class="sxs-lookup"><span data-stu-id="9db3b-142">There are the two types of media processing:</span></span>
  * <span data-ttu-id="9db3b-143">**Mídia hospedada pelo serviço.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-143">**Service-hosted media.**</span></span> <span data-ttu-id="9db3b-144">O foco dos bots no gerenciamento do fluxo de trabalho do aplicativo (por exemplo, chamadas de roteamento) e o processamento de áudio para a plataforma de mídia em tempo real da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9db3b-144">Bots focus on managing application workflow (e.g., routing calls) and offload audio processing to the Microsoft Real-time Media Platform.</span></span> <span data-ttu-id="9db3b-145">Com a mídia hospedada em serviço, você tem várias opções para implementar e hospedar o bot.</span><span class="sxs-lookup"><span data-stu-id="9db3b-145">With service-hosted media, you have several options to implement and host your bot.</span></span> <span data-ttu-id="9db3b-146">Um bot de mídia hospedado pelo serviço pode ser implementado como um serviço sem monitoração de estado, pois ele não processa mídias localmente.</span><span class="sxs-lookup"><span data-stu-id="9db3b-146">A service-hosted media bot can be implemented as a stateless service since it doesn't process media locally.</span></span> <span data-ttu-id="9db3b-147">Os bots de mídia hospedados pelo serviço podem usar APIs como `PlayPrompt` reproduzir um clipe de áudio, `Record` para gravar clipes de áudio ou `SubscribeToTone` inscrever-se em tons DTMF (por exemplo, saber quando um usuário pressionou 0 para chegar ao operador).</span><span class="sxs-lookup"><span data-stu-id="9db3b-147">Service-hosted media bots can use APIs such as `PlayPrompt` for playing an audio clip, `Record` for recording audio clips, or `SubscribeToTone` for subscribing to DTMF tones (e.g., knowing when a user has pressed 0 to reach the operator).</span></span>
  * <span data-ttu-id="9db3b-148">**Mídia hospedada por aplicativo.**</span><span class="sxs-lookup"><span data-stu-id="9db3b-148">**Application-hosted media.**</span></span> <span data-ttu-id="9db3b-149">Para que um bot obtenha acesso direto à mídia, ela precisa de uma permissão de gráfico específica, mas depois que seu bot o tiver, a [biblioteca de mídia em tempo real](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) e o [SDK de chamada de gráfico](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) ajudam a criar mídias ricas e em tempo real, ligando para bots.</span><span class="sxs-lookup"><span data-stu-id="9db3b-149">For a bot to get direct access to the media, it needs a specific Graph permission, but once your bot has it, the [Real-time Media Library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) and the [Graph Calling SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) helps you build rich, real-time media, calling bots.</span></span> <span data-ttu-id="9db3b-150">Um bot hospedado por aplicativo deve ser hospedado em um ambiente do Windows, conforme descrito em mais detalhes [aqui](./requirements-considerations-application-hosted-media-bots.md).</span><span class="sxs-lookup"><span data-stu-id="9db3b-150">An Application-hosted bot must be hosted in a Windows environment, as described in more detail [here](./requirements-considerations-application-hosted-media-bots.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="9db3b-151">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="9db3b-151">Further reading</span></span>

<span data-ttu-id="9db3b-152">Veja mais informações sobre como criar e testar chamadas e bots de reuniões online:</span><span class="sxs-lookup"><span data-stu-id="9db3b-152">Here's more information on how to create and test calls and online meetings bots:</span></span>

* [<span data-ttu-id="9db3b-153">Referência da API do Graph</span><span class="sxs-lookup"><span data-stu-id="9db3b-153">Graph API reference</span></span>](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)
* [<span data-ttu-id="9db3b-154">Aplicativos de exemplo</span><span class="sxs-lookup"><span data-stu-id="9db3b-154">Sample apps</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples)
* <span data-ttu-id="9db3b-155">[Registrar um bot que oferece suporte a chamadas e reuniões online](./registering-calling-bot.md) e [permissões do Microsoft Graph para chamadas e bots de reuniões online](./registering-calling-bot.md#add-microsoft-graph-permissions)</span><span class="sxs-lookup"><span data-stu-id="9db3b-155">[Registering a bot that supports calls and online meetings](./registering-calling-bot.md) and [Microsoft Graph permissions for calls and online meetings bots](./registering-calling-bot.md#add-microsoft-graph-permissions)</span></span>
* [<span data-ttu-id="9db3b-156">Como desenvolver as chamadas e bots de reunião online no computador local</span><span class="sxs-lookup"><span data-stu-id="9db3b-156">How to develop calling and online meeting bots on your local PC</span></span>](./debugging-local-testing-calling-meeting-bots.md)
* <span data-ttu-id="9db3b-157">[Obter mais informações sobre processamento de mídia em tempo real](./real-time-media-concepts.md)e [o que é necessário para dar suporte a mídia hospedada por aplicativos](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="9db3b-157">[More information on real-time media processing](./real-time-media-concepts.md), and [what's needed to support application-hosted media](./requirements-considerations-application-hosted-media-bots.md)</span></span>
* [<span data-ttu-id="9db3b-158">Informações técnicas sobre como lidar com notificações de chamada de entrada</span><span class="sxs-lookup"><span data-stu-id="9db3b-158">Technical information on handling incoming call notifications</span></span>](./call-notifications.md)
