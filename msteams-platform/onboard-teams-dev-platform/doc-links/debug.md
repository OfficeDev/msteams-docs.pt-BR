---
title: Depurando seu aplicativo do teams
description: Descreve as etapas a serem executadas para executar e depurar aplicativos do Microsoft Teams
keywords: Teams executar depurar aplicativos
ms.topic: conceptual
ms.openlocfilehash: 913306bd24a55797e72396a031d917ec99c43bb9
ms.sourcegitcommit: 9fbc701a9a039ecdc360aefbe86df52b9c3593f3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/12/2020
ms.locfileid: "46651846"
---
# <a name="debugging-your-teams-app"></a><span data-ttu-id="a3b91-104">Depurando seu aplicativo do teams</span><span class="sxs-lookup"><span data-stu-id="a3b91-104">Debugging your Teams app</span></span>

<span data-ttu-id="a3b91-105">Os aplicativos do Microsoft Teams podem conter um ou mais recursos, e as maneiras de executá-los ou mesmo hospedá-los podem ser diferentes.</span><span class="sxs-lookup"><span data-stu-id="a3b91-105">Microsoft Teams apps can contain one or more capabilities, and the ways to run or even host them may be different.</span></span> <span data-ttu-id="a3b91-106">Quando se trata de depuração, em geral, temos as seguintes maneiras de executar o aplicativo Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="a3b91-106">When it comes to debugging, in general, we have the following ways to run your Microsoft Teams app:</span></span>

* <span data-ttu-id="a3b91-107">**Puramente local** &emsp; Para bots, você pode testar sua experiência no emulador de bot.</span><span class="sxs-lookup"><span data-stu-id="a3b91-107">**Purely local**&emsp;For bots, you can test your experience in the Bot Emulator.</span></span> <span data-ttu-id="a3b91-108">Para outro conteúdo, você pode executar localmente no seu navegador e lidar com o conteúdo por meio do `http://localhost` .</span><span class="sxs-lookup"><span data-stu-id="a3b91-108">For other content, you can run locally in your browser and address content through `http://localhost`.</span></span>
* <span data-ttu-id="a3b91-109">**Hospedado localmente, no Teams** &emsp; Isso envolve a execução local com o software de encapsulamento e a [criação de um pacote](~/concepts/build-and-test/apps-package.md) para [carregar](~/concepts/deploy-and-publish/apps-upload.md) no Teams.</span><span class="sxs-lookup"><span data-stu-id="a3b91-109">**Locally hosted, in Teams**&emsp;This involves running locally with tunneling software and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span> <span data-ttu-id="a3b91-110">Isso permite que você execute e depure facilmente o aplicativo no cliente Teams.</span><span class="sxs-lookup"><span data-stu-id="a3b91-110">This allows you to easily run and debug your app within the Teams client.</span></span>
* <span data-ttu-id="a3b91-111">**Hospedado na nuvem, no Teams** Isso verdadeiramente simula (ou é) o suporte de nível de produção para um aplicativo do teams.</span><span class="sxs-lookup"><span data-stu-id="a3b91-111">**Cloud-hosted, in Teams** This truly simulates (or is) production-level support for a Teams app.</span></span> <span data-ttu-id="a3b91-112">Ele envolve carregar sua solução para seu servidor acessível externamente ou provedor de nuvem de escolha (recomendamos o Azure, naturalmente) e [criando um pacote](~/concepts/build-and-test/apps-package.md) para [carregar](~/concepts/deploy-and-publish/apps-upload.md) no Teams.</span><span class="sxs-lookup"><span data-stu-id="a3b91-112">It involves uploading your solution to your externally accessible server or cloud provider of choice (we recommend Azure, of course) and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span>

<span data-ttu-id="a3b91-113">Para testes de equipes puramente locais ou locais, você executa a experiência do seu próprio computador.</span><span class="sxs-lookup"><span data-stu-id="a3b91-113">For purely local or local Teams testing, you run the experience from your own computer.</span></span> <span data-ttu-id="a3b91-114">Isso permite que você realmente compile e execute dentro do seu IDE e tire o máximo proveito dessas técnicas como pontos de interrupção e depuração de etapa.</span><span class="sxs-lookup"><span data-stu-id="a3b91-114">This allows you to actually compile and run within your IDE, and take full advantage of such techniques as breakpoints and step debugging.</span></span> <span data-ttu-id="a3b91-115">Para depuração e teste de escala de produção, recomendamos que você siga as diretrizes de sua empresa para garantir que você possa dar suporte ao teste, preparação e implantação por meio de seus próprios processos.</span><span class="sxs-lookup"><span data-stu-id="a3b91-115">For production-scale debugging and testing, we recommend that you follow your own company guidelines to ensure you are able to support testing, staging, and deployment through your own processes.</span></span>

<span data-ttu-id="a3b91-116">Em geral, recomendamos que você use vários manifestos e pacotes para permitir que você mantenha a separação entre serviços de produção e desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="a3b91-116">In general we recommend you use multiple manifests and packages to allow you to maintain separation between production and development services.</span></span> <span data-ttu-id="a3b91-117">Por exemplo, você pode optar por registrar bots de desenvolvimento e produção separados e criar pacotes apropriados para carregá-los no seu ambiente de teste.</span><span class="sxs-lookup"><span data-stu-id="a3b91-117">For example, you might choose to register separate development and production bots and create appropriate packages to upload them in your testing environment.</span></span> <span data-ttu-id="a3b91-118">Recomendamos também carregar e testar seu pacote de produção antes de enviar o aplicativo para publicação em nossa loja de aplicativos ou distribuir para os clientes.</span><span class="sxs-lookup"><span data-stu-id="a3b91-118">We also recommend you upload and test your production package before submitting your app for publishing in our app store, or distributing to customers.</span></span>

## <a name="purely-local"></a><span data-ttu-id="a3b91-119">Puramente local</span><span class="sxs-lookup"><span data-stu-id="a3b91-119">Purely local</span></span>

> [!NOTE]
> <span data-ttu-id="a3b91-120">A execução desse modo não dá acesso à funcionalidade do aplicativo do teams ou às funções de bot específicas da equipe, como chamadas de lista e outros recursos específicos do canal.</span><span class="sxs-lookup"><span data-stu-id="a3b91-120">Running this way does not give you access to Teams app functionality or Teams-specific bot functions like roster calls and other channel-specific functionality.</span></span> <span data-ttu-id="a3b91-121">Além disso, alguns recursos podem ser permitidos pela estrutura de bot no emulador de bot que podem não funcionar durante a execução no Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="a3b91-121">In addition, some capabilities may be allowed by the Bot Framework in the Bot Emulator that might not function when running in Microsoft Teams.</span></span>

<span data-ttu-id="a3b91-122">Seu bot pode ser executado no emulador de bot.</span><span class="sxs-lookup"><span data-stu-id="a3b91-122">Your bot can be run within the Bot Emulator.</span></span> <span data-ttu-id="a3b91-123">Isso permite testar algumas das principais lógicas do bot, ver um layout áspero de mensagens e realizar testes simples.</span><span class="sxs-lookup"><span data-stu-id="a3b91-123">This enables you to test some of the core logic of the bot, see a rough layout of messages, and perform simple tests.</span></span> <span data-ttu-id="a3b91-124">Estas são as etapas:</span><span class="sxs-lookup"><span data-stu-id="a3b91-124">Here are the steps:</span></span>

* <span data-ttu-id="a3b91-125">Executar o código localmente</span><span class="sxs-lookup"><span data-stu-id="a3b91-125">Run the code locally</span></span>
* <span data-ttu-id="a3b91-126">Inicie o emulador de bot e defina a URL:</span><span class="sxs-lookup"><span data-stu-id="a3b91-126">Launch the Bot Emulator and set the URL:</span></span>
  * <span data-ttu-id="a3b91-127">Node.js: `http://localhost:3978/api/messages`</span><span class="sxs-lookup"><span data-stu-id="a3b91-127">Node.js: `http://localhost:3978/api/messages`</span></span>
  * <span data-ttu-id="a3b91-128">.NET/C#: `http://localhost:3979/api/messages`</span><span class="sxs-lookup"><span data-stu-id="a3b91-128">.NET/C#: `http://localhost:3979/api/messages`</span></span>
* <span data-ttu-id="a3b91-129">Deixe em branco a ID do aplicativo Microsoft e a senha do Microsoft App para corresponder às variáveis de ambiente padrão.</span><span class="sxs-lookup"><span data-stu-id="a3b91-129">Leave the Microsoft app ID and Microsoft app password blank, to match the default environment variables.</span></span>

## <a name="locally-hosted"></a><span data-ttu-id="a3b91-130">Hospedado localmente</span><span class="sxs-lookup"><span data-stu-id="a3b91-130">Locally hosted</span></span>

<span data-ttu-id="a3b91-131">Como o Microsoft Teams é um produto totalmente baseado em nuvem, ele exige todos os serviços que ele acessa para estar disponível publicamente usando pontos de extremidade HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a3b91-131">Because Microsoft Teams is an entirely cloud-based product, it requires all services it accesses to be available publicly using HTTPS endpoints.</span></span> <span data-ttu-id="a3b91-132">Portanto, para permitir que seu aplicativo funcione no Teams, você precisa publicar o código na nuvem de sua escolha ou tornar nossa instância em execução externamente acessível.</span><span class="sxs-lookup"><span data-stu-id="a3b91-132">Therefore, to enable your app to work within Teams, you need to either publish the code to the cloud of your choice, or make our local running instance externally accessible.</span></span> <span data-ttu-id="a3b91-133">Podemos fazer o último com o software de encapsulamento.</span><span class="sxs-lookup"><span data-stu-id="a3b91-133">We can do the latter with tunneling software.</span></span>

<span data-ttu-id="a3b91-134">Embora você possa usar qualquer ferramenta de escolha, usamos e recomendamos o [ngrok](https://ngrok.com/download), que cria uma URL endereçável externamente para uma porta que você abre localmente no seu computador.</span><span class="sxs-lookup"><span data-stu-id="a3b91-134">Although you can use any tool of choice, we use and recommend [ngrok](https://ngrok.com/download), which creates an externally addressable URL for a port you open locally on your machine.</span></span> <span data-ttu-id="a3b91-135">Para configurar o ngrok em preparação para executar seu aplicativo do Microsoft Teams localmente:</span><span class="sxs-lookup"><span data-stu-id="a3b91-135">To set up ngrok in preparation for running your Microsoft Teams app locally:</span></span>

* <span data-ttu-id="a3b91-136">Em um aplicativo de terminal, vá para o diretório onde você tem o ngrok.exe instalado.</span><span class="sxs-lookup"><span data-stu-id="a3b91-136">In a terminal application, go the directory where you have ngrok.exe installed.</span></span> <span data-ttu-id="a3b91-137">Talvez você queira adicioná-lo como uma variável de caminho para evitar esta etapa.</span><span class="sxs-lookup"><span data-stu-id="a3b91-137">You may want to add it as a path variable to avoid this step.</span></span>
* <span data-ttu-id="a3b91-138">Executar, por exemplo, `ngrok http 3978 --host-header=localhost:3978` ou substituir o número da porta, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="a3b91-138">Run, for example, `ngrok http 3978 --host-header=localhost:3978`, or replace the port number as needed.</span></span>

<span data-ttu-id="a3b91-139">Isso inicia o ngrok para escutar na porta que você especificar.</span><span class="sxs-lookup"><span data-stu-id="a3b91-139">This launches ngrok to listen on the port you specify.</span></span> <span data-ttu-id="a3b91-140">Em retorno, ele fornece uma URL endereçável externamente, válida por enquanto o ngrok está em execução.</span><span class="sxs-lookup"><span data-stu-id="a3b91-140">In return, it gives you an externally addressable URL, valid for as long as ngrok is running.</span></span>

> [!NOTE]
> <span data-ttu-id="a3b91-141">Se você parar e reiniciar o ngrok, a URL será alterada.</span><span class="sxs-lookup"><span data-stu-id="a3b91-141">If you stop and restart ngrok, the URL changes.</span></span>

<span data-ttu-id="a3b91-142">Para usar o ngrok em seu projeto e, dependendo dos recursos que você está usando, você deve substituir todas as referências de URL em seu código, configuração e/ou manifest.jsno arquivo para usar esse ponto de extremidade de URL.</span><span class="sxs-lookup"><span data-stu-id="a3b91-142">To use ngrok in your project, and depending on the capabilities you are using, you must replace all URL references in your code, configuration, and/or manifest.json file to use this URL endpoint.</span></span>

<span data-ttu-id="a3b91-143">Por exemplo, para bots registrados no Microsoft bot Framework, atualize o ponto de extremidade de mensagens do bot para usar esse novo ponto de extremidade do ngrok.</span><span class="sxs-lookup"><span data-stu-id="a3b91-143">For example, for bots registered in the Microsoft Bot Framework, update the bot's messaging endpoint to use this new ngrok endpoint.</span></span> <span data-ttu-id="a3b91-144">Por exemplo, `https://2d1224fb.ngrok.io/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="a3b91-144">For example, `https://2d1224fb.ngrok.io/api/messages`.</span></span> <span data-ttu-id="a3b91-145">Você pode validar que o ngrok está funcionando testando a resposta do bot na janela de chat de teste do portal da estrutura do bot.</span><span class="sxs-lookup"><span data-stu-id="a3b91-145">You can validate that ngrok is working by testing bot response in the Bot Framework portal's Test chat window.</span></span> <span data-ttu-id="a3b91-146">(Novamente, como o emulador, esse teste não permite acessar a funcionalidade específica da equipe.)</span><span class="sxs-lookup"><span data-stu-id="a3b91-146">(Again, like the emulator, this test doesn't allow you to access Teams-specific functionality.)</span></span>

> [!NOTE]
> <span data-ttu-id="a3b91-147">Para atualizar o ponto de extremidade de mensagens de um bot, você deve usar a estrutura do bot.</span><span class="sxs-lookup"><span data-stu-id="a3b91-147">To update the messaging endpoint for a bot, you must use the Bot Framework.</span></span> <span data-ttu-id="a3b91-148">Clique no bot na [sua lista de bots no bot Framework](https://dev.botframework.com/bots).</span><span class="sxs-lookup"><span data-stu-id="a3b91-148">Click on your bot in [your list of bots in Bot Framework](https://dev.botframework.com/bots).</span></span> <span data-ttu-id="a3b91-149">Você não precisa migrar o bot para o Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="a3b91-149">You do not need to migrate your bot to Microsoft Azure.</span></span> <span data-ttu-id="a3b91-150">Você também pode atualizar seu ponto de extremidade de mensagens por meio do [app Studio](~/concepts/build-and-test/app-studio-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a3b91-150">You can also update your messaging endpoint through [App Studio](~/concepts/build-and-test/app-studio-overview.md).</span></span>

## <a name="cloud-hosted"></a><span data-ttu-id="a3b91-151">Hospedado na nuvem</span><span class="sxs-lookup"><span data-stu-id="a3b91-151">Cloud-hosted</span></span>

<span data-ttu-id="a3b91-152">Você pode usar qualquer serviço endereçável externamente para hospedar seu código de desenvolvimento e de produção e seus pontos de extremidade HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a3b91-152">You can use any externally addressable service to host your development and production code and their HTTPS endpoints.</span></span> <span data-ttu-id="a3b91-153">Não há expectativas de que seus recursos residem no mesmo serviço.</span><span class="sxs-lookup"><span data-stu-id="a3b91-153">There is no expectation that your capabilities reside on the same service.</span></span> <span data-ttu-id="a3b91-154">É necessário que todos os domínios acessados a partir de seus aplicativos do Microsoft Teams sejam listados no [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) objeto no manifest.jsem arquivo.</span><span class="sxs-lookup"><span data-stu-id="a3b91-154">We do require that all domains being accessed from your Microsoft Teams apps be listed in the [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) object in the manifest.json file.</span></span>

> [!NOTE]
> <span data-ttu-id="a3b91-155">Para garantir um ambiente seguro, seja explícito sobre o domínio exato e os subdomínios que você referencia, e esses domínios devem estar no seu controle.</span><span class="sxs-lookup"><span data-stu-id="a3b91-155">To ensure a secure environment, be explicit about the exact domain and subdomains you reference, and those domains must be in your control.</span></span> <span data-ttu-id="a3b91-156">Por exemplo, `*.azurewebsites.net` não seria recomendável, mas sim `contoso.azurewebsites.net` .</span><span class="sxs-lookup"><span data-stu-id="a3b91-156">For example, `*.azurewebsites.net` would not be recommended, but `contoso.azurewebsites.net` would.</span></span>

## <a name="loading-and-running"></a><span data-ttu-id="a3b91-157">Carregando e executando</span><span class="sxs-lookup"><span data-stu-id="a3b91-157">Loading and running</span></span>

<span data-ttu-id="a3b91-158">Em geral, para carregar e executar sua experiência no Microsoft Teams, você precisa criar um pacote e carregá-lo no Teams, usando as seguintes orientações:</span><span class="sxs-lookup"><span data-stu-id="a3b91-158">In general, to load and run your experience within Microsoft Teams, you need to create a package and upload it into Teams, using the following guidance:</span></span>

* [<span data-ttu-id="a3b91-159">Criar o pacote para seu aplicativo do Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="a3b91-159">Create the package for your Microsoft Teams app</span></span>](~/concepts/build-and-test/apps-package.md)
* [<span data-ttu-id="a3b91-160">Carregar seu aplicativo no Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="a3b91-160">Upload your app in Microsoft Teams</span></span>](~/concepts/deploy-and-publish/apps-upload.md)
