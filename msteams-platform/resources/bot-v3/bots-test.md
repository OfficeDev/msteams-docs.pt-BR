---
title: Teste e depure seu bot
description: Descreve como testar bots em Microsoft Teams
keywords: equipes bots testando
ms.topic: how-to
localization_priority: Normal
ms.date: 03/20/2019
ms.openlocfilehash: 269b0680e45d764cf4cb0269c40d3d202145edb8
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566457"
---
# <a name="test-and-debug-your-microsoft-teams-bot"></a><span data-ttu-id="2b807-104">Teste e depure seu bot de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="2b807-104">Test and debug your Microsoft Teams bot</span></span>

[!include[v3-to-v4-SDK-pointer](~/includes/v3-to-v4-pointer-bots.md)]

<span data-ttu-id="2b807-105">Ao testar seu bot, você precisa levar em consideração tanto o contexto(s) que você deseja que seu bot seja executado, bem como qualquer funcionalidade que você possa ter adicionado ao seu bot que requer dados específicos para Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-105">When testing your bot you need to take into consideration both the context(s) you want your bot to run in, as well as any functionality you may have added to your bot that requires data specific to Microsoft Teams.</span></span> <span data-ttu-id="2b807-106">Certifique-se de que o método escolhido para testar seu bot esteja alinhado com sua funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="2b807-106">Make sure that the method you chose to test your bot aligns with its functionality.</span></span>

## <a name="test-by-uploading-to-teams"></a><span data-ttu-id="2b807-107">Teste carregando para Teams</span><span class="sxs-lookup"><span data-stu-id="2b807-107">Test by uploading to Teams</span></span>

<span data-ttu-id="2b807-108">A maneira mais abrangente de testar seu bot é criando um pacote de aplicativos e enviando-o para Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-108">The most comprehensive way to test your bot is by creating an app package and uploading it to Teams.</span></span> <span data-ttu-id="2b807-109">Este é o único método para testar toda a funcionalidade disponível para o seu bot, em todos os escopos.</span><span class="sxs-lookup"><span data-stu-id="2b807-109">This is the only method to test the full functionality available to your bot, across all scopes.</span></span>

<span data-ttu-id="2b807-110">Existem dois métodos para carregar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2b807-110">There are two methods for uploading your app.</span></span> <span data-ttu-id="2b807-111">Você pode usar [o App Studio](~/concepts/build-and-test/app-studio-overview.md) para ajudá-lo, ou pode criar manualmente um pacote de [aplicativos](~/concepts/build-and-test/apps-package.md) e carregar [seu aplicativo](~/concepts/deploy-and-publish/apps-upload.md).</span><span class="sxs-lookup"><span data-stu-id="2b807-111">You can either use [App Studio](~/concepts/build-and-test/app-studio-overview.md) to help you, or you can manually [create an app package](~/concepts/build-and-test/apps-package.md) and [upload your app](~/concepts/deploy-and-publish/apps-upload.md).</span></span> <span data-ttu-id="2b807-112">Se você precisar alterar seu manifesto e recarregar seu aplicativo, você deve [excluir seu bot](#deleting-a-bot-from-teams) antes de carregar seu pacote de aplicativo alterado.</span><span class="sxs-lookup"><span data-stu-id="2b807-112">If you need to alter your manifest and re-upload your app, you should [delete your bot](#deleting-a-bot-from-teams) before uploading your altered app package.</span></span>

## <a name="debug-your-bot-locally"></a><span data-ttu-id="2b807-113">Depurar seu bot localmente</span><span class="sxs-lookup"><span data-stu-id="2b807-113">Debug your bot locally</span></span>

<span data-ttu-id="2b807-114">Se você estiver hospedando seu bot localmente durante o desenvolvimento, você precisará usar um serviço de tunelamento como [ngrok](https://ngrok.com/) para testar seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-114">If you are hosting your bot locally during development you'll need to use a tunneling service like [ngrok](https://ngrok.com/) in order to test your bot.</span></span> <span data-ttu-id="2b807-115">Depois de baixar e instalar ngrok, execute o comando abaixo para iniciar o serviço de tunelamento.</span><span class="sxs-lookup"><span data-stu-id="2b807-115">Once you've downloaded and installed ngrok, run the below command to start the tunneling service.</span></span> <span data-ttu-id="2b807-116">Você pode precisar adicionar ngrok ao seu caminho.</span><span class="sxs-lookup"><span data-stu-id="2b807-116">You may need to add ngrok to your path.</span></span>

```bash
ngrok http <port> -host-header=localhost:<port>
```

<span data-ttu-id="2b807-117">Use o ponto final https fornecido pela ngrok em seu manifesto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2b807-117">Use the https endpoint provided by ngrok in your app manifest.</span></span> <span data-ttu-id="2b807-118">Se você fechar sua janela de comando e reiniciar, você terá uma nova URL, e você precisará atualizar seu endereço de ponto final do bot para usar esse também.</span><span class="sxs-lookup"><span data-stu-id="2b807-118">If you close your command window and restart you'll get a new URL, and you'll need to update your bot endpoint address to use that one as well.</span></span>

## <a name="testing-your-bot-without-uploading-to-teams"></a><span data-ttu-id="2b807-119">Testando seu bot sem fazer upload para Teams</span><span class="sxs-lookup"><span data-stu-id="2b807-119">Testing your bot without uploading to Teams</span></span>

<span data-ttu-id="2b807-120">Ocasionalmente, pode ser necessário testar seu bot sem instalá-lo como um aplicativo em Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-120">Occasionally it may be necessary to test your bot without installing it as an app in Teams.</span></span> <span data-ttu-id="2b807-121">Nós fornecemos dois métodos para fazê-lo abaixo.</span><span class="sxs-lookup"><span data-stu-id="2b807-121">We provide two methods for doing so below.</span></span> <span data-ttu-id="2b807-122">Testar seu bot sem instalá-lo como um aplicativo pode ser útil para garantir que seu bot esteja disponível e respondendo, no entanto, ele não permitirá que você teste toda a amplitude da funcionalidade Microsoft Teams que você pode ter adicionado ao seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-122">Testing your bot without installing it as an app can be useful to ensure your bot is available and responding, however it will not allow you to test the full breadth of Microsoft Teams functionality you may have added to your bot.</span></span> <span data-ttu-id="2b807-123">Se você precisar testar totalmente o seu bot, siga as instruções para [testar carregando](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="2b807-123">If you need to fully test your bot, please follow the instructions for [testing by uploading](#test-by-uploading-to-teams).</span></span>

### <a name="use-the-bot-emulator"></a><span data-ttu-id="2b807-124">Use o Emulador de Bot</span><span class="sxs-lookup"><span data-stu-id="2b807-124">Use the Bot Emulator</span></span>

<span data-ttu-id="2b807-125">O Bot Framework Emulator é um aplicativo de desktop que permite que os desenvolvedores de bots testem e depurem seus bots, local ou remotamente.</span><span class="sxs-lookup"><span data-stu-id="2b807-125">The Bot Framework Emulator is a desktop application that allows bot developers to test and debug their bots, either locally or remotely.</span></span> <span data-ttu-id="2b807-126">Usando o emulador, você pode conversar com seu bot e inspecionar as mensagens que seu bot envia e recebe.</span><span class="sxs-lookup"><span data-stu-id="2b807-126">Using the emulator, you can chat with your bot and inspect the messages that your bot sends and receives.</span></span> <span data-ttu-id="2b807-127">Isso pode ser útil para verificar se o seu bot está disponível e responder, no entanto, o emulador não permitirá que você teste qualquer funcionalidade específica Teams que você adicionou ao seu bot, nem as respostas do seu bot serão uma representação visual precisa de como elas serão renderizadas em Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-127">This can be useful for verifying that your bot is available and responding, however the emulator will not allow you to test any Teams-specific functionality you've added to your bot, nor will responses from your bot be an accurate visual representation of how they will be rendered in Teams.</span></span> <span data-ttu-id="2b807-128">Se você precisa testar qualquer uma dessas coisas é melhor [carregar o seu bot](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="2b807-128">If you need to test either of those things it is best to [upload your bot](#test-by-uploading-to-teams).</span></span>

<span data-ttu-id="2b807-129">Instruções completas sobre o Bot Framework Emulator podem ser [encontradas aqui](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true).</span><span class="sxs-lookup"><span data-stu-id="2b807-129">Complete instructions on the Bot Framework Emulator can be found [here](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true).</span></span>

### <a name="talk-to-your-bot-directly-by-id"></a><span data-ttu-id="2b807-130">Fale com seu bot diretamente por Id</span><span class="sxs-lookup"><span data-stu-id="2b807-130">Talk to your bot directly by Id</span></span>

>[!Important]
><span data-ttu-id="2b807-131">Falar com seu bot por identificação destina-se apenas a fins de teste.</span><span class="sxs-lookup"><span data-stu-id="2b807-131">Talking to your bot by Id is intended for testing purposes only.</span></span>

<span data-ttu-id="2b807-132">Você também pode iniciar uma conversa com seu bot usando seu Id. Dois métodos para fazê-lo são dados abaixo.</span><span class="sxs-lookup"><span data-stu-id="2b807-132">You can also initiate a conversation with your bot by using its Id. Two methods for doing so are given below.</span></span> <span data-ttu-id="2b807-133">Quando um bot foi adicionado através de um desses métodos, ele não será endereçado em conversas de canal, e você não pode tirar proveito de outros recursos de aplicativos Microsoft Teams, como guias ou extensões de mensagens.</span><span class="sxs-lookup"><span data-stu-id="2b807-133">When a bot has been added through one of these methods it will not be addressable in channel conversations, and you cannot take advantage of other Microsoft Teams app capabilities like tabs or messaging extensions.</span></span>

1. <span data-ttu-id="2b807-134">Na página [Bot Dashboard](https://dev.botframework.com/bots) para o seu bot, em **Canais,** selecione **Adicionar ao Microsoft Teams**.</span><span class="sxs-lookup"><span data-stu-id="2b807-134">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Channels**, select **Add to Microsoft Teams**.</span></span> <span data-ttu-id="2b807-135">Microsoft Teams será lançado com um bate-papo pessoal com seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-135">Microsoft Teams will launch with a personal chat with your bot.</span></span>
2. <span data-ttu-id="2b807-136">Consulte diretamente o ID do aplicativo do seu bot de dentro de Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="2b807-136">Directly reference your bot's app ID from within Microsoft Teams:</span></span>
   * <span data-ttu-id="2b807-137">Na página [Do Painel de Bots](https://dev.botframework.com/bots) para o seu bot, em **Detalhes,** copie o **ID do Microsoft App** para o seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-137">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Details**, copy the **Microsoft App ID** for your bot.</span></span>
  
     ![Obtendo o AppID para o bot](~/assets/images/bots_appid_botframework.png)
  
   * <span data-ttu-id="2b807-139">De dentro Microsoft Teams, no painel **Chat,** selecione o ícone **Adicionar chat.**</span><span class="sxs-lookup"><span data-stu-id="2b807-139">From within Microsoft Teams, on the **Chat** pane, select the **Add chat** icon.</span></span> <span data-ttu-id="2b807-140">**Para:**, cole o ID do aplicativo Microsoft do seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-140">For **To:**, paste your bot's Microsoft App ID.</span></span>
  
     ![Carregando o AppID para o bot](~/assets/images/bots_uploading.png)

     <span data-ttu-id="2b807-142">O ID do aplicativo deve ser resolvido com o nome do seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-142">The app ID should resolve to your bot name.</span></span>

   * <span data-ttu-id="2b807-143">Selecione seu bot e envie uma mensagem para iniciar uma conversa.</span><span class="sxs-lookup"><span data-stu-id="2b807-143">Select your bot and send a message to initiate a conversation.</span></span>
   * <span data-ttu-id="2b807-144">Alternativamente, você pode colar o ID do aplicativo do seu bot na caixa de pesquisa no canto superior esquerdo em Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-144">Alternatively, you can paste your bot's app ID in the search box in the top left in Microsoft Teams.</span></span> <span data-ttu-id="2b807-145">Na página de resultados de pesquisa, navegue até a guia Pessoas para ver seu bot e comece a conversar com ele.</span><span class="sxs-lookup"><span data-stu-id="2b807-145">In the search results page, navigate to the People tab to see your bot and to start chatting with it.</span></span>

<span data-ttu-id="2b807-146">Seu bot receberá o `conversationUpdate` evento assim como bots adicionados a uma equipe, mas sem as informações da equipe no `channelData` objeto.</span><span class="sxs-lookup"><span data-stu-id="2b807-146">Your bot will receive the `conversationUpdate` event just like bots added to a team, but without the team information in the `channelData` object.</span></span>

## <a name="blocking-a-bot-in-personal-chat"></a><span data-ttu-id="2b807-147">Bloqueando um bot em bate-papo pessoal</span><span class="sxs-lookup"><span data-stu-id="2b807-147">Blocking a bot in personal chat</span></span>

<span data-ttu-id="2b807-148">Observe que os usuários podem optar por bloquear seu bot de enviar mensagens de bate-papo pessoais.</span><span class="sxs-lookup"><span data-stu-id="2b807-148">Note that users can choose to block your bot from sending personal chat messages.</span></span> <span data-ttu-id="2b807-149">Eles podem alternar isso clicando com o botão direito do mouse no seu bot no canal de bate-papo e escolhendo **bloquear a conversa do bot**.</span><span class="sxs-lookup"><span data-stu-id="2b807-149">They may toggle this by right-clicking your bot in the chat channel and choosing **Block bot conversation**.</span></span> <span data-ttu-id="2b807-150">Isso significa que seus bots continuarão a enviar mensagens, mas o usuário não receberá essas mensagens.</span><span class="sxs-lookup"><span data-stu-id="2b807-150">This means your bots will continue to send messages but the user will not receive those messages.</span></span>

![Bloqueando um bot](~/assets/images/bots/botdisable.png)

## <a name="removing-a-bot-from-a-team"></a><span data-ttu-id="2b807-152">Removendo um bot de uma equipe</span><span class="sxs-lookup"><span data-stu-id="2b807-152">Removing a bot from a team</span></span>

<span data-ttu-id="2b807-153">Os usuários podem excluir o bot escolhendo o ícone de lata de lixo na lista de bots na exibição de suas equipes.</span><span class="sxs-lookup"><span data-stu-id="2b807-153">Users can delete the bot by choosing the trash-can icon on the bots list in their teams view.</span></span> <span data-ttu-id="2b807-154">Observe que isso só remove o bot do uso dessa equipe; usuários individuais ainda poderão interagir em contexto pessoal.</span><span class="sxs-lookup"><span data-stu-id="2b807-154">Note that this only removes the bot from that team's use; individual users will still be able to interact in personal context.</span></span>

<span data-ttu-id="2b807-155">Bots em contexto pessoal não podem ser desativados ou removidos por um usuário, a não ser remover completamente o bot de Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-155">Bots in personal context cannot be disabled or removed by a user, short of completely removing the bot from Teams.</span></span>

## <a name="disabling-a-bot-in-teams"></a><span data-ttu-id="2b807-156">Desativando um bot em Teams</span><span class="sxs-lookup"><span data-stu-id="2b807-156">Disabling a bot in Teams</span></span>

<span data-ttu-id="2b807-157">Para impedir que seu bot receba mensagens, vá ao seu Bot Dashboard e edite o canal Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-157">To stop your bot receiving messages, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="2b807-158">Limpe a opção **Ativar Microsoft Teams.**</span><span class="sxs-lookup"><span data-stu-id="2b807-158">Clear the **Enable on Microsoft Teams** option.</span></span> <span data-ttu-id="2b807-159">Isso impede que os usuários interajam com o bot, mas ele ainda será possível e os usuários ainda poderão adicioná-lo às equipes.</span><span class="sxs-lookup"><span data-stu-id="2b807-159">This prevents users from interacting with the bot, but it will still be discoverable and users will still be able to add it to teams.</span></span>

## <a name="deleting-a-bot-from-teams"></a><span data-ttu-id="2b807-160">Excluindo um robô de Teams</span><span class="sxs-lookup"><span data-stu-id="2b807-160">Deleting a bot from Teams</span></span>

<span data-ttu-id="2b807-161">Para remover seu bot completamente de Teams, vá para o seu Bot Dashboard e edite o canal Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="2b807-161">To remove your bot completely from Teams, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="2b807-162">Escolha o botão **Excluir** na parte inferior.</span><span class="sxs-lookup"><span data-stu-id="2b807-162">Choose the **Delete** button at the bottom.</span></span> <span data-ttu-id="2b807-163">Isso impede que os usuários descubram, adoem ou interajam com seu bot.</span><span class="sxs-lookup"><span data-stu-id="2b807-163">This prevents users from discovering, adding, or interacting with your bot.</span></span> <span data-ttu-id="2b807-164">Observe que isso não remove o bot das instâncias Teams de outros usuários, embora ele deixe de funcionar para eles também.</span><span class="sxs-lookup"><span data-stu-id="2b807-164">Note that this does not remove the bot from other users' Teams instances, although it will cease functioning for them as well.</span></span>

## <a name="removing-your-bot-from-appsource"></a><span data-ttu-id="2b807-165">Removendo seu bot do AppSource</span><span class="sxs-lookup"><span data-stu-id="2b807-165">Removing your bot from AppSource</span></span>

<span data-ttu-id="2b807-166">Se você quiser remover seu bot do seu aplicativo Teams no AppSource (anteriormente Office Store), você deve remover o bot do manifesto do aplicativo e reenviar seu aplicativo para validação.</span><span class="sxs-lookup"><span data-stu-id="2b807-166">If you want to remove your bot from your Teams app in AppSource (previously Office Store), you must remove the bot from your app manifest and resubmit your app for validation.</span></span> <span data-ttu-id="2b807-167">Para obter mais informações, consulte [Publicar seu aplicativo Microsoft Teams para AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span><span class="sxs-lookup"><span data-stu-id="2b807-167">For more information, see [Publish your Microsoft Teams app to AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span></span>
